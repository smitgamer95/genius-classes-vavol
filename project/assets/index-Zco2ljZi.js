(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function vp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yf={exports:{}},fl={},vf={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function r1(){if(Ly)return Le;Ly=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,M={};function j(U,W,ue){this.props=U,this.context=W,this.refs=M,this.updater=ue||I}j.prototype.isReactComponent={},j.prototype.setState=function(U,W){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,W,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function X(){}X.prototype=j.prototype;function Q(U,W,ue){this.props=U,this.context=W,this.refs=M,this.updater=ue||I}var H=Q.prototype=new X;H.constructor=Q,F(H,j.prototype),H.isPureReactComponent=!0;var ne=Array.isArray,de=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(U,W,ue){var ve,Te={},De=null,Ee=null;if(W!=null)for(ve in W.ref!==void 0&&(Ee=W.ref),W.key!==void 0&&(De=""+W.key),W)de.call(W,ve)&&!D.hasOwnProperty(ve)&&(Te[ve]=W[ve]);var Fe=arguments.length-2;if(Fe===1)Te.children=ue;else if(1<Fe){for(var We=Array(Fe),dt=0;dt<Fe;dt++)We[dt]=arguments[dt+2];Te.children=We}if(U&&U.defaultProps)for(ve in Fe=U.defaultProps,Fe)Te[ve]===void 0&&(Te[ve]=Fe[ve]);return{$$typeof:n,type:U,key:De,ref:Ee,props:Te,_owner:K.current}}function R(U,W){return{$$typeof:n,type:U.type,key:W,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var W={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return W[ue]})}var L=/\/+/g;function C(U,W){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):W.toString(36)}function Oe(U,W,ue,ve,Te){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(De){case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=U,Te=Te(Ee),U=ve===""?"."+C(Ee,0):ve,ne(Te)?(ue="",U!=null&&(ue=U.replace(L,"$&/")+"/"),Oe(Te,W,ue,"",function(dt){return dt})):Te!=null&&(P(Te)&&(Te=R(Te,ue+(!Te.key||Ee&&Ee.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+U)),W.push(Te)),1;if(Ee=0,ve=ve===""?".":ve+":",ne(U))for(var Fe=0;Fe<U.length;Fe++){De=U[Fe];var We=ve+C(De,Fe);Ee+=Oe(De,W,ue,We,Te)}else if(We=b(U),typeof We=="function")for(U=We.call(U),Fe=0;!(De=U.next()).done;)De=De.value,We=ve+C(De,Fe++),Ee+=Oe(De,W,ue,We,Te);else if(De==="object")throw W=String(U),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Z(U,W,ue){if(U==null)return U;var ve=[],Te=0;return Oe(U,ve,"","",function(De){return W.call(ue,De,Te++)}),ve}function Ce(U){if(U._status===-1){var W=U._result;W=W(),W.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=W)}if(U._status===1)return U._result.default;throw U._result}var me={current:null},oe={transition:null},se={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:oe,ReactCurrentOwner:K};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Z,forEach:function(U,W,ue){Z(U,function(){W.apply(this,arguments)},ue)},count:function(U){var W=0;return Z(U,function(){W++}),W},toArray:function(U){return Z(U,function(W){return W})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=j,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=Q,Le.StrictMode=s,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Le.act=ae,Le.cloneElement=function(U,W,ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ve=F({},U.props),Te=U.key,De=U.ref,Ee=U._owner;if(W!=null){if(W.ref!==void 0&&(De=W.ref,Ee=K.current),W.key!==void 0&&(Te=""+W.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(We in W)de.call(W,We)&&!D.hasOwnProperty(We)&&(ve[We]=W[We]===void 0&&Fe!==void 0?Fe[We]:W[We])}var We=arguments.length-2;if(We===1)ve.children=ue;else if(1<We){Fe=Array(We);for(var dt=0;dt<We;dt++)Fe[dt]=arguments[dt+2];ve.children=Fe}return{$$typeof:n,type:U.type,key:Te,ref:De,props:ve,_owner:Ee}},Le.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Le.createElement=T,Le.createFactory=function(U){var W=T.bind(null,U);return W.type=U,W},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:h,render:U}},Le.isValidElement=P,Le.lazy=function(U){return{$$typeof:w,_payload:{_status:-1,_result:U},_init:Ce}},Le.memo=function(U,W){return{$$typeof:v,type:U,compare:W===void 0?null:W}},Le.startTransition=function(U){var W=oe.transition;oe.transition={};try{U()}finally{oe.transition=W}},Le.unstable_act=ae,Le.useCallback=function(U,W){return me.current.useCallback(U,W)},Le.useContext=function(U){return me.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return me.current.useDeferredValue(U)},Le.useEffect=function(U,W){return me.current.useEffect(U,W)},Le.useId=function(){return me.current.useId()},Le.useImperativeHandle=function(U,W,ue){return me.current.useImperativeHandle(U,W,ue)},Le.useInsertionEffect=function(U,W){return me.current.useInsertionEffect(U,W)},Le.useLayoutEffect=function(U,W){return me.current.useLayoutEffect(U,W)},Le.useMemo=function(U,W){return me.current.useMemo(U,W)},Le.useReducer=function(U,W,ue){return me.current.useReducer(U,W,ue)},Le.useRef=function(U){return me.current.useRef(U)},Le.useState=function(U){return me.current.useState(U)},Le.useSyncExternalStore=function(U,W,ue){return me.current.useSyncExternalStore(U,W,ue)},Le.useTransition=function(){return me.current.useTransition()},Le.version="18.3.1",Le}var Vy;function _p(){return Vy||(Vy=1,vf.exports=r1()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function s1(){if(My)return fl;My=1;var n=_p(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,v){var w,x={},b=null,I=null;v!==void 0&&(b=""+v),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(I=f.ref);for(w in f)s.call(f,w)&&!a.hasOwnProperty(w)&&(x[w]=f[w]);if(h&&h.defaultProps)for(w in f=h.defaultProps,f)x[w]===void 0&&(x[w]=f[w]);return{$$typeof:e,type:h,key:b,ref:I,props:x,_owner:o.current}}return fl.Fragment=t,fl.jsx=c,fl.jsxs=c,fl}var Uy;function i1(){return Uy||(Uy=1,yf.exports=s1()),yf.exports}var m=i1(),N=_p();const ce=vp(N);var _c={},_f={exports:{}},En={},wf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function o1(){return Fy||(Fy=1,(function(n){function e(oe,se){var ae=oe.length;oe.push(se);e:for(;0<ae;){var U=ae-1>>>1,W=oe[U];if(0<o(W,se))oe[U]=se,oe[ae]=W,ae=U;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var se=oe[0],ae=oe.pop();if(ae!==se){oe[0]=ae;e:for(var U=0,W=oe.length,ue=W>>>1;U<ue;){var ve=2*(U+1)-1,Te=oe[ve],De=ve+1,Ee=oe[De];if(0>o(Te,ae))De<W&&0>o(Ee,Te)?(oe[U]=Ee,oe[De]=ae,U=De):(oe[U]=Te,oe[ve]=ae,U=ve);else if(De<W&&0>o(Ee,ae))oe[U]=Ee,oe[De]=ae,U=De;else break e}}return se}function o(oe,se){var ae=oe.sortIndex-se.sortIndex;return ae!==0?ae:oe.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],v=[],w=1,x=null,b=3,I=!1,F=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(oe){for(var se=t(v);se!==null;){if(se.callback===null)s(v);else if(se.startTime<=oe)s(v),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(v)}}function ne(oe){if(M=!1,H(oe),!F)if(t(f)!==null)F=!0,Ce(de);else{var se=t(v);se!==null&&me(ne,se.startTime-oe)}}function de(oe,se){F=!1,M&&(M=!1,X(T),T=-1),I=!0;var ae=b;try{for(H(se),x=t(f);x!==null&&(!(x.expirationTime>se)||oe&&!k());){var U=x.callback;if(typeof U=="function"){x.callback=null,b=x.priorityLevel;var W=U(x.expirationTime<=se);se=n.unstable_now(),typeof W=="function"?x.callback=W:x===t(f)&&s(f),H(se)}else s(f);x=t(f)}if(x!==null)var ue=!0;else{var ve=t(v);ve!==null&&me(ne,ve.startTime-se),ue=!1}return ue}finally{x=null,b=ae,I=!1}}var K=!1,D=null,T=-1,R=5,P=-1;function k(){return!(n.unstable_now()-P<R)}function L(){if(D!==null){var oe=n.unstable_now();P=oe;var se=!0;try{se=D(!0,oe)}finally{se?C():(K=!1,D=null)}}else K=!1}var C;if(typeof Q=="function")C=function(){Q(L)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Z=Oe.port2;Oe.port1.onmessage=L,C=function(){Z.postMessage(null)}}else C=function(){j(L,0)};function Ce(oe){D=oe,K||(K=!0,C())}function me(oe,se){T=j(function(){oe(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){F||I||(F=!0,Ce(de))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ae=b;b=se;try{return oe()}finally{b=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,se){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ae=b;b=oe;try{return se()}finally{b=ae}},n.unstable_scheduleCallback=function(oe,se,ae){var U=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,oe){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ae+W,oe={id:w++,callback:se,priorityLevel:oe,startTime:ae,expirationTime:W,sortIndex:-1},ae>U?(oe.sortIndex=ae,e(v,oe),t(f)===null&&oe===t(v)&&(M?(X(T),T=-1):M=!0,me(ne,ae-U))):(oe.sortIndex=W,e(f,oe),F||I||(F=!0,Ce(de))),oe},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(oe){var se=b;return function(){var ae=b;b=se;try{return oe.apply(this,arguments)}finally{b=ae}}}})(xf)),xf}var By;function a1(){return By||(By=1,wf.exports=o1()),wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function l1(){if(zy)return En;zy=1;var n=_p(),e=a1();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function b(r){return f.call(x,r)?!0:f.call(w,r)?!1:v.test(r)?x[r]=!0:(w[r]=!0,!1)}function I(r,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,i,l,d){if(i===null||typeof i>"u"||I(r,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(r,i,l,d,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];j[i]=new M(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(X,Q);j[i]=new M(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(X,Q);j[i]=new M(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(X,Q);j[i]=new M(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,i,l,d){var p=j.hasOwnProperty(i)?j[i]:null;(p!==null?p.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(F(i,l,p,d)&&(l=null),d||p===null?b(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,i,l):r.setAttribute(i,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),oe=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,U;function W(r){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+r}var ue=!1;function ve(r,i){if(!r||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var d=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){d=q}r.call(i.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,A=y.length-1;1<=E&&0<=A&&p[E]!==y[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==y[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==y[A]){var O=`
`+p[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=A);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function Te(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=ve(r.type,!1),r;case 11:return r=ve(r.type.render,!1),r;case 1:return r=ve(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case K:return"Portal";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case Oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case k:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case L:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Z:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case Ce:i=r._payload,r=r._init;try{return De(r(i))}catch{}}return null}function Ee(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dt(r){var i=We(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function nn(r){r._valueTracker||(r._valueTracker=dt(r))}function Er(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==l?(i.setValue(r),!0):!1}function tr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Wr(r,i){var l=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Es(r,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=Fe(i.value!=null?i.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ts(r,i){i=i.checked,i!=null&&H(r,"checked",i,!1)}function Ci(r,i){Ts(r,i);var l=Fe(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ss(r,i.type,l):i.hasOwnProperty("defaultValue")&&Ss(r,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Is(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ss(r,i,l){(i!=="number"||tr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Mn=Array.isArray;function rn(r,i,l,d){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Fe(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function bs(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function dn(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Mn(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Fe(l)}}function Rs(r,i){var l=Fe(i.value),d=Fe(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ai(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ge(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ge(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nr,Ni=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,d,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=nr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function kn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(r){Tr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Gr[i]=Gr[r]})});function Kr(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Gr.hasOwnProperty(r)&&Gr[r]?(""+i).trim():i+"px"}function Un(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Kr(l,i[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ks=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(r,i){if(i){if(ks[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Pi(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Yr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xr=null,hn=null,fn=null;function sn(r){if(r=Ja(r)){if(typeof Xr!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Ou(i),Xr(r.stateNode,r.type,i))}}function Bn(r){hn?fn?fn.push(r):fn=[r]:hn=r}function be(){if(hn){var r=hn,i=fn;if(fn=hn=null,sn(r),i)for(r=0;r<i.length;r++)sn(i[r])}}function Ve(r,i){return r(i)}function Qe(){}var wt=!1;function Mt(r,i,l){if(wt)return r(i,l);wt=!0;try{return Ve(r,i,l)}finally{wt=!1,(hn!==null||fn!==null)&&(Qe(),be())}}function Ye(r,i){var l=r.stateNode;if(l===null)return null;var d=Ou(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var pn=!1;if(h)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){pn=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{pn=!1}function Gt(r,i,l,d,p,y,E,A,O){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(te){this.onError(te)}}var Di=!1,_o=null,rr=!1,Pa=null,Hd={onError:function(r){Di=!0,_o=r}};function wo(r,i,l,d,p,y,E,A,O){Di=!1,_o=null,Gt.apply(Hd,arguments)}function iu(r,i,l,d,p,y,E,A,O){if(wo.apply(this,arguments),Di){if(Di){var q=_o;Di=!1,_o=null}else throw Error(t(198));rr||(rr=!0,Pa=q)}}function sr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Oi(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ir(r){if(sr(r)!==r)throw Error(t(188))}function ou(r){var i=r.alternate;if(!i){if(i=sr(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,d=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ir(p),r;if(y===d)return ir(p),i;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,d=y;break}if(A===d){E=!0,d=p,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,d=p;break}if(A===d){E=!0,d=y,l=p;break}A=A.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function Da(r){return r=ou(r),r!==null?xo(r):null}function xo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=xo(r);if(i!==null)return i;r=r.sibling}return null}var Eo=e.unstable_scheduleCallback,Oa=e.unstable_cancelCallback,au=e.unstable_shouldYield,qd=e.unstable_requestPaint,rt=e.unstable_now,lu=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Cs=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,uu=e.unstable_IdlePriority,Li=null,Cn=null;function cu(r){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Li,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hu,La=Math.log,du=Math.LN2;function hu(r){return r>>>=0,r===0?32:31-(La(r)/du|0)|0}var To=64,Io=4194304;function As(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vi(r,i){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?d=As(A):(y&=E,y!==0&&(d=As(y)))}else E=l&~p,E!==0?d=As(E):y!==0&&(d=As(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&p)===0&&(p=d&-d,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)l=31-on(i),p=1<<l,d|=r[l],i&=~p;return d}function Wd(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(r,i){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-on(y),A=1<<E,O=p[E];O===-1?((A&l)===0||(A&d)!==0)&&(p[E]=Wd(A,i)):O<=i&&(r.expiredLanes|=A),y&=~A}}function An(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mi(){var r=To;return To<<=1,(To&4194240)===0&&(To=64),r}function Ns(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Ps(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=l}function tt(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-on(l),y=1<<p;i[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function Ds(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var d=31-on(l),p=1<<d;p&i|r[d]&i&&(r[d]|=i),l&=~p}}var Be=0;function Os(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var fu,So,pu,mu,gu,Va=!1,Ir=[],Ut=null,or=null,ar=null,js=new Map,$n=new Map,Sr=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(r,i){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":js.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(i.pointerId)}}function mn(r,i,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Ja(i),i!==null&&So(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function Kd(r,i,l,d,p){switch(i){case"focusin":return Ut=mn(Ut,r,i,l,d,p),!0;case"dragenter":return or=mn(or,r,i,l,d,p),!0;case"mouseover":return ar=mn(ar,r,i,l,d,p),!0;case"pointerover":var y=p.pointerId;return js.set(y,mn(js.get(y)||null,r,i,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,$n.set(y,mn($n.get(y)||null,r,i,l,d,p)),!0}return!1}function vu(r){var i=$i(r.target);if(i!==null){var l=sr(i);if(l!==null){if(i=l.tag,i===13){if(i=Oi(l),i!==null){r.blockedOn=i,gu(r.priority,function(){pu(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=bo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Qr=d,l.target.dispatchEvent(d),Qr=null}else return i=Ja(l),i!==null&&So(i),r.blockedOn=l,!1;i.shift()}return!0}function Ui(r,i,l){Zr(r)&&l.delete(i)}function _u(){Va=!1,Ut!==null&&Zr(Ut)&&(Ut=null),or!==null&&Zr(or)&&(or=null),ar!==null&&Zr(ar)&&(ar=null),js.forEach(Ui),$n.forEach(Ui)}function lr(r,i){r.blockedOn===i&&(r.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_u)))}function ur(r){function i(p){return lr(p,r)}if(0<Ir.length){lr(Ir[0],r);for(var l=1;l<Ir.length;l++){var d=Ir[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Ut!==null&&lr(Ut,r),or!==null&&lr(or,r),ar!==null&&lr(ar,r),js.forEach(i),$n.forEach(i),l=0;l<Sr.length;l++)d=Sr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Sr.length&&(l=Sr[0],l.blockedOn===null);)vu(l),l.blockedOn===null&&Sr.shift()}var es=ne.ReactCurrentBatchConfig,Ls=!0;function ut(r,i,l,d){var p=Be,y=es.transition;es.transition=null;try{Be=1,Ma(r,i,l,d)}finally{Be=p,es.transition=y}}function Qd(r,i,l,d){var p=Be,y=es.transition;es.transition=null;try{Be=4,Ma(r,i,l,d)}finally{Be=p,es.transition=y}}function Ma(r,i,l,d){if(Ls){var p=bo(r,i,l,d);if(p===null)oh(r,i,d,Fi,l),yu(r,d);else if(Kd(p,r,i,l,d))d.stopPropagation();else if(yu(r,d),i&4&&-1<Gd.indexOf(r)){for(;p!==null;){var y=Ja(p);if(y!==null&&fu(y),y=bo(r,i,l,d),y===null&&oh(r,i,d,Fi,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else oh(r,i,d,null,l)}}var Fi=null;function bo(r,i,l,d){if(Fi=null,r=Yr(d),r=$i(r),r!==null)if(i=sr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Oi(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Fi=r,null}function Ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lu()){case ji:return 1;case Cs:return 4;case zn:case ja:return 16;case uu:return 536870912;default:return 16}default:return 16}}var Nn=null,Ro=null,gn=null;function Fa(){if(gn)return gn;var r,i=Ro,l=i.length,d,p="value"in Nn?Nn.value:Nn.textContent,y=p.length;for(r=0;r<l&&i[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&i[l-d]===p[y-d];d++);return gn=p.slice(r,1<d?1-d:void 0)}function ko(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function Ba(){return!1}function Ft(r){function i(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?br:Ba,this.isPropagationStopped=Ba,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),i}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ft(cr),Rr=ae({},cr,{view:0,detail:0}),Yd=Ft(Rr),Ao,ts,Vs,Bi=ae({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vs&&(Vs&&r.type==="mousemove"?(Ao=r.screenX-Vs.screenX,ts=r.screenY-Vs.screenY):ts=Ao=0,Vs=r),Ao)},movementY:function(r){return"movementY"in r?r.movementY:ts}}),No=Ft(Bi),za=ae({},Bi,{dataTransfer:0}),wu=Ft(za),Po=ae({},Rr,{relatedTarget:0}),Do=Ft(Po),xu=ae({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),ns=Ft(xu),Eu=ae({},cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=Ft(Eu),Iu=ae({},cr,{data:0}),$a=Ft(Iu),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Su[r])?!!i[r]:!1}function kr(){return bu}var u=ae({},Rr,{key:function(r){if(r.key){var i=Oo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ko(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?an[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(r){return r.type==="keypress"?ko(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ko(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Ft(u),_=ae({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ft(_),B=ae({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),G=Ft(B),le=ae({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Ft(le),kt=ae({},Bi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Ft(kt),Dt=[9,13,27,32],Tt=h&&"CompositionEvent"in window,Hn=null;h&&"documentMode"in document&&(Hn=document.documentMode);var Pn=h&&"TextEvent"in window&&!Hn,zi=h&&(!Tt||Hn&&8<Hn&&11>=Hn),jo=" ",Am=!1;function Nm(r,i){switch(r){case"keyup":return Dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Lo=!1;function eE(r,i){switch(r){case"compositionend":return Pm(i);case"keypress":return i.which!==32?null:(Am=!0,jo);case"textInput":return r=i.data,r===jo&&Am?null:r;default:return null}}function tE(r,i){if(Lo)return r==="compositionend"||!Tt&&Nm(r,i)?(r=Fa(),gn=Ro=Nn=null,Lo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zi&&i.locale!=="ko"?null:i.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!nE[r.type]:i==="textarea"}function Om(r,i,l,d){Bn(d),i=Nu(i,"onChange"),0<i.length&&(l=new Co("onChange","change",null,l,d),r.push({event:l,listeners:i}))}var Ha=null,qa=null;function rE(r){Jm(r,0)}function Ru(r){var i=Bo(r);if(Er(i))return r}function sE(r,i){if(r==="change")return i}var jm=!1;if(h){var Xd;if(h){var Jd="oninput"in document;if(!Jd){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),Jd=typeof Lm.oninput=="function"}Xd=Jd}else Xd=!1;jm=Xd&&(!document.documentMode||9<document.documentMode)}function Vm(){Ha&&(Ha.detachEvent("onpropertychange",Mm),qa=Ha=null)}function Mm(r){if(r.propertyName==="value"&&Ru(qa)){var i=[];Om(i,qa,r,Yr(r)),Mt(rE,i)}}function iE(r,i,l){r==="focusin"?(Vm(),Ha=i,qa=l,Ha.attachEvent("onpropertychange",Mm)):r==="focusout"&&Vm()}function oE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ru(qa)}function aE(r,i){if(r==="click")return Ru(i)}function lE(r,i){if(r==="input"||r==="change")return Ru(i)}function uE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dr=typeof Object.is=="function"?Object.is:uE;function Wa(r,i){if(dr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(i,p)||!dr(r[p],i[p]))return!1}return!0}function Um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Fm(r,i){var l=Um(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=i&&d>=i)return{node:l,offset:i-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Um(l)}}function Bm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Bm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function zm(){for(var r=window,i=tr();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=tr(r.document)}return i}function Zd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function cE(r){var i=zm(),l=r.focusedElem,d=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Bm(l.ownerDocument.documentElement,l)){if(d!==null&&Zd(l)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Fm(l,y);var E=Fm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dE=h&&"documentMode"in document&&11>=document.documentMode,Vo=null,eh=null,Ga=null,th=!1;function $m(r,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;th||Vo==null||Vo!==tr(d)||(d=Vo,"selectionStart"in d&&Zd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ga&&Wa(Ga,d)||(Ga=d,d=Nu(eh,"onSelect"),0<d.length&&(i=new Co("onSelect","select",null,i,l),r.push({event:i,listeners:d}),i.target=Vo)))}function ku(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Mo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},nh={},Hm={};h&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Cu(r){if(nh[r])return nh[r];if(!Mo[r])return r;var i=Mo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Hm)return nh[r]=i[l];return r}var qm=Cu("animationend"),Wm=Cu("animationiteration"),Gm=Cu("animationstart"),Km=Cu("transitionend"),Qm=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(r,i){Qm.set(r,i),a(i,[r])}for(var rh=0;rh<Ym.length;rh++){var sh=Ym[rh],hE=sh.toLowerCase(),fE=sh[0].toUpperCase()+sh.slice(1);Ms(hE,"on"+fE)}Ms(qm,"onAnimationEnd"),Ms(Wm,"onAnimationIteration"),Ms(Gm,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(Km,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Xm(r,i,l){var d=r.type||"unknown-event";r.currentTarget=l,iu(d,i,void 0,r),r.currentTarget=null}function Jm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var E=d.length-1;0<=E;E--){var A=d[E],O=A.instance,q=A.currentTarget;if(A=A.listener,O!==y&&p.isPropagationStopped())break e;Xm(p,A,q),y=O}else for(E=0;E<d.length;E++){if(A=d[E],O=A.instance,q=A.currentTarget,A=A.listener,O!==y&&p.isPropagationStopped())break e;Xm(p,A,q),y=O}}}if(rr)throw r=Pa,rr=!1,Pa=null,r}function ot(r,i){var l=i[hh];l===void 0&&(l=i[hh]=new Set);var d=r+"__bubble";l.has(d)||(Zm(i,r,2,!1),l.add(d))}function ih(r,i,l){var d=0;i&&(d|=4),Zm(l,r,d,i)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Qa(r){if(!r[Au]){r[Au]=!0,s.forEach(function(l){l!=="selectionchange"&&(pE.has(l)||ih(l,!1,r),ih(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Au]||(i[Au]=!0,ih("selectionchange",!1,i))}}function Zm(r,i,l,d){switch(Ua(i)){case 1:var p=ut;break;case 4:p=Qd;break;default:p=Ma}l=p.bind(null,i,l,r),p=void 0,!pn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function oh(r,i,l,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;E=E.return}for(;A!==null;){if(E=$i(A),E===null)return;if(O=E.tag,O===5||O===6){d=y=E;continue e}A=A.parentNode}}d=d.return}Mt(function(){var q=y,te=Yr(l),re=[];e:{var ee=Qm.get(r);if(ee!==void 0){var fe=Co,ye=r;switch(r){case"keypress":if(ko(l)===0)break e;case"keydown":case"keyup":fe=g;break;case"focusin":ye="focus",fe=Do;break;case"focusout":ye="blur",fe=Do;break;case"beforeblur":case"afterblur":fe=Do;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=G;break;case qm:case Wm:case Gm:fe=ns;break;case Km:fe=Ze;break;case"scroll":fe=Yd;break;case"wheel":fe=ze;break;case"copy":case"cut":case"paste":fe=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=S}var _e=(i&4)!==0,xt=!_e&&r==="scroll",z=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var V=q,$;V!==null;){$=V;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,z!==null&&(ie=Ye(V,z),ie!=null&&_e.push(Ya(V,ie,$)))),xt)break;V=V.return}0<_e.length&&(ee=new fe(ee,ye,null,l,te),re.push({event:ee,listeners:_e}))}}if((i&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",ee&&l!==Qr&&(ye=l.relatedTarget||l.fromElement)&&($i(ye)||ye[rs]))break e;if((fe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,fe?(ye=l.relatedTarget||l.toElement,fe=q,ye=ye?$i(ye):null,ye!==null&&(xt=sr(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=q),fe!==ye)){if(_e=No,ie="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(_e=S,ie="onPointerLeave",z="onPointerEnter",V="pointer"),xt=fe==null?ee:Bo(fe),$=ye==null?ee:Bo(ye),ee=new _e(ie,V+"leave",fe,l,te),ee.target=xt,ee.relatedTarget=$,ie=null,$i(te)===q&&(_e=new _e(z,V+"enter",ye,l,te),_e.target=$,_e.relatedTarget=xt,ie=_e),xt=ie,fe&&ye)t:{for(_e=fe,z=ye,V=0,$=_e;$;$=Uo($))V++;for($=0,ie=z;ie;ie=Uo(ie))$++;for(;0<V-$;)_e=Uo(_e),V--;for(;0<$-V;)z=Uo(z),$--;for(;V--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=Uo(_e),z=Uo(z)}_e=null}else _e=null;fe!==null&&eg(re,ee,fe,_e,!1),ye!==null&&xt!==null&&eg(re,xt,ye,_e,!0)}}e:{if(ee=q?Bo(q):window,fe=ee.nodeName&&ee.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ee.type==="file")var we=sE;else if(Dm(ee))if(jm)we=lE;else{we=oE;var Ie=iE}else(fe=ee.nodeName)&&fe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(we=aE);if(we&&(we=we(r,q))){Om(re,we,l,te);break e}Ie&&Ie(r,ee,q),r==="focusout"&&(Ie=ee._wrapperState)&&Ie.controlled&&ee.type==="number"&&Ss(ee,"number",ee.value)}switch(Ie=q?Bo(q):window,r){case"focusin":(Dm(Ie)||Ie.contentEditable==="true")&&(Vo=Ie,eh=q,Ga=null);break;case"focusout":Ga=eh=Vo=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,$m(re,l,te);break;case"selectionchange":if(dE)break;case"keydown":case"keyup":$m(re,l,te)}var Se;if(Tt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Lo?Nm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(zi&&l.locale!=="ko"&&(Lo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Lo&&(Se=Fa()):(Nn=te,Ro="value"in Nn?Nn.value:Nn.textContent,Lo=!0)),Ie=Nu(q,Ae),0<Ie.length&&(Ae=new $a(Ae,r,null,l,te),re.push({event:Ae,listeners:Ie}),Se?Ae.data=Se:(Se=Pm(l),Se!==null&&(Ae.data=Se)))),(Se=Pn?eE(r,l):tE(r,l))&&(q=Nu(q,"onBeforeInput"),0<q.length&&(te=new $a("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:q}),te.data=Se))}Jm(re,i)})}function Ya(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Nu(r,i){for(var l=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Ye(r,l),y!=null&&d.unshift(Ya(r,y,p)),y=Ye(r,i),y!=null&&d.push(Ya(r,y,p))),r=r.return}return d}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function eg(r,i,l,d,p){for(var y=i._reactName,E=[];l!==null&&l!==d;){var A=l,O=A.alternate,q=A.stateNode;if(O!==null&&O===d)break;A.tag===5&&q!==null&&(A=q,p?(O=Ye(l,y),O!=null&&E.unshift(Ya(l,O,A))):p||(O=Ye(l,y),O!=null&&E.push(Ya(l,O,A)))),l=l.return}E.length!==0&&r.push({event:i,listeners:E})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function tg(r){return(typeof r=="string"?r:""+r).replace(mE,`
`).replace(gE,"")}function Pu(r,i,l){if(i=tg(i),tg(r)!==i&&l)throw Error(t(425))}function Du(){}var ah=null,lh=null;function uh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(r){return ng.resolve(null).then(r).catch(_E)}:ch;function _E(r){setTimeout(function(){throw r})}function dh(r,i){var l=i,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),ur(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);ur(i)}function Us(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function rg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Fo,Xa="__reactProps$"+Fo,rs="__reactContainer$"+Fo,hh="__reactEvents$"+Fo,wE="__reactListeners$"+Fo,xE="__reactHandles$"+Fo;function $i(r){var i=r[Cr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[rs]||l[Cr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=rg(r);r!==null;){if(l=r[Cr])return l;r=rg(r)}return i}r=l,l=r.parentNode}return null}function Ja(r){return r=r[Cr]||r[rs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Bo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[Xa]||null}var fh=[],zo=-1;function Fs(r){return{current:r}}function at(r){0>zo||(r.current=fh[zo],fh[zo]=null,zo--)}function st(r,i){zo++,fh[zo]=r.current,r.current=i}var Bs={},Kt=Fs(Bs),yn=Fs(!1),Hi=Bs;function $o(r,i){var l=r.type.contextTypes;if(!l)return Bs;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function vn(r){return r=r.childContextTypes,r!=null}function ju(){at(yn),at(Kt)}function sg(r,i,l){if(Kt.current!==Bs)throw Error(t(168));st(Kt,i),st(yn,l)}function ig(r,i,l){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in i))throw Error(t(108,Ee(r)||"Unknown",p));return ae({},l,d)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Bs,Hi=Kt.current,st(Kt,r),st(yn,yn.current),!0}function og(r,i,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=ig(r,i,Hi),d.__reactInternalMemoizedMergedChildContext=r,at(yn),at(Kt),st(Kt,r)):at(yn),st(yn,l)}var ss=null,Vu=!1,ph=!1;function ag(r){ss===null?ss=[r]:ss.push(r)}function EE(r){Vu=!0,ag(r)}function zs(){if(!ph&&ss!==null){ph=!0;var r=0,i=Be;try{var l=ss;for(Be=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}ss=null,Vu=!1}catch(p){throw ss!==null&&(ss=ss.slice(r+1)),Eo(ji,zs),p}finally{Be=i,ph=!1}}return null}var Ho=[],qo=0,Mu=null,Uu=0,qn=[],Wn=0,qi=null,is=1,os="";function Wi(r,i){Ho[qo++]=Uu,Ho[qo++]=Mu,Mu=r,Uu=i}function lg(r,i,l){qn[Wn++]=is,qn[Wn++]=os,qn[Wn++]=qi,qi=r;var d=is;r=os;var p=32-on(d)-1;d&=~(1<<p),l+=1;var y=32-on(i)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,is=1<<32-on(i)+p|l<<p|d,os=y+r}else is=1<<y|l<<p|d,os=r}function mh(r){r.return!==null&&(Wi(r,1),lg(r,1,0))}function gh(r){for(;r===Mu;)Mu=Ho[--qo],Ho[qo]=null,Uu=Ho[--qo],Ho[qo]=null;for(;r===qi;)qi=qn[--Wn],qn[Wn]=null,os=qn[--Wn],qn[Wn]=null,is=qn[--Wn],qn[Wn]=null}var Dn=null,On=null,ct=!1,hr=null;function ug(r,i){var l=Yn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function cg(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Dn=r,On=Us(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Dn=r,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=qi!==null?{id:is,overflow:os}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Yn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Dn=r,On=null,!0):!1;default:return!1}}function yh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vh(r){if(ct){var i=On;if(i){var l=i;if(!cg(r,i)){if(yh(r))throw Error(t(418));i=Us(l.nextSibling);var d=Dn;i&&cg(r,i)?ug(d,l):(r.flags=r.flags&-4097|2,ct=!1,Dn=r)}}else{if(yh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ct=!1,Dn=r}}}function dg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dn=r}function Fu(r){if(r!==Dn)return!1;if(!ct)return dg(r),ct=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!uh(r.type,r.memoizedProps)),i&&(i=On)){if(yh(r))throw hg(),Error(t(418));for(;i;)ug(r,i),i=Us(i.nextSibling)}if(dg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){On=Us(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}On=null}}else On=Dn?Us(r.stateNode.nextSibling):null;return!0}function hg(){for(var r=On;r;)r=Us(r.nextSibling)}function Wo(){On=Dn=null,ct=!1}function _h(r){hr===null?hr=[r]:hr.push(r)}var TE=ne.ReactCurrentBatchConfig;function Za(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var A=p.refs;E===null?delete A[y]:A[y]=E},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Bu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function fg(r){var i=r._init;return i(r._payload)}function pg(r){function i(z,V){if(r){var $=z.deletions;$===null?(z.deletions=[V],z.flags|=16):$.push(V)}}function l(z,V){if(!r)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function d(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function p(z,V){return z=Ys(z,V),z.index=0,z.sibling=null,z}function y(z,V,$){return z.index=$,r?($=z.alternate,$!==null?($=$.index,$<V?(z.flags|=2,V):$):(z.flags|=2,V)):(z.flags|=1048576,V)}function E(z){return r&&z.alternate===null&&(z.flags|=2),z}function A(z,V,$,ie){return V===null||V.tag!==6?(V=df($,z.mode,ie),V.return=z,V):(V=p(V,$),V.return=z,V)}function O(z,V,$,ie){var we=$.type;return we===D?te(z,V,$.props.children,ie,$.key):V!==null&&(V.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Ce&&fg(we)===V.type)?(ie=p(V,$.props),ie.ref=Za(z,V,$),ie.return=z,ie):(ie=dc($.type,$.key,$.props,null,z.mode,ie),ie.ref=Za(z,V,$),ie.return=z,ie)}function q(z,V,$,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=hf($,z.mode,ie),V.return=z,V):(V=p(V,$.children||[]),V.return=z,V)}function te(z,V,$,ie,we){return V===null||V.tag!==7?(V=eo($,z.mode,ie,we),V.return=z,V):(V=p(V,$),V.return=z,V)}function re(z,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=df(""+V,z.mode,$),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case de:return $=dc(V.type,V.key,V.props,null,z.mode,$),$.ref=Za(z,null,V),$.return=z,$;case K:return V=hf(V,z.mode,$),V.return=z,V;case Ce:var ie=V._init;return re(z,ie(V._payload),$)}if(Mn(V)||se(V))return V=eo(V,z.mode,$,null),V.return=z,V;Bu(z,V)}return null}function ee(z,V,$,ie){var we=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return we!==null?null:A(z,V,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case de:return $.key===we?O(z,V,$,ie):null;case K:return $.key===we?q(z,V,$,ie):null;case Ce:return we=$._init,ee(z,V,we($._payload),ie)}if(Mn($)||se($))return we!==null?null:te(z,V,$,ie,null);Bu(z,$)}return null}function fe(z,V,$,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get($)||null,A(V,z,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case de:return z=z.get(ie.key===null?$:ie.key)||null,O(V,z,ie,we);case K:return z=z.get(ie.key===null?$:ie.key)||null,q(V,z,ie,we);case Ce:var Ie=ie._init;return fe(z,V,$,Ie(ie._payload),we)}if(Mn(ie)||se(ie))return z=z.get($)||null,te(V,z,ie,we,null);Bu(V,ie)}return null}function ye(z,V,$,ie){for(var we=null,Ie=null,Se=V,Ae=V=0,Lt=null;Se!==null&&Ae<$.length;Ae++){Se.index>Ae?(Lt=Se,Se=null):Lt=Se.sibling;var Ke=ee(z,Se,$[Ae],ie);if(Ke===null){Se===null&&(Se=Lt);break}r&&Se&&Ke.alternate===null&&i(z,Se),V=y(Ke,V,Ae),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke,Se=Lt}if(Ae===$.length)return l(z,Se),ct&&Wi(z,Ae),we;if(Se===null){for(;Ae<$.length;Ae++)Se=re(z,$[Ae],ie),Se!==null&&(V=y(Se,V,Ae),Ie===null?we=Se:Ie.sibling=Se,Ie=Se);return ct&&Wi(z,Ae),we}for(Se=d(z,Se);Ae<$.length;Ae++)Lt=fe(Se,z,Ae,$[Ae],ie),Lt!==null&&(r&&Lt.alternate!==null&&Se.delete(Lt.key===null?Ae:Lt.key),V=y(Lt,V,Ae),Ie===null?we=Lt:Ie.sibling=Lt,Ie=Lt);return r&&Se.forEach(function(Xs){return i(z,Xs)}),ct&&Wi(z,Ae),we}function _e(z,V,$,ie){var we=se($);if(typeof we!="function")throw Error(t(150));if($=we.call($),$==null)throw Error(t(151));for(var Ie=we=null,Se=V,Ae=V=0,Lt=null,Ke=$.next();Se!==null&&!Ke.done;Ae++,Ke=$.next()){Se.index>Ae?(Lt=Se,Se=null):Lt=Se.sibling;var Xs=ee(z,Se,Ke.value,ie);if(Xs===null){Se===null&&(Se=Lt);break}r&&Se&&Xs.alternate===null&&i(z,Se),V=y(Xs,V,Ae),Ie===null?we=Xs:Ie.sibling=Xs,Ie=Xs,Se=Lt}if(Ke.done)return l(z,Se),ct&&Wi(z,Ae),we;if(Se===null){for(;!Ke.done;Ae++,Ke=$.next())Ke=re(z,Ke.value,ie),Ke!==null&&(V=y(Ke,V,Ae),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke);return ct&&Wi(z,Ae),we}for(Se=d(z,Se);!Ke.done;Ae++,Ke=$.next())Ke=fe(Se,z,Ae,Ke.value,ie),Ke!==null&&(r&&Ke.alternate!==null&&Se.delete(Ke.key===null?Ae:Ke.key),V=y(Ke,V,Ae),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke);return r&&Se.forEach(function(n1){return i(z,n1)}),ct&&Wi(z,Ae),we}function xt(z,V,$,ie){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case de:e:{for(var we=$.key,Ie=V;Ie!==null;){if(Ie.key===we){if(we=$.type,we===D){if(Ie.tag===7){l(z,Ie.sibling),V=p(Ie,$.props.children),V.return=z,z=V;break e}}else if(Ie.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Ce&&fg(we)===Ie.type){l(z,Ie.sibling),V=p(Ie,$.props),V.ref=Za(z,Ie,$),V.return=z,z=V;break e}l(z,Ie);break}else i(z,Ie);Ie=Ie.sibling}$.type===D?(V=eo($.props.children,z.mode,ie,$.key),V.return=z,z=V):(ie=dc($.type,$.key,$.props,null,z.mode,ie),ie.ref=Za(z,V,$),ie.return=z,z=ie)}return E(z);case K:e:{for(Ie=$.key;V!==null;){if(V.key===Ie)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){l(z,V.sibling),V=p(V,$.children||[]),V.return=z,z=V;break e}else{l(z,V);break}else i(z,V);V=V.sibling}V=hf($,z.mode,ie),V.return=z,z=V}return E(z);case Ce:return Ie=$._init,xt(z,V,Ie($._payload),ie)}if(Mn($))return ye(z,V,$,ie);if(se($))return _e(z,V,$,ie);Bu(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(l(z,V.sibling),V=p(V,$),V.return=z,z=V):(l(z,V),V=df($,z.mode,ie),V.return=z,z=V),E(z)):l(z,V)}return xt}var Go=pg(!0),mg=pg(!1),zu=Fs(null),$u=null,Ko=null,wh=null;function xh(){wh=Ko=$u=null}function Eh(r){var i=zu.current;at(zu),r._currentValue=i}function Th(r,i,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===l)break;r=r.return}}function Qo(r,i){$u=r,wh=Ko=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(_n=!0),r.firstContext=null)}function Gn(r){var i=r._currentValue;if(wh!==r)if(r={context:r,memoizedValue:i,next:null},Ko===null){if($u===null)throw Error(t(308));Ko=r,$u.dependencies={lanes:0,firstContext:r}}else Ko=Ko.next=r;return i}var Gi=null;function Ih(r){Gi===null?Gi=[r]:Gi.push(r)}function gg(r,i,l,d){var p=i.interleaved;return p===null?(l.next=l,Ih(i)):(l.next=p.next,p.next=l),i.interleaved=l,as(r,d)}function as(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var $s=!1;function Sh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ls(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(r,i,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,as(r,l)}return p=d.interleaved,p===null?(i.next=i,Ih(d)):(i.next=p.next,p.next=i),d.interleaved=i,as(r,l)}function Hu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Ds(r,l)}}function vg(r,i){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function qu(r,i,l,d){var p=r.updateQueue;$s=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,q=O.next;O.next=null,E===null?y=q:E.next=q,E=O;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=q:A.next=q,te.lastBaseUpdate=O))}if(y!==null){var re=p.baseState;E=0,te=q=O=null,A=y;do{var ee=A.lane,fe=A.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:fe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=r,_e=A;switch(ee=i,fe=l,_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){re=ye.call(fe,re,ee);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,ee=typeof ye=="function"?ye.call(fe,re,ee):ye,ee==null)break e;re=ae({},re,ee);break e;case 2:$s=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[A]:ee.push(A))}else fe={eventTime:fe,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(q=te=fe,O=re):te=te.next=fe,E|=ee;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(O=re),p.baseState=O,p.firstBaseUpdate=q,p.lastBaseUpdate=te,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);Yi|=E,r.lanes=E,r.memoizedState=re}}function _g(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var el={},Ar=Fs(el),tl=Fs(el),nl=Fs(el);function Ki(r){if(r===el)throw Error(t(174));return r}function bh(r,i){switch(st(nl,i),st(tl,r),st(Ar,el),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:nt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=nt(i,r)}at(Ar),st(Ar,i)}function Yo(){at(Ar),at(tl),at(nl)}function wg(r){Ki(nl.current);var i=Ki(Ar.current),l=nt(i,r.type);i!==l&&(st(tl,r),st(Ar,l))}function Rh(r){tl.current===r&&(at(Ar),at(tl))}var ft=Fs(0);function Wu(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kh=[];function Ch(){for(var r=0;r<kh.length;r++)kh[r]._workInProgressVersionPrimary=null;kh.length=0}var Gu=ne.ReactCurrentDispatcher,Ah=ne.ReactCurrentBatchConfig,Qi=0,pt=null,Ct=null,Ot=null,Ku=!1,rl=!1,sl=0,IE=0;function Qt(){throw Error(t(321))}function Nh(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!dr(r[l],i[l]))return!1;return!0}function Ph(r,i,l,d,p,y){if(Qi=y,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gu.current=r===null||r.memoizedState===null?kE:CE,r=l(d,p),rl){y=0;do{if(rl=!1,sl=0,25<=y)throw Error(t(301));y+=1,Ot=Ct=null,i.updateQueue=null,Gu.current=AE,r=l(d,p)}while(rl)}if(Gu.current=Xu,i=Ct!==null&&Ct.next!==null,Qi=0,Ot=Ct=pt=null,Ku=!1,i)throw Error(t(300));return r}function Dh(){var r=sl!==0;return sl=0,r}function Nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?pt.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Kn(){if(Ct===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var i=Ot===null?pt.memoizedState:Ot.next;if(i!==null)Ot=i,Ct=r;else{if(r===null)throw Error(t(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Ot===null?pt.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function il(r,i){return typeof i=="function"?i(r):i}function Oh(r){var i=Kn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Ct,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var A=E=null,O=null,q=y;do{var te=q.lane;if((Qi&te)===te)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var re={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(A=O=re,E=d):O=O.next=re,pt.lanes|=te,Yi|=te}q=q.next}while(q!==null&&q!==y);O===null?E=d:O.next=A,dr(d,i.memoizedState)||(_n=!0),i.memoizedState=d,i.baseState=E,i.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,pt.lanes|=y,Yi|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jh(r){var i=Kn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);dr(y,i.memoizedState)||(_n=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function xg(){}function Eg(r,i){var l=pt,d=Kn(),p=i(),y=!dr(d.memoizedState,p);if(y&&(d.memoizedState=p,_n=!0),d=d.queue,Lh(Sg.bind(null,l,d,r),[r]),d.getSnapshot!==i||y||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,ol(9,Ig.bind(null,l,d,p,i),void 0,null),jt===null)throw Error(t(349));(Qi&30)!==0||Tg(l,i,p)}return p}function Tg(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Ig(r,i,l,d){i.value=l,i.getSnapshot=d,bg(i)&&Rg(r)}function Sg(r,i,l){return l(function(){bg(i)&&Rg(r)})}function bg(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!dr(r,l)}catch{return!0}}function Rg(r){var i=as(r,1);i!==null&&gr(i,r,1,-1)}function kg(r){var i=Nr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},i.queue=r,r=r.dispatch=RE.bind(null,pt,r),[i.memoizedState,r]}function ol(r,i,l,d){return r={tag:r,create:i,destroy:l,deps:d,next:null},i=pt.updateQueue,i===null?(i={lastEffect:null,stores:null},pt.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,i.lastEffect=r)),r}function Cg(){return Kn().memoizedState}function Qu(r,i,l,d){var p=Nr();pt.flags|=r,p.memoizedState=ol(1|i,l,void 0,d===void 0?null:d)}function Yu(r,i,l,d){var p=Kn();d=d===void 0?null:d;var y=void 0;if(Ct!==null){var E=Ct.memoizedState;if(y=E.destroy,d!==null&&Nh(d,E.deps)){p.memoizedState=ol(i,l,y,d);return}}pt.flags|=r,p.memoizedState=ol(1|i,l,y,d)}function Ag(r,i){return Qu(8390656,8,r,i)}function Lh(r,i){return Yu(2048,8,r,i)}function Ng(r,i){return Yu(4,2,r,i)}function Pg(r,i){return Yu(4,4,r,i)}function Dg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Og(r,i,l){return l=l!=null?l.concat([r]):null,Yu(4,4,Dg.bind(null,i,r),l)}function Vh(){}function jg(r,i){var l=Kn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Nh(i,d[1])?d[0]:(l.memoizedState=[r,i],r)}function Lg(r,i){var l=Kn();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&Nh(i,d[1])?d[0]:(r=r(),l.memoizedState=[r,i],r)}function Vg(r,i,l){return(Qi&21)===0?(r.baseState&&(r.baseState=!1,_n=!0),r.memoizedState=l):(dr(l,i)||(l=Mi(),pt.lanes|=l,Yi|=l,r.baseState=!0),i)}function SE(r,i){var l=Be;Be=l!==0&&4>l?l:4,r(!0);var d=Ah.transition;Ah.transition={};try{r(!1),i()}finally{Be=l,Ah.transition=d}}function Mg(){return Kn().memoizedState}function bE(r,i,l){var d=Ks(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ug(r))Fg(i,l);else if(l=gg(r,i,l,d),l!==null){var p=un();gr(l,r,d,p),Bg(l,i,d)}}function RE(r,i,l){var d=Ks(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ug(r))Fg(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,A=y(E,l);if(p.hasEagerState=!0,p.eagerState=A,dr(A,E)){var O=i.interleaved;O===null?(p.next=p,Ih(i)):(p.next=O.next,O.next=p),i.interleaved=p;return}}catch{}finally{}l=gg(r,i,p,d),l!==null&&(p=un(),gr(l,r,d,p),Bg(l,i,d))}}function Ug(r){var i=r.alternate;return r===pt||i!==null&&i===pt}function Fg(r,i){rl=Ku=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Bg(r,i,l){if((l&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,l|=d,i.lanes=l,Ds(r,l)}}var Xu={readContext:Gn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},kE={readContext:Gn,useCallback:function(r,i){return Nr().memoizedState=[r,i===void 0?null:i],r},useContext:Gn,useEffect:Ag,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Qu(4194308,4,Dg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Qu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Qu(4,2,r,i)},useMemo:function(r,i){var l=Nr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var d=Nr();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=bE.bind(null,pt,r),[d.memoizedState,r]},useRef:function(r){var i=Nr();return r={current:r},i.memoizedState=r},useState:kg,useDebugValue:Vh,useDeferredValue:function(r){return Nr().memoizedState=r},useTransition:function(){var r=kg(!1),i=r[0];return r=SE.bind(null,r[1]),Nr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var d=pt,p=Nr();if(ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),jt===null)throw Error(t(349));(Qi&30)!==0||Tg(d,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,Ag(Sg.bind(null,d,y,r),[r]),d.flags|=2048,ol(9,Ig.bind(null,d,y,l,i),void 0,null),l},useId:function(){var r=Nr(),i=jt.identifierPrefix;if(ct){var l=os,d=is;l=(d&~(1<<32-on(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=sl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=IE++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},CE={readContext:Gn,useCallback:jg,useContext:Gn,useEffect:Lh,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:Pg,useMemo:Lg,useReducer:Oh,useRef:Cg,useState:function(){return Oh(il)},useDebugValue:Vh,useDeferredValue:function(r){var i=Kn();return Vg(i,Ct.memoizedState,r)},useTransition:function(){var r=Oh(il)[0],i=Kn().memoizedState;return[r,i]},useMutableSource:xg,useSyncExternalStore:Eg,useId:Mg,unstable_isNewReconciler:!1},AE={readContext:Gn,useCallback:jg,useContext:Gn,useEffect:Lh,useImperativeHandle:Og,useInsertionEffect:Ng,useLayoutEffect:Pg,useMemo:Lg,useReducer:jh,useRef:Cg,useState:function(){return jh(il)},useDebugValue:Vh,useDeferredValue:function(r){var i=Kn();return Ct===null?i.memoizedState=r:Vg(i,Ct.memoizedState,r)},useTransition:function(){var r=jh(il)[0],i=Kn().memoizedState;return[r,i]},useMutableSource:xg,useSyncExternalStore:Eg,useId:Mg,unstable_isNewReconciler:!1};function fr(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Mh(r,i,l,d){i=r.memoizedState,l=l(d,i),l=l==null?i:ae({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ju={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var d=un(),p=Ks(r),y=ls(d,p);y.payload=i,l!=null&&(y.callback=l),i=Hs(r,y,p),i!==null&&(gr(i,r,p,d),Hu(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var d=un(),p=Ks(r),y=ls(d,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Hs(r,y,p),i!==null&&(gr(i,r,p,d),Hu(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=un(),d=Ks(r),p=ls(l,d);p.tag=2,i!=null&&(p.callback=i),i=Hs(r,p,d),i!==null&&(gr(i,r,d,l),Hu(i,r,d))}};function zg(r,i,l,d,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):i.prototype&&i.prototype.isPureReactComponent?!Wa(l,d)||!Wa(p,y):!0}function $g(r,i,l){var d=!1,p=Bs,y=i.contextType;return typeof y=="object"&&y!==null?y=Gn(y):(p=vn(i)?Hi:Kt.current,d=i.contextTypes,y=(d=d!=null)?$o(r,p):Bs),i=new i(l,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ju,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function Hg(r,i,l,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==r&&Ju.enqueueReplaceState(i,i.state,null)}function Uh(r,i,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Sh(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Gn(y):(y=vn(i)?Hi:Kt.current,p.context=$o(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Mh(r,i,y,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ju.enqueueReplaceState(p,p.state,null),qu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Xo(r,i){try{var l="",d=i;do l+=Te(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Fh(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Bh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function qg(r,i,l){l=ls(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){ic||(ic=!0,nf=d),Bh(r,i)},l}function Wg(r,i,l){l=ls(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=i.value;l.payload=function(){return d(p)},l.callback=function(){Bh(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Bh(r,i),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function Gg(r,i,l){var d=r.pingCache;if(d===null){d=r.pingCache=new NE;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(l)||(p.add(l),r=qE.bind(null,r,i,l),i.then(r,r))}function Kg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Qg(r,i,l,d,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ls(-1,1),i.tag=2,Hs(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var PE=ne.ReactCurrentOwner,_n=!1;function ln(r,i,l,d){i.child=r===null?mg(i,null,l,d):Go(i,r.child,l,d)}function Yg(r,i,l,d,p){l=l.render;var y=i.ref;return Qo(i,p),d=Ph(r,i,l,d,y,p),l=Dh(),r!==null&&!_n?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,us(r,i,p)):(ct&&l&&mh(i),i.flags|=1,ln(r,i,d,p),i.child)}function Xg(r,i,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!cf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Jg(r,i,y,d,p)):(r=dc(l.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(E,d)&&r.ref===i.ref)return us(r,i,p)}return i.flags|=1,r=Ys(y,d),r.ref=i.ref,r.return=i,i.child=r}function Jg(r,i,l,d,p){if(r!==null){var y=r.memoizedProps;if(Wa(y,d)&&r.ref===i.ref)if(_n=!1,i.pendingProps=d=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(_n=!0);else return i.lanes=r.lanes,us(r,i,p)}return zh(r,i,l,d,p)}function Zg(r,i,l){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Zo,jn),jn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,st(Zo,jn),jn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,st(Zo,jn),jn|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,st(Zo,jn),jn|=d;return ln(r,i,p,l),i.child}function ey(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function zh(r,i,l,d,p){var y=vn(l)?Hi:Kt.current;return y=$o(i,y),Qo(i,p),l=Ph(r,i,l,d,y,p),d=Dh(),r!==null&&!_n?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,us(r,i,p)):(ct&&d&&mh(i),i.flags|=1,ln(r,i,l,p),i.child)}function ty(r,i,l,d,p){if(vn(l)){var y=!0;Lu(i)}else y=!1;if(Qo(i,p),i.stateNode===null)ec(r,i),$g(i,l,d),Uh(i,l,d,p),d=!0;else if(r===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var O=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=Gn(q):(q=vn(l)?Hi:Kt.current,q=$o(i,q));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||O!==q)&&Hg(i,E,d,q),$s=!1;var ee=i.memoizedState;E.state=ee,qu(i,d,E,p),O=i.memoizedState,A!==d||ee!==O||yn.current||$s?(typeof te=="function"&&(Mh(i,l,te,d),O=i.memoizedState),(A=$s||zg(i,l,A,d,ee,O,q))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=O),E.props=d,E.state=O,E.context=q,d=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{E=i.stateNode,yg(r,i),A=i.memoizedProps,q=i.type===i.elementType?A:fr(i.type,A),E.props=q,re=i.pendingProps,ee=E.context,O=l.contextType,typeof O=="object"&&O!==null?O=Gn(O):(O=vn(l)?Hi:Kt.current,O=$o(i,O));var fe=l.getDerivedStateFromProps;(te=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==re||ee!==O)&&Hg(i,E,d,O),$s=!1,ee=i.memoizedState,E.state=ee,qu(i,d,E,p);var ye=i.memoizedState;A!==re||ee!==ye||yn.current||$s?(typeof fe=="function"&&(Mh(i,l,fe,d),ye=i.memoizedState),(q=$s||zg(i,l,q,d,ee,ye,O)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ye,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ye,O)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ye),E.props=d,E.state=ye,E.context=O,d=q):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),d=!1)}return $h(r,i,l,d,y,p)}function $h(r,i,l,d,p,y){ey(r,i);var E=(i.flags&128)!==0;if(!d&&!E)return p&&og(i,l,!1),us(r,i,y);d=i.stateNode,PE.current=i;var A=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&E?(i.child=Go(i,r.child,null,y),i.child=Go(i,null,A,y)):ln(r,i,A,y),i.memoizedState=d.state,p&&og(i,l,!0),i.child}function ny(r){var i=r.stateNode;i.pendingContext?sg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&sg(r,i.context,!1),bh(r,i.containerInfo)}function ry(r,i,l,d,p){return Wo(),_h(p),i.flags|=256,ln(r,i,l,d),i.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function sy(r,i,l){var d=i.pendingProps,p=ft.current,y=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),st(ft,p&1),r===null)return vh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=d.children,r=d.fallback,y?(d=i.mode,y=i.child,E={mode:"hidden",children:E},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=hc(E,d,0,null),r=eo(r,d,l,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=qh(l),i.memoizedState=Hh,r):Wh(i,E));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return DE(r,i,E,d,A,p,l);if(y){y=d.fallback,E=i.mode,p=r.child,A=p.sibling;var O={mode:"hidden",children:d.children};return(E&1)===0&&i.child!==p?(d=i.child,d.childLanes=0,d.pendingProps=O,i.deletions=null):(d=Ys(p,O),d.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Ys(A,y):(y=eo(y,E,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,E=r.child.memoizedState,E=E===null?qh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,i.memoizedState=Hh,d}return y=r.child,r=y.sibling,d=Ys(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=d,i.memoizedState=null,d}function Wh(r,i){return i=hc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Zu(r,i,l,d){return d!==null&&_h(d),Go(i,r.child,null,l),r=Wh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function DE(r,i,l,d,p,y,E){if(l)return i.flags&256?(i.flags&=-257,d=Fh(Error(t(422))),Zu(r,i,E,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,p=i.mode,d=hc({mode:"visible",children:d.children},p,0,null),y=eo(y,p,E,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&Go(i,r.child,null,E),i.child.memoizedState=qh(E),i.memoizedState=Hh,y);if((i.mode&1)===0)return Zu(r,i,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;return d=A,y=Error(t(419)),d=Fh(y,d,void 0),Zu(r,i,E,d)}if(A=(E&r.childLanes)!==0,_n||A){if(d=jt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,as(r,p),gr(d,r,p,-1))}return uf(),d=Fh(Error(t(421))),Zu(r,i,E,d)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=WE.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,On=Us(p.nextSibling),Dn=i,ct=!0,hr=null,r!==null&&(qn[Wn++]=is,qn[Wn++]=os,qn[Wn++]=qi,is=r.id,os=r.overflow,qi=i),i=Wh(i,d.children),i.flags|=4096,i)}function iy(r,i,l){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Th(r.return,i,l)}function Gh(r,i,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function oy(r,i,l){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(ln(r,i,d.children,l),d=ft.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&iy(r,l,i);else if(r.tag===19)iy(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(st(ft,d),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&Wu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Gh(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Wu(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Gh(i,!0,l,null,y);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ec(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function us(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Yi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=Ys(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ys(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function OE(r,i,l){switch(i.tag){case 3:ny(i),Wo();break;case 5:wg(i);break;case 1:vn(i.type)&&Lu(i);break;case 4:bh(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,p=i.memoizedProps.value;st(zu,d._currentValue),d._currentValue=p;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(st(ft,ft.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?sy(r,i,l):(st(ft,ft.current&1),r=us(r,i,l),r!==null?r.sibling:null);st(ft,ft.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(r.flags&128)!==0){if(d)return oy(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),st(ft,ft.current),d)break;return null;case 22:case 23:return i.lanes=0,Zg(r,i,l)}return us(r,i,l)}var ay,Kh,ly,uy;ay=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kh=function(){},ly=function(r,i,l,d){var p=r.memoizedProps;if(p!==d){r=i.stateNode,Ki(Ar.current);var y=null;switch(l){case"input":p=Wr(r,p),d=Wr(r,d),y=[];break;case"select":p=ae({},p,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":p=bs(r,p),d=bs(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Du)}Fn(l,d);var E;l=null;for(q in p)if(!d.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var A=p[q];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in d){var O=d[q];if(A=p!=null?p[q]:void 0,d.hasOwnProperty(q)&&O!==A&&(O!=null||A!=null))if(q==="style")if(A){for(E in A)!A.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in O)O.hasOwnProperty(E)&&A[E]!==O[E]&&(l||(l={}),l[E]=O[E])}else l||(y||(y=[]),y.push(q,l)),l=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,A=A?A.__html:void 0,O!=null&&A!==O&&(y=y||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&ot("scroll",r),y||A===O||(y=[])):(y=y||[]).push(q,O))}l&&(y=y||[]).push("style",l);var q=y;(i.updateQueue=q)&&(i.flags|=4)}},uy=function(r,i,l,d){l!==d&&(i.flags|=4)};function al(r,i){if(!ct)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Yt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,i}function jE(r,i,l){var d=i.pendingProps;switch(gh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return vn(i.type)&&ju(),Yt(i),null;case 3:return d=i.stateNode,Yo(),at(yn),at(Kt),Ch(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Fu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hr!==null&&(of(hr),hr=null))),Kh(r,i),Yt(i),null;case 5:Rh(i);var p=Ki(nl.current);if(l=i.type,r!==null&&i.stateNode!=null)ly(r,i,l,d,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return Yt(i),null}if(r=Ki(Ar.current),Fu(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[Cr]=i,d[Xa]=y,r=(i.mode&1)!==0,l){case"dialog":ot("cancel",d),ot("close",d);break;case"iframe":case"object":case"embed":ot("load",d);break;case"video":case"audio":for(p=0;p<Ka.length;p++)ot(Ka[p],d);break;case"source":ot("error",d);break;case"img":case"image":case"link":ot("error",d),ot("load",d);break;case"details":ot("toggle",d);break;case"input":Es(d,y),ot("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ot("invalid",d);break;case"textarea":dn(d,y),ot("invalid",d)}Fn(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var A=y[E];E==="children"?typeof A=="string"?d.textContent!==A&&(y.suppressHydrationWarning!==!0&&Pu(d.textContent,A,r),p=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Pu(d.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&ot("scroll",d)}switch(l){case"input":nn(d),Is(d,y,!0);break;case"textarea":nn(d),Ai(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Du)}d=p,i.updateQueue=d,d!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ge(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Cr]=i,r[Xa]=d,ay(r,i,!1,!1),i.stateNode=r;e:{switch(E=Pi(l,d),l){case"dialog":ot("cancel",r),ot("close",r),p=d;break;case"iframe":case"object":case"embed":ot("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ka.length;p++)ot(Ka[p],r);p=d;break;case"source":ot("error",r),p=d;break;case"img":case"image":case"link":ot("error",r),ot("load",r),p=d;break;case"details":ot("toggle",r),p=d;break;case"input":Es(r,d),p=Wr(r,d),ot("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=ae({},d,{value:void 0}),ot("invalid",r);break;case"textarea":dn(r,d),p=bs(r,d),ot("invalid",r);break;default:p=d}Fn(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var O=A[y];y==="style"?Un(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ni(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&kn(r,O):typeof O=="number"&&kn(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?O!=null&&y==="onScroll"&&ot("scroll",r):O!=null&&H(r,y,O,E))}switch(l){case"input":nn(r),Is(r,d,!1);break;case"textarea":nn(r),Ai(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Fe(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?rn(r,!!d.multiple,y,!1):d.defaultValue!=null&&rn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Du)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Yt(i),null;case 6:if(r&&i.stateNode!=null)uy(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=Ki(nl.current),Ki(Ar.current),Fu(i)){if(d=i.stateNode,l=i.memoizedProps,d[Cr]=i,(y=d.nodeValue!==l)&&(r=Dn,r!==null))switch(r.tag){case 3:Pu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(d.nodeValue,l,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Cr]=i,i.stateNode=d}return Yt(i),null;case 13:if(at(ft),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&On!==null&&(i.mode&1)!==0&&(i.flags&128)===0)hg(),Wo(),i.flags|=98560,y=!1;else if(y=Fu(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Cr]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),y=!1}else hr!==null&&(of(hr),hr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(ft.current&1)!==0?At===0&&(At=3):uf())),i.updateQueue!==null&&(i.flags|=4),Yt(i),null);case 4:return Yo(),Kh(r,i),r===null&&Qa(i.stateNode.containerInfo),Yt(i),null;case 10:return Eh(i.type._context),Yt(i),null;case 17:return vn(i.type)&&ju(),Yt(i),null;case 19:if(at(ft),y=i.memoizedState,y===null)return Yt(i),null;if(d=(i.flags&128)!==0,E=y.rendering,E===null)if(d)al(y,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=Wu(r),E!==null){for(i.flags|=128,al(y,!1),d=E.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return st(ft,ft.current&1|2),i.child}r=r.sibling}y.tail!==null&&rt()>ea&&(i.flags|=128,d=!0,al(y,!1),i.lanes=4194304)}else{if(!d)if(r=Wu(E),r!==null){if(i.flags|=128,d=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!ct)return Yt(i),null}else 2*rt()-y.renderingStartTime>ea&&l!==1073741824&&(i.flags|=128,d=!0,al(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=rt(),i.sibling=null,l=ft.current,st(ft,d?l&1|2:l&1),i):(Yt(i),null);case 22:case 23:return lf(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(jn&1073741824)!==0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function LE(r,i){switch(gh(i),i.tag){case 1:return vn(i.type)&&ju(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Yo(),at(yn),at(Kt),Ch(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Rh(i),null;case 13:if(at(ft),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Wo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return at(ft),null;case 4:return Yo(),null;case 10:return Eh(i.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var tc=!1,Xt=!1,VE=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Jo(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){_t(r,i,d)}else l.current=null}function Qh(r,i,l){try{l()}catch(d){_t(r,i,d)}}var cy=!1;function ME(r,i){if(ah=Ls,r=zm(),Zd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,A=-1,O=-1,q=0,te=0,re=r,ee=null;t:for(;;){for(var fe;re!==l||p!==0&&re.nodeType!==3||(A=E+p),re!==y||d!==0&&re.nodeType!==3||(O=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(fe=re.firstChild)!==null;)ee=re,re=fe;for(;;){if(re===r)break t;if(ee===l&&++q===p&&(A=E),ee===y&&++te===d&&(O=E),(fe=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=fe}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(lh={focusedElem:r,selectionRange:l},Ls=!1,ge=i;ge!==null;)if(i=ge,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ge=r;else for(;ge!==null;){i=ge;try{var ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var _e=ye.memoizedProps,xt=ye.memoizedState,z=i.stateNode,V=z.getSnapshotBeforeUpdate(i.elementType===i.type?_e:fr(i.type,_e),xt);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){_t(i,i.return,ie)}if(r=i.sibling,r!==null){r.return=i.return,ge=r;break}ge=i.return}return ye=cy,cy=!1,ye}function ll(r,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Qh(i,l,y)}p=p.next}while(p!==d)}}function nc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Yh(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function dy(r){var i=r.alternate;i!==null&&(r.alternate=null,dy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Cr],delete i[Xa],delete i[hh],delete i[wE],delete i[xE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function hy(r){return r.tag===5||r.tag===3||r.tag===4}function fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||hy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xh(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Du));else if(d!==4&&(r=r.child,r!==null))for(Xh(r,i,l),r=r.sibling;r!==null;)Xh(r,i,l),r=r.sibling}function Jh(r,i,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Jh(r,i,l),r=r.sibling;r!==null;)Jh(r,i,l),r=r.sibling}var Bt=null,pr=!1;function qs(r,i,l){for(l=l.child;l!==null;)py(r,i,l),l=l.sibling}function py(r,i,l){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Li,l)}catch{}switch(l.tag){case 5:Xt||Jo(l,i);case 6:var d=Bt,p=pr;Bt=null,qs(r,i,l),Bt=d,pr=p,Bt!==null&&(pr?(r=Bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Bt.removeChild(l.stateNode));break;case 18:Bt!==null&&(pr?(r=Bt,l=l.stateNode,r.nodeType===8?dh(r.parentNode,l):r.nodeType===1&&dh(r,l),ur(r)):dh(Bt,l.stateNode));break;case 4:d=Bt,p=pr,Bt=l.stateNode.containerInfo,pr=!0,qs(r,i,l),Bt=d,pr=p;break;case 0:case 11:case 14:case 15:if(!Xt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Qh(l,i,E),p=p.next}while(p!==d)}qs(r,i,l);break;case 1:if(!Xt&&(Jo(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(A){_t(l,i,A)}qs(r,i,l);break;case 21:qs(r,i,l);break;case 22:l.mode&1?(Xt=(d=Xt)||l.memoizedState!==null,qs(r,i,l),Xt=d):qs(r,i,l);break;default:qs(r,i,l)}}function my(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new VE),i.forEach(function(d){var p=GE.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function mr(r,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:Bt=A.stateNode,pr=!1;break e;case 3:Bt=A.stateNode.containerInfo,pr=!0;break e;case 4:Bt=A.stateNode.containerInfo,pr=!0;break e}A=A.return}if(Bt===null)throw Error(t(160));py(y,E,p),Bt=null,pr=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(q){_t(p,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)gy(i,r),i=i.sibling}function gy(r,i){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(mr(i,r),Pr(r),d&4){try{ll(3,r,r.return),nc(3,r)}catch(_e){_t(r,r.return,_e)}try{ll(5,r,r.return)}catch(_e){_t(r,r.return,_e)}}break;case 1:mr(i,r),Pr(r),d&512&&l!==null&&Jo(l,l.return);break;case 5:if(mr(i,r),Pr(r),d&512&&l!==null&&Jo(l,l.return),r.flags&32){var p=r.stateNode;try{kn(p,"")}catch(_e){_t(r,r.return,_e)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,A=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Ts(p,y),Pi(A,E);var q=Pi(A,y);for(E=0;E<O.length;E+=2){var te=O[E],re=O[E+1];te==="style"?Un(p,re):te==="dangerouslySetInnerHTML"?Ni(p,re):te==="children"?kn(p,re):H(p,te,re,q)}switch(A){case"input":Ci(p,y);break;case"textarea":Rs(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?rn(p,!!y.multiple,fe,!1):ee!==!!y.multiple&&(y.defaultValue!=null?rn(p,!!y.multiple,y.defaultValue,!0):rn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Xa]=y}catch(_e){_t(r,r.return,_e)}}break;case 6:if(mr(i,r),Pr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(_e){_t(r,r.return,_e)}}break;case 3:if(mr(i,r),Pr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{ur(i.containerInfo)}catch(_e){_t(r,r.return,_e)}break;case 4:mr(i,r),Pr(r);break;case 13:mr(i,r),Pr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(tf=rt())),d&4&&my(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Xt=(q=Xt)||te,mr(i,r),Xt=q):mr(i,r),Pr(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!te&&(r.mode&1)!==0)for(ge=r,te=r.child;te!==null;){for(re=ge=te;ge!==null;){switch(ee=ge,fe=ee.child,ee.tag){case 0:case 11:case 14:case 15:ll(4,ee,ee.return);break;case 1:Jo(ee,ee.return);var ye=ee.stateNode;if(typeof ye.componentWillUnmount=="function"){d=ee,l=ee.return;try{i=d,ye.props=i.memoizedProps,ye.state=i.memoizedState,ye.componentWillUnmount()}catch(_e){_t(d,l,_e)}}break;case 5:Jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){_y(re);continue}}fe!==null?(fe.return=ee,ge=fe):_y(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=re.stateNode,O=re.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,A.style.display=Kr("display",E))}catch(_e){_t(r,r.return,_e)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(_e){_t(r,r.return,_e)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:mr(i,r),Pr(r),d&4&&my(r);break;case 21:break;default:mr(i,r),Pr(r)}}function Pr(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(hy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(kn(p,""),d.flags&=-33);var y=fy(r);Jh(r,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,A=fy(r);Xh(r,A,E);break;default:throw Error(t(161))}}catch(O){_t(r,r.return,O)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function UE(r,i,l){ge=r,yy(r)}function yy(r,i,l){for(var d=(r.mode&1)!==0;ge!==null;){var p=ge,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||tc;if(!E){var A=p.alternate,O=A!==null&&A.memoizedState!==null||Xt;A=tc;var q=Xt;if(tc=E,(Xt=O)&&!q)for(ge=p;ge!==null;)E=ge,O=E.child,E.tag===22&&E.memoizedState!==null?wy(p):O!==null?(O.return=E,ge=O):wy(p);for(;y!==null;)ge=y,yy(y),y=y.sibling;ge=p,tc=A,Xt=q}vy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ge=y):vy(r)}}function vy(r){for(;ge!==null;){var i=ge;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Xt||nc(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Xt)if(l===null)d.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:fr(i.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&_g(i,y,d);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}_g(i,E,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&ur(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xt||i.flags&512&&Yh(i)}catch(ee){_t(i,i.return,ee)}}if(i===r){ge=null;break}if(l=i.sibling,l!==null){l.return=i.return,ge=l;break}ge=i.return}}function _y(r){for(;ge!==null;){var i=ge;if(i===r){ge=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ge=l;break}ge=i.return}}function wy(r){for(;ge!==null;){var i=ge;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{nc(4,i)}catch(O){_t(i,l,O)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var p=i.return;try{d.componentDidMount()}catch(O){_t(i,p,O)}}var y=i.return;try{Yh(i)}catch(O){_t(i,y,O)}break;case 5:var E=i.return;try{Yh(i)}catch(O){_t(i,E,O)}}}catch(O){_t(i,i.return,O)}if(i===r){ge=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ge=A;break}ge=i.return}}var FE=Math.ceil,rc=ne.ReactCurrentDispatcher,Zh=ne.ReactCurrentOwner,Qn=ne.ReactCurrentBatchConfig,qe=0,jt=null,It=null,zt=0,jn=0,Zo=Fs(0),At=0,ul=null,Yi=0,sc=0,ef=0,cl=null,wn=null,tf=0,ea=1/0,cs=null,ic=!1,nf=null,Ws=null,oc=!1,Gs=null,ac=0,dl=0,rf=null,lc=-1,uc=0;function un(){return(qe&6)!==0?rt():lc!==-1?lc:lc=rt()}function Ks(r){return(r.mode&1)===0?1:(qe&2)!==0&&zt!==0?zt&-zt:TE.transition!==null?(uc===0&&(uc=Mi()),uc):(r=Be,r!==0||(r=window.event,r=r===void 0?16:Ua(r.type)),r)}function gr(r,i,l,d){if(50<dl)throw dl=0,rf=null,Error(t(185));Ps(r,l,d),((qe&2)===0||r!==jt)&&(r===jt&&((qe&2)===0&&(sc|=l),At===4&&Qs(r,zt)),xn(r,d),l===1&&qe===0&&(i.mode&1)===0&&(ea=rt()+500,Vu&&zs()))}function xn(r,i){var l=r.callbackNode;Jr(r,i);var d=Vi(r,r===jt?zt:0);if(d===0)l!==null&&Oa(l),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(l!=null&&Oa(l),i===1)r.tag===0?EE(Ey.bind(null,r)):ag(Ey.bind(null,r)),vE(function(){(qe&6)===0&&zs()}),l=null;else{switch(Os(d)){case 1:l=ji;break;case 4:l=Cs;break;case 16:l=zn;break;case 536870912:l=uu;break;default:l=zn}l=Ay(l,xy.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function xy(r,i){if(lc=-1,uc=0,(qe&6)!==0)throw Error(t(327));var l=r.callbackNode;if(ta()&&r.callbackNode!==l)return null;var d=Vi(r,r===jt?zt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=cc(r,d);else{i=d;var p=qe;qe|=2;var y=Iy();(jt!==r||zt!==i)&&(cs=null,ea=rt()+500,Ji(r,i));do try{$E();break}catch(A){Ty(r,A)}while(!0);xh(),rc.current=y,qe=p,It!==null?i=0:(jt=null,zt=0,i=At)}if(i!==0){if(i===2&&(p=An(r),p!==0&&(d=p,i=sf(r,p))),i===1)throw l=ul,Ji(r,0),Qs(r,d),xn(r,rt()),l;if(i===6)Qs(r,d);else{if(p=r.current.alternate,(d&30)===0&&!BE(p)&&(i=cc(r,d),i===2&&(y=An(r),y!==0&&(d=y,i=sf(r,y))),i===1))throw l=ul,Ji(r,0),Qs(r,d),xn(r,rt()),l;switch(r.finishedWork=p,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:Zi(r,wn,cs);break;case 3:if(Qs(r,d),(d&130023424)===d&&(i=tf+500-rt(),10<i)){if(Vi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){un(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=ch(Zi.bind(null,r,wn,cs),i);break}Zi(r,wn,cs);break;case 4:if(Qs(r,d),(d&4194240)===d)break;for(i=r.eventTimes,p=-1;0<d;){var E=31-on(d);y=1<<E,E=i[E],E>p&&(p=E),d&=~y}if(d=p,d=rt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*FE(d/1960))-d,10<d){r.timeoutHandle=ch(Zi.bind(null,r,wn,cs),d);break}Zi(r,wn,cs);break;case 5:Zi(r,wn,cs);break;default:throw Error(t(329))}}}return xn(r,rt()),r.callbackNode===l?xy.bind(null,r):null}function sf(r,i){var l=cl;return r.current.memoizedState.isDehydrated&&(Ji(r,i).flags|=256),r=cc(r,i),r!==2&&(i=wn,wn=l,i!==null&&of(i)),r}function of(r){wn===null?wn=r:wn.push.apply(wn,r)}function BE(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!dr(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(r,i){for(i&=~ef,i&=~sc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-on(i),d=1<<l;r[l]=-1,i&=~d}}function Ey(r){if((qe&6)!==0)throw Error(t(327));ta();var i=Vi(r,0);if((i&1)===0)return xn(r,rt()),null;var l=cc(r,i);if(r.tag!==0&&l===2){var d=An(r);d!==0&&(i=d,l=sf(r,d))}if(l===1)throw l=ul,Ji(r,0),Qs(r,i),xn(r,rt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Zi(r,wn,cs),xn(r,rt()),null}function af(r,i){var l=qe;qe|=1;try{return r(i)}finally{qe=l,qe===0&&(ea=rt()+500,Vu&&zs())}}function Xi(r){Gs!==null&&Gs.tag===0&&(qe&6)===0&&ta();var i=qe;qe|=1;var l=Qn.transition,d=Be;try{if(Qn.transition=null,Be=1,r)return r()}finally{Be=d,Qn.transition=l,qe=i,(qe&6)===0&&zs()}}function lf(){jn=Zo.current,at(Zo)}function Ji(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,yE(l)),It!==null)for(l=It.return;l!==null;){var d=l;switch(gh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ju();break;case 3:Yo(),at(yn),at(Kt),Ch();break;case 5:Rh(d);break;case 4:Yo();break;case 13:at(ft);break;case 19:at(ft);break;case 10:Eh(d.type._context);break;case 22:case 23:lf()}l=l.return}if(jt=r,It=r=Ys(r.current,null),zt=jn=i,At=0,ul=null,ef=sc=Yi=0,wn=cl=null,Gi!==null){for(i=0;i<Gi.length;i++)if(l=Gi[i],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}Gi=null}return r}function Ty(r,i){do{var l=It;try{if(xh(),Gu.current=Xu,Ku){for(var d=pt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ku=!1}if(Qi=0,Ot=Ct=pt=null,rl=!1,sl=0,Zh.current=null,l===null||l.return===null){At=1,ul=i,It=null;break}e:{var y=r,E=l.return,A=l,O=i;if(i=zt,A.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,te=A,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var fe=Kg(E);if(fe!==null){fe.flags&=-257,Qg(fe,E,A,y,i),fe.mode&1&&Gg(y,q,i),i=fe,O=q;var ye=i.updateQueue;if(ye===null){var _e=new Set;_e.add(O),i.updateQueue=_e}else ye.add(O);break e}else{if((i&1)===0){Gg(y,q,i),uf();break e}O=Error(t(426))}}else if(ct&&A.mode&1){var xt=Kg(E);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Qg(xt,E,A,y,i),_h(Xo(O,A));break e}}y=O=Xo(O,A),At!==4&&(At=2),cl===null?cl=[y]:cl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var z=qg(y,O,i);vg(y,z);break e;case 1:A=O;var V=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ws===null||!Ws.has($)))){y.flags|=65536,i&=-i,y.lanes|=i;var ie=Wg(y,A,i);vg(y,ie);break e}}y=y.return}while(y!==null)}by(l)}catch(we){i=we,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Iy(){var r=rc.current;return rc.current=Xu,r===null?Xu:r}function uf(){(At===0||At===3||At===2)&&(At=4),jt===null||(Yi&268435455)===0&&(sc&268435455)===0||Qs(jt,zt)}function cc(r,i){var l=qe;qe|=2;var d=Iy();(jt!==r||zt!==i)&&(cs=null,Ji(r,i));do try{zE();break}catch(p){Ty(r,p)}while(!0);if(xh(),qe=l,rc.current=d,It!==null)throw Error(t(261));return jt=null,zt=0,At}function zE(){for(;It!==null;)Sy(It)}function $E(){for(;It!==null&&!au();)Sy(It)}function Sy(r){var i=Cy(r.alternate,r,jn);r.memoizedProps=r.pendingProps,i===null?by(r):It=i,Zh.current=null}function by(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=jE(l,i,jn),l!==null){It=l;return}}else{if(l=LE(l,i),l!==null){l.flags&=32767,It=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{At=6,It=null;return}}if(i=i.sibling,i!==null){It=i;return}It=i=r}while(i!==null);At===0&&(At=5)}function Zi(r,i,l){var d=Be,p=Qn.transition;try{Qn.transition=null,Be=1,HE(r,i,l,d)}finally{Qn.transition=p,Be=d}return null}function HE(r,i,l,d){do ta();while(Gs!==null);if((qe&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(tt(r,y),r===jt&&(It=jt=null,zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||oc||(oc=!0,Ay(zn,function(){return ta(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var E=Be;Be=1;var A=qe;qe|=4,Zh.current=null,ME(r,l),gy(l,r),cE(lh),Ls=!!ah,lh=ah=null,r.current=l,UE(l),qd(),qe=A,Be=E,Qn.transition=y}else r.current=l;if(oc&&(oc=!1,Gs=r,ac=p),y=r.pendingLanes,y===0&&(Ws=null),cu(l.stateNode),xn(r,rt()),i!==null)for(d=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ic)throw ic=!1,r=nf,nf=null,r;return(ac&1)!==0&&r.tag!==0&&ta(),y=r.pendingLanes,(y&1)!==0?r===rf?dl++:(dl=0,rf=r):dl=0,zs(),null}function ta(){if(Gs!==null){var r=Os(ac),i=Qn.transition,l=Be;try{if(Qn.transition=null,Be=16>r?16:r,Gs===null)var d=!1;else{if(r=Gs,Gs=null,ac=0,(qe&6)!==0)throw Error(t(331));var p=qe;for(qe|=4,ge=r.current;ge!==null;){var y=ge,E=y.child;if((ge.flags&16)!==0){var A=y.deletions;if(A!==null){for(var O=0;O<A.length;O++){var q=A[O];for(ge=q;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:ll(8,te,y)}var re=te.child;if(re!==null)re.return=te,ge=re;else for(;ge!==null;){te=ge;var ee=te.sibling,fe=te.return;if(dy(te),te===q){ge=null;break}if(ee!==null){ee.return=fe,ge=ee;break}ge=fe}}}var ye=y.alternate;if(ye!==null){var _e=ye.child;if(_e!==null){ye.child=null;do{var xt=_e.sibling;_e.sibling=null,_e=xt}while(_e!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ge=E;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ll(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ge=z;break e}ge=y.return}}var V=r.current;for(ge=V;ge!==null;){E=ge;var $=E.child;if((E.subtreeFlags&2064)!==0&&$!==null)$.return=E,ge=$;else e:for(E=V;ge!==null;){if(A=ge,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:nc(9,A)}}catch(we){_t(A,A.return,we)}if(A===E){ge=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,ge=ie;break e}ge=A.return}}if(qe=p,zs(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Li,r)}catch{}d=!0}return d}finally{Be=l,Qn.transition=i}}return!1}function Ry(r,i,l){i=Xo(l,i),i=qg(r,i,1),r=Hs(r,i,1),i=un(),r!==null&&(Ps(r,1,i),xn(r,i))}function _t(r,i,l){if(r.tag===3)Ry(r,r,l);else for(;i!==null;){if(i.tag===3){Ry(i,r,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ws===null||!Ws.has(d))){r=Xo(l,r),r=Wg(i,r,1),i=Hs(i,r,1),r=un(),i!==null&&(Ps(i,1,r),xn(i,r));break}}i=i.return}}function qE(r,i,l){var d=r.pingCache;d!==null&&d.delete(i),i=un(),r.pingedLanes|=r.suspendedLanes&l,jt===r&&(zt&l)===l&&(At===4||At===3&&(zt&130023424)===zt&&500>rt()-tf?Ji(r,0):ef|=l),xn(r,i)}function ky(r,i){i===0&&((r.mode&1)===0?i=1:(i=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var l=un();r=as(r,i),r!==null&&(Ps(r,i,l),xn(r,l))}function WE(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),ky(r,l)}function GE(r,i){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),ky(r,l)}var Cy;Cy=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||yn.current)_n=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return _n=!1,OE(r,i,l);_n=(r.flags&131072)!==0}else _n=!1,ct&&(i.flags&1048576)!==0&&lg(i,Uu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;ec(r,i),r=i.pendingProps;var p=$o(i,Kt.current);Qo(i,l),p=Ph(null,i,d,r,p,l);var y=Dh();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vn(d)?(y=!0,Lu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Sh(i),p.updater=Ju,i.stateNode=p,p._reactInternals=i,Uh(i,d,r,l),i=$h(null,i,d,!0,y,l)):(i.tag=0,ct&&y&&mh(i),ln(null,i,p,l),i=i.child),i;case 16:d=i.elementType;e:{switch(ec(r,i),r=i.pendingProps,p=d._init,d=p(d._payload),i.type=d,p=i.tag=QE(d),r=fr(d,r),p){case 0:i=zh(null,i,d,r,l);break e;case 1:i=ty(null,i,d,r,l);break e;case 11:i=Yg(null,i,d,r,l);break e;case 14:i=Xg(null,i,d,fr(d.type,r),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:fr(d,p),zh(r,i,d,p,l);case 1:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:fr(d,p),ty(r,i,d,p,l);case 3:e:{if(ny(i),r===null)throw Error(t(387));d=i.pendingProps,y=i.memoizedState,p=y.element,yg(r,i),qu(i,d,null,l);var E=i.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=Xo(Error(t(423)),i),i=ry(r,i,d,l,p);break e}else if(d!==p){p=Xo(Error(t(424)),i),i=ry(r,i,d,l,p);break e}else for(On=Us(i.stateNode.containerInfo.firstChild),Dn=i,ct=!0,hr=null,l=mg(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wo(),d===p){i=us(r,i,l);break e}ln(r,i,d,l)}i=i.child}return i;case 5:return wg(i),r===null&&vh(i),d=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,uh(d,p)?E=null:y!==null&&uh(d,y)&&(i.flags|=32),ey(r,i),ln(r,i,E,l),i.child;case 6:return r===null&&vh(i),null;case 13:return sy(r,i,l);case 4:return bh(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Go(i,null,d,l):ln(r,i,d,l),i.child;case 11:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:fr(d,p),Yg(r,i,d,p,l);case 7:return ln(r,i,i.pendingProps,l),i.child;case 8:return ln(r,i,i.pendingProps.children,l),i.child;case 12:return ln(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,st(zu,d._currentValue),d._currentValue=E,y!==null)if(dr(y.value,E)){if(y.children===p.children&&!yn.current){i=us(r,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){E=y.child;for(var O=A.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=ls(-1,l&-l),O.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?O.next=O:(O.next=te.next,te.next=O),q.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Th(y.return,l,i),A.lanes|=l;break}O=O.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),Th(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}ln(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,d=i.pendingProps.children,Qo(i,l),p=Gn(p),d=d(p),i.flags|=1,ln(r,i,d,l),i.child;case 14:return d=i.type,p=fr(d,i.pendingProps),p=fr(d.type,p),Xg(r,i,d,p,l);case 15:return Jg(r,i,i.type,i.pendingProps,l);case 17:return d=i.type,p=i.pendingProps,p=i.elementType===d?p:fr(d,p),ec(r,i),i.tag=1,vn(d)?(r=!0,Lu(i)):r=!1,Qo(i,l),$g(i,d,p),Uh(i,d,p,l),$h(null,i,d,!0,r,l);case 19:return oy(r,i,l);case 22:return Zg(r,i,l)}throw Error(t(156,i.tag))};function Ay(r,i){return Eo(r,i)}function KE(r,i,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,i,l,d){return new KE(r,i,l,d)}function cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function QE(r){if(typeof r=="function")return cf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Z)return 14}return 2}function Ys(r,i){var l=r.alternate;return l===null?(l=Yn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function dc(r,i,l,d,p,y){var E=2;if(d=r,typeof r=="function")cf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return eo(l.children,p,y,i);case T:E=8,p|=8;break;case R:return r=Yn(12,l,i,p|2),r.elementType=R,r.lanes=y,r;case C:return r=Yn(13,l,i,p),r.elementType=C,r.lanes=y,r;case Oe:return r=Yn(19,l,i,p),r.elementType=Oe,r.lanes=y,r;case me:return hc(l,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:E=10;break e;case k:E=9;break e;case L:E=11;break e;case Z:E=14;break e;case Ce:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Yn(E,l,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function eo(r,i,l,d){return r=Yn(7,r,d,i),r.lanes=l,r}function hc(r,i,l,d){return r=Yn(22,r,d,i),r.elementType=me,r.lanes=l,r.stateNode={isHidden:!1},r}function df(r,i,l){return r=Yn(6,r,null,i),r.lanes=l,r}function hf(r,i,l){return i=Yn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function YE(r,i,l,d,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function ff(r,i,l,d,p,y,E,A,O){return r=new YE(r,i,l,A,O),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Yn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(y),r}function XE(r,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:d==null?null:""+d,children:r,containerInfo:i,implementation:l}}function Ny(r){if(!r)return Bs;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(vn(l))return ig(r,l,i)}return i}function Py(r,i,l,d,p,y,E,A,O){return r=ff(l,d,!0,r,p,y,E,A,O),r.context=Ny(null),l=r.current,d=un(),p=Ks(l),y=ls(d,p),y.callback=i??null,Hs(l,y,p),r.current.lanes=p,Ps(r,p,d),xn(r,d),r}function fc(r,i,l,d){var p=i.current,y=un(),E=Ks(p);return l=Ny(l),i.context===null?i.context=l:i.pendingContext=l,i=ls(y,E),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=Hs(p,i,E),r!==null&&(gr(r,p,E,y),Hu(r,p,E)),E}function pc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function pf(r,i){Dy(r,i),(r=r.alternate)&&Dy(r,i)}function JE(){return null}var Oy=typeof reportError=="function"?reportError:function(r){console.error(r)};function mf(r){this._internalRoot=r}mc.prototype.render=mf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));fc(r,i,null,null)},mc.prototype.unmount=mf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Xi(function(){fc(null,r,null,null)}),i[rs]=null}};function mc(r){this._internalRoot=r}mc.prototype.unstable_scheduleHydration=function(r){if(r){var i=mu();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Sr.length&&i!==0&&i<Sr[l].priority;l++);Sr.splice(l,0,r),l===0&&vu(r)}};function gf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function gc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jy(){}function ZE(r,i,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var q=pc(E);y.call(q)}}var E=Py(i,d,r,0,null,!1,!1,"",jy);return r._reactRootContainer=E,r[rs]=E.current,Qa(r.nodeType===8?r.parentNode:r),Xi(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var A=d;d=function(){var q=pc(O);A.call(q)}}var O=ff(r,0,!1,null,null,!1,!1,"",jy);return r._reactRootContainer=O,r[rs]=O.current,Qa(r.nodeType===8?r.parentNode:r),Xi(function(){fc(i,O,l,d)}),O}function yc(r,i,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var A=p;p=function(){var O=pc(E);A.call(O)}}fc(i,E,r,p)}else E=ZE(l,i,r,p,d);return pc(E)}fu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=As(i.pendingLanes);l!==0&&(Ds(i,l|1),xn(i,rt()),(qe&6)===0&&(ea=rt()+500,zs()))}break;case 13:Xi(function(){var d=as(r,1);if(d!==null){var p=un();gr(d,r,1,p)}}),pf(r,1)}},So=function(r){if(r.tag===13){var i=as(r,134217728);if(i!==null){var l=un();gr(i,r,134217728,l)}pf(r,134217728)}},pu=function(r){if(r.tag===13){var i=Ks(r),l=as(r,i);if(l!==null){var d=un();gr(l,r,i,d)}pf(r,i)}},mu=function(){return Be},gu=function(r,i){var l=Be;try{return Be=r,i()}finally{Be=l}},Xr=function(r,i,l){switch(i){case"input":if(Ci(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==r&&d.form===r.form){var p=Ou(d);if(!p)throw Error(t(90));Er(d),Ci(d,p)}}}break;case"textarea":Rs(r,l);break;case"select":i=l.value,i!=null&&rn(r,!!l.multiple,i,!1)}},Ve=af,Qe=Xi;var e1={usingClientEntryPoint:!1,Events:[Ja,Bo,Ou,Bn,be,af]},hl={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t1={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Da(r),r===null?null:r.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||JE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Li=vc.inject(t1),Cn=vc}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e1,En.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(i))throw Error(t(200));return XE(r,i,null,l)},En.createRoot=function(r,i){if(!gf(r))throw Error(t(299));var l=!1,d="",p=Oy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=ff(r,1,!1,null,null,l,!1,d,p),r[rs]=i.current,Qa(r.nodeType===8?r.parentNode:r),new mf(i)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Da(i),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return Xi(r)},En.hydrate=function(r,i,l){if(!gc(i))throw Error(t(200));return yc(null,r,i,!0,l)},En.hydrateRoot=function(r,i,l){if(!gf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=Oy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=Py(i,null,r,1,l??null,p,!1,y,E),r[rs]=i.current,Qa(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new mc(i)},En.render=function(r,i,l){if(!gc(i))throw Error(t(200));return yc(null,r,i,!1,l)},En.unmountComponentAtNode=function(r){if(!gc(r))throw Error(t(40));return r._reactRootContainer?(Xi(function(){yc(null,null,r,!1,function(){r._reactRootContainer=null,r[rs]=null})}),!0):!1},En.unstable_batchedUpdates=af,En.unstable_renderSubtreeIntoContainer=function(r,i,l,d){if(!gc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return yc(r,i,l,!1,d)},En.version="18.3.1-next-f1338f8080-20240426",En}var $y;function z_(){if($y)return _f.exports;$y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_f.exports=l1(),_f.exports}var Hy;function u1(){if(Hy)return _c;Hy=1;var n=z_();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var c1=u1();const d1=vp(c1);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qy="popstate";function h1(n={}){function e(s,o){let{pathname:a,search:c,hash:h}=s.location;return Uf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:kl(o)}return p1(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f1(){return Math.random().toString(36).substring(2,10)}function Wy(n,e){return{usr:n.state,key:n.key,idx:e}}function Uf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||s||f1()}}function kl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function p1(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,h="POP",f=null,v=w();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function w(){return(c.state||{idx:null}).idx}function x(){h="POP";let j=w(),X=j==null?null:j-v;v=j,f&&f({action:h,location:M.location,delta:X})}function b(j,X){h="PUSH";let Q=Uf(M.location,j,X);v=w()+1;let H=Wy(Q,v),ne=M.createHref(Q);try{c.pushState(H,"",ne)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ne)}a&&f&&f({action:h,location:M.location,delta:1})}function I(j,X){h="REPLACE";let Q=Uf(M.location,j,X);v=w();let H=Wy(Q,v),ne=M.createHref(Q);c.replaceState(H,"",ne),a&&f&&f({action:h,location:M.location,delta:0})}function F(j){return m1(j)}let M={get action(){return h},get location(){return n(o,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(qy,x),f=j,()=>{o.removeEventListener(qy,x),f=null}},createHref(j){return e(o,j)},createURL:F,encodeLocation(j){let X=F(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:b,replace:I,go(j){return c.go(j)}};return M}function m1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:kl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function $_(n,e,t="/"){return g1(n,e,t,!1)}function g1(n,e,t,s){let o=typeof e=="string"?Ea(e):e,a=gs(o.pathname||"/",t);if(a==null)return null;let c=H_(n);y1(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let v=k1(a);h=b1(c[f],v,s)}return h}function H_(n,e=[],t=[],s="",o=!1){let a=(c,h,f=o,v)=>{let w={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&f)return;mt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let x=ps([s,w.relativePath]),b=t.concat(w);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),H_(c.children,e,b,x,f)),!(c.path==null&&!c.index)&&e.push({path:x,score:I1(x,c.index),routesMeta:b})};return n.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))a(c,h);else for(let v of q_(c.path))a(c,h,!0,v)}),e}function q_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=q_(s.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function y1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:S1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var v1=/^:[\w-]+$/,_1=3,w1=2,x1=1,E1=10,T1=-2,Gy=n=>n==="*";function I1(n,e){let t=n.split("/"),s=t.length;return t.some(Gy)&&(s+=T1),e&&(s+=w1),t.filter(o=>!Gy(o)).reduce((o,a)=>o+(v1.test(a)?_1:a===""?x1:E1),s)}function S1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function b1(n,e,t=!1){let{routesMeta:s}=n,o={},a="/",c=[];for(let h=0;h<s.length;++h){let f=s[h],v=h===s.length-1,w=a==="/"?e:e.slice(a.length)||"/",x=$c({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},w),b=f.route;if(!x&&v&&t&&!s[s.length-1].route.index&&(x=$c({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:ps([a,x.pathname]),pathnameBase:P1(ps([a,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(a=ps([a,x.pathnameBase]))}return c}function $c(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=R1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:x},b)=>{if(w==="*"){let F=h[b]||"";c=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const I=h[b];return x&&!I?v[w]=void 0:v[w]=(I||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:c,pattern:n}}function R1(n,e=!1,t=!0){zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function k1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var C1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function A1(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Ea(n):n,a;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?a=Ky(t.substring(1),"/"):a=Ky(t,e)):a=e,{pathname:a,search:D1(s),hash:O1(o)}}function Ky(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function W_(n){let e=N1(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function G_(n,e,t,s=!1){let o;typeof n=="string"?o=Ea(n):(o={...n},mt(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let x=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;o.pathname=b.join("/")}h=x>=0?e[x]:"/"}let f=A1(o,h),v=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(v||w)&&(f.pathname+="/"),f}var ps=n=>n.join("/").replace(/\/\/+/g,"/"),P1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,j1=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function L1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function V1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Q_(n,e){let t=n;if(typeof t!="string"||!C1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(K_)try{let a=new URL(window.location.href),c=t.startsWith("//")?new URL(a.protocol+t):new URL(t),h=gs(c.pathname,e);c.origin===a.origin&&h!=null?t=h+c.search+c.hash:o=!0}catch{zr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y_=["POST","PUT","PATCH","DELETE"];new Set(Y_);var M1=["GET",...Y_];new Set(M1);var Ta=N.createContext(null);Ta.displayName="DataRouter";var fd=N.createContext(null);fd.displayName="DataRouterState";var U1=N.createContext(!1),X_=N.createContext({isTransitioning:!1});X_.displayName="ViewTransition";var F1=N.createContext(new Map);F1.displayName="Fetchers";var B1=N.createContext(null);B1.displayName="Await";var er=N.createContext(null);er.displayName="Navigation";var zl=N.createContext(null);zl.displayName="Location";var xs=N.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var wp=N.createContext(null);wp.displayName="RouteError";var J_="REACT_ROUTER_ERROR",z1="REDIRECT",$1="ROUTE_ERROR_RESPONSE";function H1(n){if(n.startsWith(`${J_}:${z1}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function q1(n){if(n.startsWith(`${J_}:${$1}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new j1(e.status,e.statusText,e.data)}catch{}}function W1(n,{relative:e}={}){mt($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=N.useContext(er),{hash:o,pathname:a,search:c}=Hl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ps([t,a])),s.createHref({pathname:h,search:c,hash:o})}function $l(){return N.useContext(zl)!=null}function Hr(){return mt($l(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(zl).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(n){N.useContext(er).static||N.useLayoutEffect(n)}function pd(){let{isDataRoute:n}=N.useContext(xs);return n?iT():G1()}function G1(){mt($l(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Ta),{basename:e,navigator:t}=N.useContext(er),{matches:s}=N.useContext(xs),{pathname:o}=Hr(),a=JSON.stringify(W_(s)),c=N.useRef(!1);return e0(()=>{c.current=!0}),N.useCallback((f,v={})=>{if(zr(c.current,Z_),!c.current)return;if(typeof f=="number"){t.go(f);return}let w=G_(f,JSON.parse(a),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ps([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,a,o,n])}N.createContext(null);function Hl(n,{relative:e}={}){let{matches:t}=N.useContext(xs),{pathname:s}=Hr(),o=JSON.stringify(W_(t));return N.useMemo(()=>G_(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function K1(n,e){return t0(n,e)}function t0(n,e,t,s,o){var Q;mt($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(er),{matches:c}=N.useContext(xs),h=c[c.length-1],f=h?h.params:{},v=h?h.pathname:"/",w=h?h.pathnameBase:"/",x=h&&h.route;{let H=x&&x.path||"";r0(v,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=Hr(),I;if(e){let H=typeof e=="string"?Ea(e):e;mt(w==="/"||((Q=H.pathname)==null?void 0:Q.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=b;let F=I.pathname||"/",M=F;if(w!=="/"){let H=w.replace(/^\//,"").split("/");M="/"+F.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=$_(n,{pathname:M});zr(x||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),zr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Z1(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:ps([w,a.encodeLocation?a.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?w:ps([w,a.encodeLocation?a.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,t,s,o);return e&&X?N.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},X):X}function Q1(){let n=sT(),e=L1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,c)}var Y1=N.createElement(Q1,null),n0=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=q1(n.digest);t&&(n=t)}let e=n!==void 0?N.createElement(xs.Provider,{value:this.props.routeContext},N.createElement(wp.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(X1,{error:n},e):e}};n0.contextType=U1;var Tf=new WeakMap;function X1({children:n,error:e}){let{basename:t}=N.useContext(er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=H1(e.digest);if(s){let o=Tf.get(e);if(o)throw o;let a=Q_(s.location,t);if(K_&&!Tf.get(e))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Tf.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function J1({routeContext:n,match:e,children:t}){let s=N.useContext(Ta);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(xs.Provider,{value:n},t)}function Z1(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,c=t==null?void 0:t.errors;if(c!=null){let w=a.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);mt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,w+1))}let h=!1,f=-1;if(t)for(let w=0;w<a.length;w++){let x=a[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=w),x.route.id){let{loaderData:b,errors:I}=t,F=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!I||I[x.route.id]===void 0);if(x.route.lazy||F){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let v=t&&s?(w,x)=>{var b,I;s(w,{location:t.location,params:((I=(b=t.matches)==null?void 0:b[0])==null?void 0:I.params)??{},unstable_pattern:V1(t.matches),errorInfo:x})}:void 0;return a.reduceRight((w,x,b)=>{let I,F=!1,M=null,j=null;t&&(I=c&&x.route.id?c[x.route.id]:void 0,M=x.route.errorElement||Y1,h&&(f<0&&b===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,j=null):f===b&&(F=!0,j=x.route.hydrateFallbackElement||null)));let X=e.concat(a.slice(0,b+1)),Q=()=>{let H;return I?H=M:F?H=j:x.route.Component?H=N.createElement(x.route.Component,null):x.route.element?H=x.route.element:H=w,N.createElement(J1,{match:x,routeContext:{outlet:w,matches:X,isDataRoute:t!=null},children:H})};return t&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?N.createElement(n0,{location:t.location,revalidation:t.revalidation,component:M,error:I,children:Q(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:v}):Q()},null)}function xp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eT(n){let e=N.useContext(Ta);return mt(e,xp(n)),e}function tT(n){let e=N.useContext(fd);return mt(e,xp(n)),e}function nT(n){let e=N.useContext(xs);return mt(e,xp(n)),e}function Ep(n){let e=nT(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rT(){return Ep("useRouteId")}function sT(){var s;let n=N.useContext(wp),e=tT("useRouteError"),t=Ep("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function iT(){let{router:n}=eT("useNavigate"),e=Ep("useNavigate"),t=N.useRef(!1);return e0(()=>{t.current=!0}),N.useCallback(async(o,a={})=>{zr(t.current,Z_),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Qy={};function r0(n,e,t){!e&&!Qy[n]&&(Qy[n]=!0,zr(!1,t))}N.memo(oT);function oT({routes:n,future:e,state:t,onError:s}){return t0(n,void 0,t,s,e)}function ds(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aT({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:a=!1,unstable_useTransitions:c}){mt(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:o,static:a,unstable_useTransitions:c,future:{}}),[h,o,a,c]);typeof t=="string"&&(t=Ea(t));let{pathname:v="/",search:w="",hash:x="",state:b=null,key:I="default"}=t,F=N.useMemo(()=>{let M=gs(v,h);return M==null?null:{location:{pathname:M,search:w,hash:x,state:b,key:I},navigationType:s}},[h,v,w,x,b,I,s]);return zr(F!=null,`<Router basename="${h}"> is not able to match the URL "${v}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:N.createElement(er.Provider,{value:f},N.createElement(zl.Provider,{children:e,value:F}))}function lT({children:n,location:e}){return K1(Ff(n),e)}function Ff(n,e=[]){let t=[];return N.Children.forEach(n,(s,o)=>{if(!N.isValidElement(s))return;let a=[...e,o];if(s.type===N.Fragment){t.push.apply(t,Ff(s.props.children,a));return}mt(s.type===ds,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ff(s.props.children,a)),t.push(c)}),t}var Nc="get",Pc="application/x-www-form-urlencoded";function md(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function uT(n){return md(n)&&n.tagName.toLowerCase()==="button"}function cT(n){return md(n)&&n.tagName.toLowerCase()==="form"}function dT(n){return md(n)&&n.tagName.toLowerCase()==="input"}function hT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fT(n,e){return n.button===0&&(!e||e==="_self")&&!hT(n)}var wc=null;function pT(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var mT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(n){return n!=null&&!mT.has(n)?(zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pc}"`),null):n}function gT(n,e){let t,s,o,a,c;if(cT(n)){let h=n.getAttribute("action");s=h?gs(h,e):null,t=n.getAttribute("method")||Nc,o=If(n.getAttribute("enctype"))||Pc,a=new FormData(n)}else if(uT(n)||dT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(s=f?gs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Nc,o=If(n.getAttribute("formenctype"))||If(h.getAttribute("enctype"))||Pc,a=new FormData(h,n),!pT()){let{name:v,type:w,value:x}=n;if(w==="image"){let b=v?`${v}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else v&&a.append(v,x)}}else{if(md(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,s=null,o=Pc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yT(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function vT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _T(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wT(n,e,t){let s=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await vT(a,t);return c.links?c.links():[]}return[]}));return IT(s.flat(1).filter(_T).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(n,e,t,s,o,a){let c=(f,v)=>t[v]?f.route.id!==t[v].route.id:!0,h=(f,v)=>{var w;return t[v].pathname!==f.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,v)=>c(f,v)||h(f,v)):a==="data"?e.filter((f,v)=>{var x;let w=s.routes[f.route.id];if(!w||!w.hasLoader)return!1;if(c(f,v)||h(f,v))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xT(n,e,{includeHydrateFallback:t}={}){return ET(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function ET(n){return[...new Set(n)]}function TT(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function IT(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let a=JSON.stringify(TT(o));return t.has(a)||(t.add(a),s.push({key:a,link:o})),s},[])}function s0(){let n=N.useContext(Ta);return Tp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ST(){let n=N.useContext(fd);return Tp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ip=N.createContext(void 0);Ip.displayName="FrameworkContext";function i0(){let n=N.useContext(Ip);return Tp(n,"You must render this element inside a <HydratedRouter> element"),n}function bT(n,e){let t=N.useContext(Ip),[s,o]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:v,onMouseLeave:w,onTouchStart:x}=e,b=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=X=>{X.forEach(Q=>{c(Q.isIntersecting)})},j=new IntersectionObserver(M,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[n]),N.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let I=()=>{o(!0)},F=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:pl(h,I),onBlur:pl(f,F),onMouseEnter:pl(v,I),onMouseLeave:pl(w,F),onTouchStart:pl(x,I)}]:[!1,b,{}]}function pl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RT({page:n,...e}){let{router:t}=s0(),s=N.useMemo(()=>$_(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?N.createElement(CT,{page:n,matches:s,...e}):null}function kT(n){let{manifest:e,routeModules:t}=i0(),[s,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return wT(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),s}function CT({page:n,matches:e,...t}){let s=Hr(),{future:o,manifest:a,routeModules:c}=i0(),{basename:h}=s0(),{loaderData:f,matches:v}=ST(),w=N.useMemo(()=>Yy(n,e,v,a,s,"data"),[n,e,v,a,s]),x=N.useMemo(()=>Yy(n,e,v,a,s,"assets"),[n,e,v,a,s]),b=N.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let M=new Set,j=!1;if(e.forEach(Q=>{var ne;let H=a.routes[Q.route.id];!H||!H.hasLoader||(!w.some(de=>de.route.id===Q.route.id)&&Q.route.id in f&&((ne=c[Q.route.id])!=null&&ne.shouldRevalidate)||H.hasClientLoader?j=!0:M.add(Q.route.id))}),M.size===0)return[];let X=yT(n,h,o.unstable_trailingSlashAwareDataRequests,"data");return j&&M.size>0&&X.searchParams.set("_routes",e.filter(Q=>M.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[X.pathname+X.search]},[h,o.unstable_trailingSlashAwareDataRequests,f,s,a,w,e,n,c]),I=N.useMemo(()=>xT(x,a),[x,a]),F=kT(x);return N.createElement(N.Fragment,null,b.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),I.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),F.map(({key:M,link:j})=>N.createElement("link",{key:M,nonce:t.nonce,...j,crossOrigin:j.crossOrigin??t.crossOrigin})))}function AT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.13.0")}catch{}function PT({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=N.useRef();o.current==null&&(o.current=h1({window:s,v5Compat:!0}));let a=o.current,[c,h]=N.useState({action:a.action,location:a.location}),f=N.useCallback(v=>{t===!1?h(v):N.startTransition(()=>h(v))},[t]);return N.useLayoutEffect(()=>a.listen(f),[a,f]),N.createElement(aT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:t})}var o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,la=N.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:a,replace:c,state:h,target:f,to:v,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:b,...I},F){let{basename:M,unstable_useTransitions:j}=N.useContext(er),X=typeof v=="string"&&o0.test(v),Q=Q_(v,M);v=Q.to;let H=W1(v,{relative:o}),[ne,de,K]=bT(s,I),D=LT(v,{replace:c,state:h,target:f,preventScrollReset:w,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:b,unstable_useTransitions:j});function T(P){e&&e(P),P.defaultPrevented||D(P)}let R=N.createElement("a",{...I,...K,href:Q.absoluteURL||H,onClick:Q.isExternal||a?e:T,ref:AT(F,de),target:f,"data-discover":!X&&t==="render"?"true":void 0});return ne&&!X?N.createElement(N.Fragment,null,R,N.createElement(RT,{page:H})):R});la.displayName="Link";var DT=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:h,children:f,...v},w){let x=Hl(c,{relative:v.relative}),b=Hr(),I=N.useContext(fd),{navigator:F,basename:M}=N.useContext(er),j=I!=null&&BT(x)&&h===!0,X=F.encodeLocation?F.encodeLocation(x).pathname:x.pathname,Q=b.pathname,H=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),H=H?H.toLowerCase():null,X=X.toLowerCase()),H&&M&&(H=gs(H,M)||H);const ne=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let de=Q===X||!o&&Q.startsWith(X)&&Q.charAt(ne)==="/",K=H!=null&&(H===X||!o&&H.startsWith(X)&&H.charAt(X.length)==="/"),D={isActive:de,isPending:K,isTransitioning:j},T=de?e:void 0,R;typeof s=="function"?R=s(D):R=[s,de?"active":null,K?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(D):a;return N.createElement(la,{...v,"aria-current":T,className:R,ref:w,style:P,to:c,viewTransition:h},typeof f=="function"?f(D):f)});DT.displayName="NavLink";var OT=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:a,method:c=Nc,action:h,onSubmit:f,relative:v,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:b,...I},F)=>{let{unstable_useTransitions:M}=N.useContext(er),j=UT(),X=FT(h,{relative:v}),Q=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&o0.test(h),ne=de=>{if(f&&f(de),de.defaultPrevented)return;de.preventDefault();let K=de.nativeEvent.submitter,D=(K==null?void 0:K.getAttribute("formmethod"))||c,T=()=>j(K||de.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:o,state:a,relative:v,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:b});M&&t!==!1?N.startTransition(()=>T()):T()};return N.createElement("form",{ref:F,method:Q,action:X,onSubmit:s?f:ne,...I,"data-discover":!H&&n==="render"?"true":void 0})});OT.displayName="Form";function jT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a0(n){let e=N.useContext(Ta);return mt(e,jT(n)),e}function LT(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let v=pd(),w=Hr(),x=Hl(n,{relative:a});return N.useCallback(b=>{if(fT(b,e)){b.preventDefault();let I=t!==void 0?t:kl(w)===kl(x),F=()=>v(n,{replace:I,state:s,preventScrollReset:o,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:h});f?N.startTransition(()=>F()):F()}},[w,v,x,t,s,e,n,o,a,c,h,f])}var VT=0,MT=()=>`__${String(++VT)}__`;function UT(){let{router:n}=a0("useSubmit"),{basename:e}=N.useContext(er),t=rT(),s=n.fetch,o=n.navigate;return N.useCallback(async(a,c={})=>{let{action:h,method:f,encType:v,formData:w,body:x}=gT(a,e);if(c.navigate===!1){let b=c.fetcherKey||MT();await s(b,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:x,formMethod:c.method||f,formEncType:c.encType||v,flushSync:c.flushSync})}else await o(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:w,body:x,formMethod:c.method||f,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,t])}function FT(n,{relative:e}={}){let{basename:t}=N.useContext(er),s=N.useContext(xs);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),a={...Hl(n||".",{relative:e})},c=Hr();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(w=>w==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let w=h.toString();a.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ps([t,a.pathname])),kl(a)}function BT(n,{relative:e}={}){let t=N.useContext(X_);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a0("useViewTransitionState"),o=Hl(n,{relative:e});if(!t.isTransitioning)return!1;let a=gs(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=gs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return $c(o.pathname,c)!=null||$c(o.pathname,a)!=null}var zT=z_();const $T=vp(zT);var HT=n=>{switch(n){case"success":return GT;case"info":return QT;case"warning":return KT;case"error":return YT;default:return null}},qT=Array(12).fill(0),WT=({visible:n,className:e})=>ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ce.createElement("div",{className:"sonner-spinner"},qT.map((t,s)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),GT=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KT=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QT=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YT=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XT=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JT=()=>{let[n,e]=ce.useState(document.hidden);return ce.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},Bf=1,ZT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Bf++,c=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:s}),{...f,...e,id:a,dismissible:h,title:s}):f):this.addToast({title:s,...o,dismissible:h,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let o=e instanceof Promise?e:e(),a=s!==void 0,c,h=o.then(async v=>{if(c=["resolve",v],ce.isValidElement(v))a=!1,this.create({id:s,type:"default",message:v});else if(tI(v)&&!v.ok){a=!1;let w=typeof t.error=="function"?await t.error(`HTTP error! status: ${v.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${v.status}`):t.description;this.create({id:s,type:"error",message:w,description:x})}else if(t.success!==void 0){a=!1;let w=typeof t.success=="function"?await t.success(v):t.success,x=typeof t.description=="function"?await t.description(v):t.description;this.create({id:s,type:"success",message:w,description:x})}}).catch(async v=>{if(c=["reject",v],t.error!==void 0){a=!1;let w=typeof t.error=="function"?await t.error(v):t.error,x=typeof t.description=="function"?await t.description(v):t.description;this.create({id:s,type:"error",message:w,description:x})}}).finally(()=>{var v;a&&(this.dismiss(s),s=void 0),(v=t.finally)==null||v.call(t)}),f=()=>new Promise((v,w)=>h.then(()=>c[0]==="reject"?w(c[1]):v(c[1])).catch(w));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Bf++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new ZT,eI=(n,e)=>{let t=(e==null?void 0:e.id)||Bf++;return Tn.addToast({title:n,...e,id:t}),t},tI=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",nI=eI,rI=()=>Tn.toasts,sI=()=>Tn.getActiveToasts(),He=Object.assign(nI,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:rI,getToasts:sI});function iI(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}iI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xc(n){return n.label!==void 0}var oI=3,aI="32px",lI="16px",Xy=4e3,uI=356,cI=14,dI=20,hI=200;function yr(...n){return n.filter(Boolean).join(" ")}function fI(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var pI=n=>{var e,t,s,o,a,c,h,f,v,w,x;let{invert:b,toast:I,unstyled:F,interacting:M,setHeights:j,visibleToasts:X,heights:Q,index:H,toasts:ne,expanded:de,removeToast:K,defaultRichColors:D,closeButton:T,style:R,cancelButtonStyle:P,actionButtonStyle:k,className:L="",descriptionClassName:C="",duration:Oe,position:Z,gap:Ce,loadingIcon:me,expandByDefault:oe,classNames:se,icons:ae,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W}=n,[ue,ve]=ce.useState(null),[Te,De]=ce.useState(null),[Ee,Fe]=ce.useState(!1),[We,dt]=ce.useState(!1),[nn,Er]=ce.useState(!1),[tr,Wr]=ce.useState(!1),[Es,Ts]=ce.useState(!1),[Ci,Is]=ce.useState(0),[Ss,Mn]=ce.useState(0),rn=ce.useRef(I.duration||Oe||Xy),bs=ce.useRef(null),dn=ce.useRef(null),Rs=H===0,Ai=H+1<=X,Ge=I.type,nt=I.dismissible!==!1,nr=I.className||"",Ni=I.descriptionClassName||"",kn=ce.useMemo(()=>Q.findIndex(be=>be.toastId===I.id)||0,[Q,I.id]),Gr=ce.useMemo(()=>{var be;return(be=I.closeButton)!=null?be:T},[I.closeButton,T]),Tr=ce.useMemo(()=>I.duration||Oe||Xy,[I.duration,Oe]),Kr=ce.useRef(0),Un=ce.useRef(0),ks=ce.useRef(0),Fn=ce.useRef(null),[Pi,Qr]=Z.split("-"),Yr=ce.useMemo(()=>Q.reduce((be,Ve,Qe)=>Qe>=kn?be:be+Ve.height,0),[Q,kn]),Xr=JT(),hn=I.invert||b,fn=Ge==="loading";Un.current=ce.useMemo(()=>kn*Ce+Yr,[kn,Yr]),ce.useEffect(()=>{rn.current=Tr},[Tr]),ce.useEffect(()=>{Fe(!0)},[]),ce.useEffect(()=>{let be=dn.current;if(be){let Ve=be.getBoundingClientRect().height;return Mn(Ve),j(Qe=>[{toastId:I.id,height:Ve,position:I.position},...Qe]),()=>j(Qe=>Qe.filter(wt=>wt.toastId!==I.id))}},[j,I.id]),ce.useLayoutEffect(()=>{if(!Ee)return;let be=dn.current,Ve=be.style.height;be.style.height="auto";let Qe=be.getBoundingClientRect().height;be.style.height=Ve,Mn(Qe),j(wt=>wt.find(Mt=>Mt.toastId===I.id)?wt.map(Mt=>Mt.toastId===I.id?{...Mt,height:Qe}:Mt):[{toastId:I.id,height:Qe,position:I.position},...wt])},[Ee,I.title,I.description,j,I.id]);let sn=ce.useCallback(()=>{dt(!0),Is(Un.current),j(be=>be.filter(Ve=>Ve.toastId!==I.id)),setTimeout(()=>{K(I)},hI)},[I,K,j,Un]);ce.useEffect(()=>{if(I.promise&&Ge==="loading"||I.duration===1/0||I.type==="loading")return;let be;return de||M||W&&Xr?(()=>{if(ks.current<Kr.current){let Ve=new Date().getTime()-Kr.current;rn.current=rn.current-Ve}ks.current=new Date().getTime()})():rn.current!==1/0&&(Kr.current=new Date().getTime(),be=setTimeout(()=>{var Ve;(Ve=I.onAutoClose)==null||Ve.call(I,I),sn()},rn.current)),()=>clearTimeout(be)},[de,M,I,Ge,W,Xr,sn]),ce.useEffect(()=>{I.delete&&sn()},[sn,I.delete]);function Bn(){var be,Ve,Qe;return ae!=null&&ae.loading?ce.createElement("div",{className:yr(se==null?void 0:se.loader,(be=I==null?void 0:I.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Ge==="loading"},ae.loading):me?ce.createElement("div",{className:yr(se==null?void 0:se.loader,(Ve=I==null?void 0:I.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":Ge==="loading"},me):ce.createElement(WT,{className:yr(se==null?void 0:se.loader,(Qe=I==null?void 0:I.classNames)==null?void 0:Qe.loader),visible:Ge==="loading"})}return ce.createElement("li",{tabIndex:0,ref:dn,className:yr(L,nr,se==null?void 0:se.toast,(e=I==null?void 0:I.classNames)==null?void 0:e.toast,se==null?void 0:se.default,se==null?void 0:se[Ge],(t=I==null?void 0:I.classNames)==null?void 0:t[Ge]),"data-sonner-toast":"","data-rich-colors":(s=I.richColors)!=null?s:D,"data-styled":!(I.jsx||I.unstyled||F),"data-mounted":Ee,"data-promise":!!I.promise,"data-swiped":Es,"data-removed":We,"data-visible":Ai,"data-y-position":Pi,"data-x-position":Qr,"data-index":H,"data-front":Rs,"data-swiping":nn,"data-dismissible":nt,"data-type":Ge,"data-invert":hn,"data-swipe-out":tr,"data-swipe-direction":Te,"data-expanded":!!(de||oe&&Ee),style:{"--index":H,"--toasts-before":H,"--z-index":ne.length-H,"--offset":`${We?Ci:Un.current}px`,"--initial-height":oe?"auto":`${Ss}px`,...R,...I.style},onDragEnd:()=>{Er(!1),ve(null),Fn.current=null},onPointerDown:be=>{fn||!nt||(bs.current=new Date,Is(Un.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Er(!0),Fn.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Ve,Qe,wt;if(tr||!nt)return;Fn.current=null;let Mt=Number(((be=dn.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ye=Number(((Ve=dn.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pn=new Date().getTime()-((Qe=bs.current)==null?void 0:Qe.getTime()),ht=ue==="x"?Mt:Ye,Gt=Math.abs(ht)/pn;if(Math.abs(ht)>=dI||Gt>.11){Is(Un.current),(wt=I.onDismiss)==null||wt.call(I,I),De(ue==="x"?Mt>0?"right":"left":Ye>0?"down":"up"),sn(),Wr(!0),Ts(!1);return}Er(!1),ve(null)},onPointerMove:be=>{var Ve,Qe,wt,Mt;if(!Fn.current||!nt||((Ve=window.getSelection())==null?void 0:Ve.toString().length)>0)return;let Ye=be.clientY-Fn.current.y,pn=be.clientX-Fn.current.x,ht=(Qe=n.swipeDirections)!=null?Qe:fI(Z);!ue&&(Math.abs(pn)>1||Math.abs(Ye)>1)&&ve(Math.abs(pn)>Math.abs(Ye)?"x":"y");let Gt={x:0,y:0};ue==="y"?(ht.includes("top")||ht.includes("bottom"))&&(ht.includes("top")&&Ye<0||ht.includes("bottom")&&Ye>0)&&(Gt.y=Ye):ue==="x"&&(ht.includes("left")||ht.includes("right"))&&(ht.includes("left")&&pn<0||ht.includes("right")&&pn>0)&&(Gt.x=pn),(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&Ts(!0),(wt=dn.current)==null||wt.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(Mt=dn.current)==null||Mt.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},Gr&&!I.jsx?ce.createElement("button",{"aria-label":U,"data-disabled":fn,"data-close-button":!0,onClick:fn||!nt?()=>{}:()=>{var be;sn(),(be=I.onDismiss)==null||be.call(I,I)},className:yr(se==null?void 0:se.closeButton,(o=I==null?void 0:I.classNames)==null?void 0:o.closeButton)},(a=ae==null?void 0:ae.close)!=null?a:XT):null,I.jsx||N.isValidElement(I.title)?I.jsx?I.jsx:typeof I.title=="function"?I.title():I.title:ce.createElement(ce.Fragment,null,Ge||I.icon||I.promise?ce.createElement("div",{"data-icon":"",className:yr(se==null?void 0:se.icon,(c=I==null?void 0:I.classNames)==null?void 0:c.icon)},I.promise||I.type==="loading"&&!I.icon?I.icon||Bn():null,I.type!=="loading"?I.icon||(ae==null?void 0:ae[Ge])||HT(Ge):null):null,ce.createElement("div",{"data-content":"",className:yr(se==null?void 0:se.content,(h=I==null?void 0:I.classNames)==null?void 0:h.content)},ce.createElement("div",{"data-title":"",className:yr(se==null?void 0:se.title,(f=I==null?void 0:I.classNames)==null?void 0:f.title)},typeof I.title=="function"?I.title():I.title),I.description?ce.createElement("div",{"data-description":"",className:yr(C,Ni,se==null?void 0:se.description,(v=I==null?void 0:I.classNames)==null?void 0:v.description)},typeof I.description=="function"?I.description():I.description):null),N.isValidElement(I.cancel)?I.cancel:I.cancel&&xc(I.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:I.cancelButtonStyle||P,onClick:be=>{var Ve,Qe;xc(I.cancel)&&nt&&((Qe=(Ve=I.cancel).onClick)==null||Qe.call(Ve,be),sn())},className:yr(se==null?void 0:se.cancelButton,(w=I==null?void 0:I.classNames)==null?void 0:w.cancelButton)},I.cancel.label):null,N.isValidElement(I.action)?I.action:I.action&&xc(I.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:I.actionButtonStyle||k,onClick:be=>{var Ve,Qe;xc(I.action)&&((Qe=(Ve=I.action).onClick)==null||Qe.call(Ve,be),!be.defaultPrevented&&sn())},className:yr(se==null?void 0:se.actionButton,(x=I==null?void 0:I.classNames)==null?void 0:x.actionButton)},I.action.label):null))};function Jy(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function mI(n,e){let t={};return[n,e].forEach((s,o)=>{let a=o===1,c=a?"--mobile-offset":"--offset",h=a?lI:aI;function f(v){["top","right","bottom","left"].forEach(w=>{t[`${c}-${w}`]=typeof v=="number"?`${v}px`:v})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(v=>{s[v]===void 0?t[`${c}-${v}`]=h:t[`${c}-${v}`]=typeof s[v]=="number"?`${s[v]}px`:s[v]}):f(h)}),t}var gI=N.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:h,offset:f,mobileOffset:v,theme:w="light",richColors:x,duration:b,style:I,visibleToasts:F=oI,toastOptions:M,dir:j=Jy(),gap:X=cI,loadingIcon:Q,icons:H,containerAriaLabel:ne="Notifications",pauseWhenPageIsHidden:de}=n,[K,D]=ce.useState([]),T=ce.useMemo(()=>Array.from(new Set([s].concat(K.filter(W=>W.position).map(W=>W.position)))),[K,s]),[R,P]=ce.useState([]),[k,L]=ce.useState(!1),[C,Oe]=ce.useState(!1),[Z,Ce]=ce.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=ce.useRef(null),oe=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=ce.useRef(null),ae=ce.useRef(!1),U=ce.useCallback(W=>{D(ue=>{var ve;return(ve=ue.find(Te=>Te.id===W.id))!=null&&ve.delete||Tn.dismiss(W.id),ue.filter(({id:Te})=>Te!==W.id)})},[]);return ce.useEffect(()=>Tn.subscribe(W=>{if(W.dismiss){D(ue=>ue.map(ve=>ve.id===W.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{$T.flushSync(()=>{D(ue=>{let ve=ue.findIndex(Te=>Te.id===W.id);return ve!==-1?[...ue.slice(0,ve),{...ue[ve],...W},...ue.slice(ve+1)]:[W,...ue]})})})}),[]),ce.useEffect(()=>{if(w!=="system"){Ce(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ce("dark"):Ce("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:ue})=>{Ce(ue?"dark":"light")})}catch{W.addListener(({matches:ve})=>{try{Ce(ve?"dark":"light")}catch(Te){console.error(Te)}})}},[w]),ce.useEffect(()=>{K.length<=1&&L(!1)},[K]),ce.useEffect(()=>{let W=ue=>{var ve,Te;o.every(De=>ue[De]||ue.code===De)&&(L(!0),(ve=me.current)==null||ve.focus()),ue.code==="Escape"&&(document.activeElement===me.current||(Te=me.current)!=null&&Te.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[o]),ce.useEffect(()=>{if(me.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,ae.current=!1)}},[me.current]),ce.createElement("section",{ref:e,"aria-label":`${ne} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((W,ue)=>{var ve;let[Te,De]=W.split("-");return K.length?ce.createElement("ol",{key:W,dir:j==="auto"?Jy():j,tabIndex:-1,ref:me,className:h,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Te,"data-lifted":k&&K.length>1&&!a,"data-x-position":De,style:{"--front-toast-height":`${((ve=R[0])==null?void 0:ve.height)||0}px`,"--width":`${uI}px`,"--gap":`${X}px`,...I,...mI(f,v)},onBlur:Ee=>{ae.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(ae.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,se.current=Ee.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{C||L(!1)},onDragEnd:()=>L(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},K.filter(Ee=>!Ee.position&&ue===0||Ee.position===W).map((Ee,Fe)=>{var We,dt;return ce.createElement(pI,{key:Ee.id,icons:H,index:Fe,toast:Ee,defaultRichColors:x,duration:(We=M==null?void 0:M.duration)!=null?We:b,className:M==null?void 0:M.className,descriptionClassName:M==null?void 0:M.descriptionClassName,invert:t,visibleToasts:F,closeButton:(dt=M==null?void 0:M.closeButton)!=null?dt:c,interacting:C,position:W,style:M==null?void 0:M.style,unstyled:M==null?void 0:M.unstyled,classNames:M==null?void 0:M.classNames,cancelButtonStyle:M==null?void 0:M.cancelButtonStyle,actionButtonStyle:M==null?void 0:M.actionButtonStyle,removeToast:U,toasts:K.filter(nn=>nn.position==Ee.position),heights:R.filter(nn=>nn.position==Ee.position),setHeights:P,expandByDefault:a,gap:X,loadingIcon:Q,expanded:k,pauseWhenPageIsHidden:de,swipeDirections:n.swipeDirections})})):null}))});const yI=()=>{};var Zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,v=f?n[o+2]:0,w=a>>2,x=(a&3)<<4|h>>4;let b=(h&15)<<2|v>>6,I=v&63;f||(I=64,c||(b=64)),s.push(t[w],t[x],t[b],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||v==null||x==null)throw new _I;const b=a<<2|h>>4;if(s.push(b),v!==64){const I=h<<4&240|v>>2;if(s.push(I),x!==64){const F=v<<6&192|x;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wI=function(n){const e=l0(n);return u0.encodeByteArray(e,!0)},Hc=function(n){return wI(n).replace(/\./g,"")},c0=function(n){try{return u0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=()=>xI().__FIREBASE_DEFAULTS__,TI=()=>{if(typeof process>"u"||typeof Zy>"u")return;const n=Zy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},II=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c0(n[1]);return e&&JSON.parse(e)},gd=()=>{try{return yI()||EI()||TI()||II()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d0=n=>{var e,t;return(t=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},h0=n=>{const e=d0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},f0=()=>{var n;return(n=gd())===null||n===void 0?void 0:n.config},p0=n=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(c)),""].join(".")}const xl={};function bI(){const n={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?n.emulator.push(e):n.prod.push(e);return n}function RI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ev=!1;function bp(n,e){if(typeof window>"u"||typeof document>"u"||!Ei(window.location.host)||xl[n]===e||xl[n]||ev)return;xl[n]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",a=bI().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function v(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ev=!0,c()},b}function w(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=RI(s),I=t("text"),F=document.getElementById(I)||document.createElement("span"),M=t("learnmore"),j=document.getElementById(M)||document.createElement("a"),X=t("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const H=b.element;h(H),w(j,M);const ne=v();f(Q,X),H.append(Q,F,j,ne),document.body.appendChild(H)}a?(F.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function CI(){var n;const e=(n=gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OI(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="FirebaseError";class qr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=VI,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?MI(a,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new qr(o,h,s)}}function MI(n,e){return n.replace(UI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UI=/\{\$([^}]+)}/g;function FI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function io(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],c=e[o];if(tv(a)&&tv(c)){if(!io(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function tv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function yl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BI(n,e){const t=new zI(n,e);return t.subscribe.bind(t)}class zI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");$I(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Sf),o.error===void 0&&(o.error=Sf),o.complete===void 0&&(o.complete=Sf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $I(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n){return n&&n._delegate?n._delegate:n}class di{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new SI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WI(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);s===h&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(n){return n===to?void 0:n}function WI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const KI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},QI=Me.INFO,YI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},XI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=YI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=QI,this._logHandler=XI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const JI=(n,e)=>e.some(t=>n instanceof t);let nv,rv;function ZI(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,zf=new WeakMap,y0=new WeakMap,bf=new WeakMap,kp=new WeakMap;function tS(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(ii(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&g0.set(t,n)}).catch(()=>{}),kp.set(e,n),e}function nS(n){if(zf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});zf.set(n,e)}let $f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ii(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rS(n){$f=n($f)}function sS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Rf(this),e,...t);return y0.set(s,e.sort?e.sort():[e]),ii(s)}:eS().includes(n)?function(...e){return n.apply(Rf(this),e),ii(g0.get(this))}:function(...e){return ii(n.apply(Rf(this),e))}}function iS(n){return typeof n=="function"?sS(n):(n instanceof IDBTransaction&&nS(n),JI(n,ZI())?new Proxy(n,$f):n)}function ii(n){if(n instanceof IDBRequest)return tS(n);if(bf.has(n))return bf.get(n);const e=iS(n);return e!==n&&(bf.set(n,e),kp.set(e,n)),e}const Rf=n=>kp.get(n);function oS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=ii(c);return s&&c.addEventListener("upgradeneeded",f=>{s(ii(c.result),f.oldVersion,f.newVersion,ii(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const aS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],kf=new Map;function sv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=lS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aS.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let v=f.store;return s&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),o&&f.done]))[0]};return kf.set(e,a),a}rS(n=>({...n,get:(e,t,s)=>sv(e,t)||n.get(e,t,s),has:(e,t)=>!!sv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function cS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",iv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Rp("@firebase/app"),dS="@firebase/app-compat",hS="@firebase/analytics-compat",fS="@firebase/analytics",pS="@firebase/app-check-compat",mS="@firebase/app-check",gS="@firebase/auth",yS="@firebase/auth-compat",vS="@firebase/database",_S="@firebase/data-connect",wS="@firebase/database-compat",xS="@firebase/functions",ES="@firebase/functions-compat",TS="@firebase/installations",IS="@firebase/installations-compat",SS="@firebase/messaging",bS="@firebase/messaging-compat",RS="@firebase/performance",kS="@firebase/performance-compat",CS="@firebase/remote-config",AS="@firebase/remote-config-compat",NS="@firebase/storage",PS="@firebase/storage-compat",DS="@firebase/firestore",OS="@firebase/ai",jS="@firebase/firestore-compat",LS="firebase",VS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",MS={[Hf]:"fire-core",[dS]:"fire-core-compat",[fS]:"fire-analytics",[hS]:"fire-analytics-compat",[mS]:"fire-app-check",[pS]:"fire-app-check-compat",[gS]:"fire-auth",[yS]:"fire-auth-compat",[vS]:"fire-rtdb",[_S]:"fire-data-connect",[wS]:"fire-rtdb-compat",[xS]:"fire-fn",[ES]:"fire-fn-compat",[TS]:"fire-iid",[IS]:"fire-iid-compat",[SS]:"fire-fcm",[bS]:"fire-fcm-compat",[RS]:"fire-perf",[kS]:"fire-perf-compat",[CS]:"fire-rc",[AS]:"fire-rc-compat",[NS]:"fire-gcs",[PS]:"fire-gcs-compat",[DS]:"fire-fst",[jS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,US=new Map,Wf=new Map;function ov(n,e){try{n.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oo(n){const e=n.name;if(Wf.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,n);for(const t of qc.values())ov(t,n);for(const t of US.values())ov(t,n);return!0}function yd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new ql("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=VS;function v0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw oi.create("bad-app-name",{appName:String(o)});if(t||(t=f0()),!t)throw oi.create("no-options");const a=qc.get(o);if(a){if(io(t,a.options)&&io(s,a.config))return a;throw oi.create("duplicate-app",{appName:o})}const c=new GI(o);for(const f of Wf.values())c.addComponent(f);const h=new BS(t,s,c);return qc.set(o,h),h}function Cp(n=qf){const e=qc.get(n);if(!e&&n===qf&&f0())return v0();if(!e)throw oi.create("no-app",{appName:n});return e}function jr(n,e,t){var s;let o=(s=MS[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(h.join(" "));return}oo(new di(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebase-heartbeat-database",$S=1,Cl="firebase-heartbeat-store";let Cf=null;function _0(){return Cf||(Cf=oS(zS,$S,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw oi.create("idb-open",{originalErrorMessage:n.message})})),Cf}async function HS(n){try{const t=(await _0()).transaction(Cl),s=await t.objectStore(Cl).get(w0(n));return await t.done,s}catch(e){if(e instanceof qr)ys.warn(e.message);else{const t=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(t.message)}}}async function av(n,e){try{const s=(await _0()).transaction(Cl,"readwrite");await s.objectStore(Cl).put(e,w0(n)),await s.done}catch(t){if(t instanceof qr)ys.warn(t.message);else{const s=oi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ys.warn(s.message)}}}function w0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1024,WS=30;class GS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>WS){const c=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ys.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lv(),{heartbeatsToSend:s,unsentEntries:o}=KS(this._heartbeatsCache.heartbeats),a=Hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function lv(){return new Date().toISOString().substring(0,10)}function KS(n,e=qS){const t=[];let s=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),uv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),uv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class QS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return av(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return av(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function uv(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}function YS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n){oo(new di("platform-logger",e=>new uS(e),"PRIVATE")),oo(new di("heartbeat",e=>new GS(e),"PRIVATE")),jr(Hf,iv,n),jr(Hf,iv,"esm2017"),jr("fire-js","")}XS("");function Ap(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=x0,E0=new ql("auth","Firebase",x0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Rp("@firebase/auth");function ZS(n,...e){Wc.logLevel<=Me.WARN&&Wc.warn(`Auth (${fo}): ${n}`,...e)}function Dc(n,...e){Wc.logLevel<=Me.ERROR&&Wc.error(`Auth (${fo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw Np(n,...e)}function Lr(n,...e){return Np(n,...e)}function T0(n,e,t){const s=Object.assign(Object.assign({},JS()),{[e]:t});return new ql("auth","Firebase",s).create(e,{appName:n.name})}function ai(n){return T0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return E0.create(n,...e)}function Re(n,e,...t){if(!n)throw Np(e,...t)}function hs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function vs(n,e){n||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function eb(){return cv()==="http:"||cv()==="https:"}function cv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eb()||NI()||"connection"in navigator)?navigator.onLine:!0}function nb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=kI()||PI()}get(){return tb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ib=new Gl(3e4,6e4);function po(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ti(n,e,t,s,o={}){return S0(n,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const h=Wl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:f},a);return AI()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ei(n.emulatorConfig.host)&&(v.credentials="include"),I0.fetch()(await b0(n,n.config.apiHost,t,h),v)})}async function S0(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},rb),e);try{const o=new ab(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Ec(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,v]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ec(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ec(n,"user-disabled",c);const w=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw T0(n,w,v);wr(n,w)}}catch(o){if(o instanceof qr)throw o;wr(n,"network-request-failed",{message:String(o)})}}async function vd(n,e,t,s,o={}){const a=await Ti(n,e,t,s,o);return"mfaPendingCredential"in a&&wr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function b0(n,e,t,s){const o=`${e}${t}?${s}`,a=n,c=a.config.emulator?Pp(n.config,o):`${n.config.apiScheme}://${o}`;return sb.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function ob(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ab{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Lr(this.auth,"network-request-failed")),ib.get())})}}function Ec(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Lr(n,e,s);return o.customData._tokenResponse=t,o}function dv(n){return n!==void 0&&n.enterprise!==void 0}class lb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ob(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ub(n,e){return Ti(n,"GET","/v2/recaptchaConfig",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function Gc(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function db(n,e=!1){const t=gt(n),s=await t.getIdToken(e),o=Dp(s);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:El(Af(o.auth_time)),issuedAtTime:El(Af(o.iat)),expirationTime:El(Af(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Af(n){return Number(n)*1e3}function Dp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=c0(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function hv(n){const e=Dp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qr&&hb(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function hb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Al(n,Gc(t,{idToken:s}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?R0(a.providerUserInfo):[],h=mb(n.providerData,c),f=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),w=f?v:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Kf(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,x)}async function pb(n){const e=gt(n);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mb(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function R0(n){return n.map(e=>{var{providerId:t}=e,s=Ap(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n,e){const t=await S0(n,{},async()=>{const s=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await b0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return n.emulatorConfig&&Ei(n.emulatorConfig.host)&&(f.credentials="include"),I0.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yb(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=hv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await gb(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,c=new ua;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=Ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return db(this,e)}reload(){return pb(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Al(this,cb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,c,h,f,v,w;const x=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,F=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,X=(v=t.createdAt)!==null&&v!==void 0?v:void 0,Q=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:H,emailVerified:ne,isAnonymous:de,providerData:K,stsTokenManager:D}=t;Re(H&&D,e,"internal-error");const T=ua.fromJSON(this.name,D);Re(typeof H=="string",e,"internal-error"),Js(x,e.name),Js(b,e.name),Re(typeof ne=="boolean",e,"internal-error"),Re(typeof de=="boolean",e,"internal-error"),Js(I,e.name),Js(F,e.name),Js(M,e.name),Js(j,e.name),Js(X,e.name),Js(Q,e.name);const R=new vr({uid:H,auth:e,email:b,emailVerified:ne,displayName:x,isAnonymous:de,photoURL:F,phoneNumber:I,tenantId:M,stsTokenManager:T,createdAt:X,lastLoginAt:Q});return K&&Array.isArray(K)&&(R.providerData=K.map(P=>Object.assign({},P))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new ua;o.updateFromServerResponse(t);const a=new vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Kc(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?R0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new ua;h.updateFromIdToken(s);const f=new vr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,v),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function fs(n){vs(n instanceof Function,"Expected a class definition");let e=fv.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}k0.type="NONE";const pv=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n,e,t){return`firebase:${n}:${e}:${t}`}class ca{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Oc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gc(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ca(fs(pv),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=o[0]||fs(pv);const c=Oc(s,e.config.apiKey,e.name);let h=null;for(const v of t)try{const w=await v._get(c);if(w){let x;if(typeof w=="string"){const b=await Gc(e,{idToken:w}).catch(()=>{});if(!b)break;x=await vr._fromGetAccountInfoResponse(e,b,w)}else x=vr._fromJSON(e,w);v!==a&&(h=x),a=v;break}}catch{}const f=o.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ca(a,e,s):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(c)}catch{}})),new ca(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O0(e))return"Blackberry";if(j0(e))return"Webos";if(A0(e))return"Safari";if((e.includes("chrome/")||N0(e))&&!e.includes("edge/"))return"Chrome";if(D0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function C0(n=tn()){return/firefox\//i.test(n)}function A0(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N0(n=tn()){return/crios\//i.test(n)}function P0(n=tn()){return/iemobile/i.test(n)}function D0(n=tn()){return/android/i.test(n)}function O0(n=tn()){return/blackberry/i.test(n)}function j0(n=tn()){return/webos/i.test(n)}function Op(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vb(n=tn()){var e;return Op(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _b(){return DI()&&document.documentMode===10}function L0(n=tn()){return Op(n)||D0(n)||j0(n)||O0(n)||/windows phone/i.test(n)||P0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e=[]){let t;switch(n){case"Browser":t=mv(tn());break;case"Worker":t=`${mv(tn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",po(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=6;class Tb{constructor(e){var t,s,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Eb,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(s=f.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new wb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fs(t)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await ca.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gc(this,{idToken:e}),s=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ai(this));const t=e?gt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xb(this),t=new Tb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await yb(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fs(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await ca.create(this,[fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,s,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ia(n){return gt(n)}class gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=BI(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sb(n){_d=n}function M0(n){return _d.loadJS(n)}function bb(){return _d.recaptchaEnterpriseScript}function Rb(){return _d.gapiScript}function kb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Cb{constructor(){this.enterprise=new Ab}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ab{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nb="recaptcha-enterprise",U0="NO_RECAPTCHA";class Pb{constructor(e){this.type=Nb,this.auth=Ia(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{ub(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const v=new lb(f);return a.tenantId==null?a._agentRecaptchaConfig=v:a._tenantRecaptchaConfigs[a.tenantId]=v,c(v.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;dv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(v=>{c(v)}).catch(()=>{c(U0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cb().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(h=>{if(!t&&dv(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=bb();f.length!==0&&(f+=h),M0(f).then(()=>{o(h,a,c)}).catch(v=>{c(v)})}}).catch(h=>{c(h)})})}}async function yv(n,e,t,s=!1,o=!1){const a=new Pb(n);let c;if(o)c=U0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,v=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vv(n,e,t,s,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await yv(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await yv(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e){const t=yd(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(io(a,e??{}))return o;wr(o,"already-initialized")}return t.initialize({options:e})}function Ob(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(fs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jb(n,e,t){const s=Ia(n);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=F0(e),{host:c,port:h}=Lb(e),f=h===null?"":`:${h}`,v={url:`${a}//${c}${f}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(io(v,s.config.emulator)&&io(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ei(c)?(Sp(`${a}//${c}${f}`),bp("Auth",!0)):Vb()}function F0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Lb(n){const e=F0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:_v(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:_v(c)}}}function _v(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Vb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,t){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function Mb(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(n,e){return vd(n,"POST","/v1/accounts:signInWithPassword",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}async function Bb(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends jp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Nl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vv(e,t,"signInWithPassword",Ub);case"emailLink":return Fb(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vv(e,s,"signUpPassword",Mb);case"emailLink":return Bb(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n,e){return vd(n,"POST","/v1/accounts:signInWithIdp",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="http://localhost";class ao extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=Ap(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new ao(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return da(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,da(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,da(e,t)}buildRequest(){const e={requestUri:zb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hb(n){const e=gl(yl(n)).link,t=e?gl(yl(e)).deep_link_id:null,s=gl(yl(n)).deep_link_id;return(s?gl(yl(s)).link:null)||s||t||e||n}class Lp{constructor(e){var t,s,o,a,c,h;const f=gl(yl(e)),v=(t=f.apiKey)!==null&&t!==void 0?t:null,w=(s=f.oobCode)!==null&&s!==void 0?s:null,x=$b((o=f.mode)!==null&&o!==void 0?o:null);Re(v&&w&&x,"argument-error"),this.apiKey=v,this.operation=x,this.code=w,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Hb(e);try{return new Lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lp.parseLink(t);return Re(s,"argument-error"),Nl._fromEmailAndCode(e,s.code,s.tenantId)}}Sa.PROVIDER_ID="password";Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Kl{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ei.credential(t,s)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Kl{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Kl{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ni.credential(t,s)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await vr._fromIdTokenResponse(e,s,o),c=wv(s);return new ma({user:a,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=wv(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends qr{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qc(e,t,s,o)}}function z0(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(n,a,e,s):a})}async function qb(n,e,t=!1){const s=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ma._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(n,e,t=!1){const{auth:s}=n;if(Xn(s.app))return Promise.reject(ai(s));const o="reauthenticate";try{const a=await Al(n,z0(s,o,e,n),t);Re(a.idToken,s,"internal-error");const c=Dp(a.idToken);Re(c,s,"internal-error");const{sub:h}=c;return Re(n.uid===h,s,"user-mismatch"),ma._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wr(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(n,e,t=!1){if(Xn(n.app))return Promise.reject(ai(n));const s="signIn",o=await z0(n,s,e),a=await ma._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}async function Gb(n,e){return $0(Ia(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(n){const e=Ia(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Qb(n,e,t){return Xn(n.app)?Promise.reject(ai(n)):Gb(gt(n),Sa.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Kb(n),s})}function Yb(n,e,t,s){return gt(n).onIdTokenChanged(e,t,s)}function Xb(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}function Jb(n,e,t,s){return gt(n).onAuthStateChanged(e,t,s)}function Zb(n){return gt(n).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=10;class q0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);_b()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q0.type="LOCAL";const nR=q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}W0.type="SESSION";const G0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async v=>v(t.origin,a)),f=await rR(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const v=Vp("",20);o.port1.start();const w=setTimeout(()=>{f(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(x){const b=x;if(b.data.eventId===v)switch(b.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(b.data.response);break;default:clearTimeout(w),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function iR(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function oR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lR(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",uR=1,Xc="firebaseLocalStorage",Y0="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xd(n,e){return n.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function cR(){const n=indexedDB.deleteDatabase(Q0);return new Ql(n).toPromise()}function Qf(){const n=indexedDB.open(Q0,uR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Xc,{keyPath:Y0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Xc)?e(s):(s.close(),await cR(),e(await Qf()))})})}async function xv(n,e,t){const s=xd(n,!0).put({[Y0]:e,value:t});return new Ql(s).toPromise()}async function dR(n,e){const t=xd(n,!1).get(e),s=await new Ql(t).toPromise();return s===void 0?null:s.value}function Ev(n,e){const t=xd(n,!0).delete(e);return new Ql(t).toPromise()}const hR=800,fR=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>fR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(lR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await xv(e,Yc,"1"),await Ev(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>xv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>dR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ev(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=xd(o,!1).getAll();return new Ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const pR=X0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e){return e?fs(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gR(n){return $0(n.auth,new Mp(n),n.bypassAuthState)}function yR(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),Wb(t,new Mp(n),n.bypassAuthState)}async function vR(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),qb(t,new Mp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return yR;default:wr(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Gl(2e3,1e4);class aa extends J0{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_R.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="pendingRedirect",jc=new Map;class xR extends J0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const s=await ER(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ER(n,e){const t=SR(e),s=IR(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function TR(n,e){jc.set(n._key(),e)}function IR(n){return fs(n._redirectPersistence)}function SR(n){return Oc(wR,n.config.apiKey,n.name)}async function bR(n,e,t=!1){if(Xn(n.app))return Promise.reject(ai(n));const s=Ia(n),o=mR(s,e),c=await new xR(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=600*1e3;class kR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Z0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e={}){return Ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PR=/^https?/;async function DR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AR(n);for(const t of e)try{if(OR(t))return}catch{}wr(n,"unauthorized-domain")}function OR(n){const e=Gf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!PR.test(t))return!1;if(NR.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Gl(3e4,6e4);function Iv(){const n=Vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LR(n){return new Promise((e,t)=>{var s,o,a;function c(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),t(Lr(n,"network-request-failed"))},timeout:jR.get()})}if(!((o=(s=Vr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Vr().gapi)===null||a===void 0)&&a.load)c();else{const h=kb("iframefcb");return Vr()[h]=()=>{gapi.load?c():t(Lr(n,"network-request-failed"))},M0(`${Rb()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function VR(n){return Lc=Lc||LR(n),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Gl(5e3,15e3),UR="__/auth/iframe",FR="emulator/auth/iframe",BR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $R(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Pp(e,FR):`https://${n.config.authDomain}/${UR}`,s={apiKey:e.apiKey,appName:n.name,v:fo},o=zR.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${Wl(s).slice(1)}`}async function HR(n){const e=await VR(n),t=Vr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:$R(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BR,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=Lr(n,"network-request-failed"),h=Vr().setTimeout(()=>{a(c)},MR.get());function f(){Vr().clearTimeout(h),o(s)}s.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WR=500,GR=600,KR="_blank",QR="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(n,e,t,s=WR,o=GR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f=Object.assign(Object.assign({},qR),{width:s.toString(),height:o.toString(),top:a,left:c}),v=tn().toLowerCase();t&&(h=N0(v)?KR:t),C0(v)&&(e=e||QR,f.scrollbars="yes");const w=Object.entries(f).reduce((b,[I,F])=>`${b}${I}=${F},`,"");if(vb(v)&&h!=="_self")return XR(e||"",h),new Sv(null);const x=window.open(e||"",h,w);Re(x,n,"popup-blocked");try{x.focus()}catch{}return new Sv(x)}function XR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="__/auth/handler",ZR="emulator/auth/handler",ek=encodeURIComponent("fac");async function bv(n,e,t,s,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:fo,eventId:o};if(e instanceof B0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",FI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))c[w]=x}if(e instanceof Kl){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const f=await n._getAppCheckToken(),v=f?`#${ek}=${encodeURIComponent(f)}`:"";return`${tk(n)}?${Wl(h).slice(1)}${v}`}function tk({config:n}){return n.emulator?Pp(n,ZR):`https://${n.authDomain}/${JR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class nk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G0,this._completeRedirectFn=bR,this._overrideRedirectResult=TR}async _openPopup(e,t,s,o){var a;vs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await bv(e,t,s,Gf(),o);return YR(e,c,Vp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await bv(e,t,s,Gf(),o);return iR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(vs(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await HR(e),s=new kR(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nf,{type:Nf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Nf];c!==void 0&&t(!!c),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L0()||A0()||Op()}}const rk=nk;var Rv="@firebase/auth",kv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ok(n){oo(new di("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(n)},v=new Ib(s,o,a,f);return Ob(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),oo(new di("auth-internal",e=>{const t=Ia(e.getProvider("auth").getImmediate());return(s=>new sk(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Rv,kv,ik(n)),jr(Rv,kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=300,lk=p0("authIdTokenMaxAge")||ak;let Cv=null;const uk=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>lk)return;const o=t==null?void 0:t.token;Cv!==o&&(Cv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ck(n=Cp()){const e=yd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Db(n,{popupRedirectResolver:rk,persistence:[pR,nR,G0]}),s=p0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=uk(a.toString());Xb(t,c,()=>c(t.currentUser)),Yb(t,h=>c(h))}}const o=d0("auth");return o&&jb(t,`http://${o}`),t}function dk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Sb({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=Lr("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",dk().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ok("Browser");var hk="firebase",fk="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(hk,fk,"app");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,ew;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function R(){}R.prototype=T.prototype,D.D=T.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(P,k,L){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return T.prototype[k].apply(P,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,T,R){R||(R=0);var P=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)P[k]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=D.g[0],R=D.g[1],k=D.g[2];var L=D.g[3],C=T+(L^R&(k^L))+P[0]+3614090360&4294967295;T=R+(C<<7&4294967295|C>>>25),C=L+(k^T&(R^k))+P[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=k+(R^L&(T^R))+P[2]+606105819&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(T^k&(L^T))+P[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=T+(L^R&(k^L))+P[4]+4118548399&4294967295,T=R+(C<<7&4294967295|C>>>25),C=L+(k^T&(R^k))+P[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=k+(R^L&(T^R))+P[6]+2821735955&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(T^k&(L^T))+P[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=T+(L^R&(k^L))+P[8]+1770035416&4294967295,T=R+(C<<7&4294967295|C>>>25),C=L+(k^T&(R^k))+P[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=k+(R^L&(T^R))+P[10]+4294925233&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(T^k&(L^T))+P[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=T+(L^R&(k^L))+P[12]+1804603682&4294967295,T=R+(C<<7&4294967295|C>>>25),C=L+(k^T&(R^k))+P[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=k+(R^L&(T^R))+P[14]+2792965006&4294967295,k=L+(C<<17&4294967295|C>>>15),C=R+(T^k&(L^T))+P[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=T+(k^L&(R^k))+P[1]+4129170786&4294967295,T=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(T^R))+P[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=k+(T^R&(L^T))+P[11]+643717713&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^T&(k^L))+P[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=T+(k^L&(R^k))+P[5]+3593408605&4294967295,T=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(T^R))+P[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=k+(T^R&(L^T))+P[15]+3634488961&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^T&(k^L))+P[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=T+(k^L&(R^k))+P[9]+568446438&4294967295,T=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(T^R))+P[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=k+(T^R&(L^T))+P[3]+4107603335&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^T&(k^L))+P[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=T+(k^L&(R^k))+P[13]+2850285829&4294967295,T=R+(C<<5&4294967295|C>>>27),C=L+(R^k&(T^R))+P[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=k+(T^R&(L^T))+P[7]+1735328473&4294967295,k=L+(C<<14&4294967295|C>>>18),C=R+(L^T&(k^L))+P[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=T+(R^k^L)+P[5]+4294588738&4294967295,T=R+(C<<4&4294967295|C>>>28),C=L+(T^R^k)+P[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=k+(L^T^R)+P[11]+1839030562&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^T)+P[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=T+(R^k^L)+P[1]+2763975236&4294967295,T=R+(C<<4&4294967295|C>>>28),C=L+(T^R^k)+P[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=k+(L^T^R)+P[7]+4139469664&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^T)+P[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=T+(R^k^L)+P[13]+681279174&4294967295,T=R+(C<<4&4294967295|C>>>28),C=L+(T^R^k)+P[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=k+(L^T^R)+P[3]+3572445317&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^T)+P[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=T+(R^k^L)+P[9]+3654602809&4294967295,T=R+(C<<4&4294967295|C>>>28),C=L+(T^R^k)+P[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=k+(L^T^R)+P[15]+530742520&4294967295,k=L+(C<<16&4294967295|C>>>16),C=R+(k^L^T)+P[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=T+(k^(R|~L))+P[0]+4096336452&4294967295,T=R+(C<<6&4294967295|C>>>26),C=L+(R^(T|~k))+P[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=k+(T^(L|~R))+P[14]+2878612391&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~T))+P[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=T+(k^(R|~L))+P[12]+1700485571&4294967295,T=R+(C<<6&4294967295|C>>>26),C=L+(R^(T|~k))+P[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=k+(T^(L|~R))+P[10]+4293915773&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~T))+P[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=T+(k^(R|~L))+P[8]+1873313359&4294967295,T=R+(C<<6&4294967295|C>>>26),C=L+(R^(T|~k))+P[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=k+(T^(L|~R))+P[6]+2734768916&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~T))+P[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=T+(k^(R|~L))+P[4]+4149444226&4294967295,T=R+(C<<6&4294967295|C>>>26),C=L+(R^(T|~k))+P[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=k+(T^(L|~R))+P[2]+718787259&4294967295,k=L+(C<<15&4294967295|C>>>17),C=R+(L^(k|~T))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var R=T-this.blockSize,P=this.B,k=this.h,L=0;L<T;){if(k==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<T;)if(P[k++]=D.charCodeAt(L++),k==this.blockSize){o(this,P),k=0;break}}else for(;L<T;)if(P[k++]=D[L++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=T},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var R=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=R&255,R/=256;for(this.u(D),D=Array(16),T=R=0;4>T;++T)for(var P=0;32>P;P+=8)D[R++]=this.g[T]>>>P&255;return D};function a(D,T){var R=h;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=T(D)}function c(D,T){this.h=T;for(var R=[],P=!0,k=D.length-1;0<=k;k--){var L=D[k]|0;P&&L==T||(R[k]=L,P=!1)}this.g=R}var h={};function f(D){return-128<=D&&128>D?a(D,function(T){return new c([T|0],0>T?-1:0)}):new c([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return x;if(0>D)return j(v(-D));for(var T=[],R=1,P=0;D>=R;P++)T[P]=D/R|0,R*=4294967296;return new c(T,0)}function w(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return j(w(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),P=x,k=0;k<D.length;k+=8){var L=Math.min(8,D.length-k),C=parseInt(D.substring(k,k+L),T);8>L?(L=v(Math.pow(T,L)),P=P.j(L).add(v(C))):(P=P.j(R),P=P.add(v(C)))}return P}var x=f(0),b=f(1),I=f(16777216);n=c.prototype,n.m=function(){if(M(this))return-j(this).m();for(var D=0,T=1,R=0;R<this.g.length;R++){var P=this.i(R);D+=(0<=P?P:4294967296+P)*T,T*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(M(this))return"-"+j(this).toString(D);for(var T=v(Math.pow(D,6)),R=this,P="";;){var k=ne(R,T).g;R=X(R,k.j(T));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=k,F(R))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=X(this,D),M(D)?-1:F(D)?0:1};function j(D){for(var T=D.g.length,R=[],P=0;P<T;P++)R[P]=~D.g[P];return new c(R,~D.h).add(b)}n.abs=function(){return M(this)?j(this):this},n.add=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],P=0,k=0;k<=T;k++){var L=P+(this.i(k)&65535)+(D.i(k)&65535),C=(L>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);P=C>>>16,L&=65535,C&=65535,R[k]=C<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function X(D,T){return D.add(j(T))}n.j=function(D){if(F(this)||F(D))return x;if(M(this))return M(D)?j(this).j(j(D)):j(j(this).j(D));if(M(D))return j(this.j(j(D)));if(0>this.l(I)&&0>D.l(I))return v(this.m()*D.m());for(var T=this.g.length+D.g.length,R=[],P=0;P<2*T;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<D.g.length;k++){var L=this.i(P)>>>16,C=this.i(P)&65535,Oe=D.i(k)>>>16,Z=D.i(k)&65535;R[2*P+2*k]+=C*Z,Q(R,2*P+2*k),R[2*P+2*k+1]+=L*Z,Q(R,2*P+2*k+1),R[2*P+2*k+1]+=C*Oe,Q(R,2*P+2*k+1),R[2*P+2*k+2]+=L*Oe,Q(R,2*P+2*k+2)}for(P=0;P<T;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=T;P<2*T;P++)R[P]=0;return new c(R,0)};function Q(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function H(D,T){this.g=D,this.h=T}function ne(D,T){if(F(T))throw Error("division by zero");if(F(D))return new H(x,x);if(M(D))return T=ne(j(D),T),new H(j(T.g),j(T.h));if(M(T))return T=ne(D,j(T)),new H(j(T.g),T.h);if(30<D.g.length){if(M(D)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var R=b,P=T;0>=P.l(D);)R=de(R),P=de(P);var k=K(R,1),L=K(P,1);for(P=K(P,2),R=K(R,2);!F(P);){var C=L.add(P);0>=C.l(D)&&(k=k.add(R),L=C),P=K(P,1),R=K(R,1)}return T=X(D,k.j(T)),new H(k,T)}for(k=x;0<=D.l(T);){for(R=Math.max(1,Math.floor(D.m()/T.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=v(R),C=L.j(T);M(C)||0<C.l(D);)R-=P,L=v(R),C=L.j(T);F(L)&&(L=b),k=k.add(L),D=X(D,C)}return new H(k,D)}n.A=function(D){return ne(this,D).h},n.and=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)&D.i(P);return new c(R,this.h&D.h)},n.or=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)|D.i(P);return new c(R,this.h|D.h)},n.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),R=[],P=0;P<T;P++)R[P]=this.i(P)^D.i(P);return new c(R,this.h^D.h)};function de(D){for(var T=D.g.length+1,R=[],P=0;P<T;P++)R[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(R,D.h)}function K(D,T){var R=T>>5;T%=32;for(var P=D.g.length-R,k=[],L=0;L<P;L++)k[L]=0<T?D.i(L+R)>>>T|D.i(L+R+1)<<32-T:D.i(L+R);return new c(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ew=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=w,li=c}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tw,vl,nw,Vc,Yf,rw,sw,iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in _))break e;_=_[B]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,S=!1,B={next:function(){if(!S&&_<u.length){var G=_++;return{value:g(G,u[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function v(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,_){return u.call.apply(u.bind,arguments)}function x(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(g,B)}}return function(){return u.apply(g,arguments)}}function b(u,g,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,b.apply(null,arguments)}function I(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function F(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,B,G){for(var le=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)le[Ze-2]=arguments[Ze];return g.prototype[B].apply(S,le)}}function M(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function j(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const B=u.length||0,G=S.length||0;u.length=B+G;for(let le=0;le<G;le++)u[B+le]=S[le]}else u.push(S)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var de=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function K(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function D(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function T(u){const g={};for(const _ in u)g[_]=u[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,g){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)u[_]=S[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function k(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function L(u){h.setTimeout(()=>{throw u},0)}function C(){var u=se;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Oe{constructor(){this.h=this.g=null}add(g,_){const S=Z.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Z=new X(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,oe=!1,se=new Oe,ae=()=>{const u=h.Promise.resolve(void 0);me=()=>{u.then(U)}};var U=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){L(_)}var g=Z;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}oe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function Te(u,g){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(de){e:{try{ne(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}F(Te,ue);var De={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function We(u,g,_,S,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=B,this.key=++Fe,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function nn(u){this.src=u,this.g={},this.h=0}nn.prototype.add=function(u,g,_,S,B){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var le=tr(u,g,S,B);return-1<le?(g=u[le],_||(g.fa=!1)):(g=new We(g,this.src,G,!!S,B),g.fa=_,u.push(g)),g};function Er(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],B=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(dt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function tr(u,g,_,S){for(var B=0;B<u.length;++B){var G=u[B];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==S)return B}return-1}var Wr="closure_lm_"+(1e6*Math.random()|0),Es={};function Ts(u,g,_,S,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Ts(u,g[G],_,S,B);return null}return _=Ai(_),u&&u[Ee]?u.K(g,_,v(S)?!!S.capture:!1,B):Ci(u,g,_,!1,S,B)}function Ci(u,g,_,S,B,G){if(!g)throw Error("Invalid event type");var le=v(B)?!!B.capture:!!B,Ze=dn(u);if(Ze||(u[Wr]=Ze=new nn(u)),_=Ze.add(g,_,S,le,G),_.proxy)return _;if(S=Is(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)ve||(B=le),B===void 0&&(B=!1),u.addEventListener(g.toString(),S,B);else if(u.attachEvent)u.attachEvent(rn(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Is(){function u(_){return g.call(u.src,u.listener,_)}const g=bs;return u}function Ss(u,g,_,S,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ss(u,g[G],_,S,B);else S=v(S)?!!S.capture:!!S,_=Ai(_),u&&u[Ee]?(u=u.i,g=String(g).toString(),g in u.g&&(G=u.g[g],_=tr(G,_,S,B),-1<_&&(dt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[g],u.h--)))):u&&(u=dn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=tr(g,_,S,B)),(_=-1<u?g[u]:null)&&Mn(_))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ee])Er(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(rn(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=dn(g))?(Er(_,u),_.h==0&&(_.src=null,g[Wr]=null)):dt(u)}}}function rn(u){return u in Es?Es[u]:Es[u]="on"+u}function bs(u,g){if(u.da)u=!0;else{g=new Te(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Mn(u),u=_.call(S,g)}return u}function dn(u){return u=u[Wr],u instanceof nn?u:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ai(u){return typeof u=="function"?u:(u[Rs]||(u[Rs]=function(g){return u.handleEvent(g)}),u[Rs])}function Ge(){W.call(this),this.i=new nn(this),this.M=this,this.F=null}F(Ge,W),Ge.prototype[Ee]=!0,Ge.prototype.removeEventListener=function(u,g,_,S){Ss(this,u,g,_,S)};function nt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new ue(g,u);else if(g instanceof ue)g.target=g.target||u;else{var B=g;g=new ue(S,u),P(g,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var le=g.g=_[G];B=nr(le,S,!0,g)&&B}if(le=g.g=u,B=nr(le,S,!0,g)&&B,B=nr(le,S,!1,g)&&B,_)for(G=0;G<_.length;G++)le=g.g=_[G],B=nr(le,S,!1,g)&&B}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)dt(_[S]);delete u.g[g],u.h--}}this.F=null},Ge.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},Ge.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function nr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var le=g[G];if(le&&!le.da&&le.capture==_){var Ze=le.listener,kt=le.ha||le.src;le.fa&&Er(u.i,le),B=Ze.call(kt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ni(u,g,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function kn(u){u.g=Ni(()=>{u.g=null,u.i&&(u.i=!1,kn(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Gr extends W{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(u){W.call(this),this.h=u,this.g={}}F(Tr,W);var Kr=[];function Un(u){K(u.g,function(g,_){this.g.hasOwnProperty(_)&&Mn(g)},u),u.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Un(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=h.JSON.stringify,Fn=h.JSON.parse,Pi=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Qr(){}Qr.prototype.h=null;function Yr(u){return u.h||(u.h=u.i())}function Xr(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fn(){ue.call(this,"d")}F(fn,ue);function sn(){ue.call(this,"c")}F(sn,ue);var Bn={},be=null;function Ve(){return be=be||new Ge}Bn.La="serverreachability";function Qe(u){ue.call(this,Bn.La,u)}F(Qe,ue);function wt(u){const g=Ve();nt(g,new Qe(g))}Bn.STAT_EVENT="statevent";function Mt(u,g){ue.call(this,Bn.STAT_EVENT,u),this.stat=g}F(Mt,ue);function Ye(u){const g=Ve();nt(g,new Mt(g,u))}Bn.Ma="timingevent";function pn(u,g){ue.call(this,Bn.Ma,u),this.size=g}F(pn,ue);function ht(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Gt(){this.g=!0}Gt.prototype.xa=function(){this.g=!1};function Di(u,g,_,S,B,G){u.info(function(){if(u.g)if(G)for(var le="",Ze=G.split("&"),kt=0;kt<Ze.length;kt++){var ze=Ze[kt].split("=");if(1<ze.length){var Dt=ze[0];ze=ze[1];var Tt=Dt.split("_");le=2<=Tt.length&&Tt[1]=="type"?le+(Dt+"="+ze+"&"):le+(Dt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+_+`
`+le})}function _o(u,g,_,S,B,G,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+_+`
`+G+" "+le})}function rr(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Hd(u,_)+(S?" "+S:"")})}function Pa(u,g){u.info(function(){return"TIMEOUT: "+g})}Gt.prototype.info=function(){};function Hd(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return ks(_)}catch{return g}}var wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function Oi(){}F(Oi,Qr),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},sr=new Oi;function ir(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ou}function ou(){this.i=null,this.g="",this.h=!1}var Da={},xo={};function Eo(u,g,_){u.L=1,u.v=Ds(An(g)),u.m=_,u.P=!0,Oa(u,null)}function Oa(u,g){u.F=Date.now(),rt(u),u.A=An(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),js(_.i,"t",S),u.C=0,_=u.j.J,u.h=new ou,u.g=Iu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Gr(b(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Kr[0]=B.toString()),B=Kr);for(var G=0;G<B.length;G++){var le=Ts(_,B[G],S||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),wt(),Di(u.i,u.u,u.A,u.l,u.R,u.m)}ir.prototype.ca=function(u){u=u.target;const g=this.M;g&&gn(u)==3?g.j():this.Y(u)},ir.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=gn(this.g);var g=this.g.Ba();const Hn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=Hn?wt(3):wt(2)),ji(this);var _=this.g.Z();this.X=_;t:if(au(this)){var S=Fa(this.g);u="";var B=S.length,G=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Cs(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(G&&g==B-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,_o(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,kt=this.g;if((Ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ze)){var ze=Ze;break t}}ze=null}if(_=ze)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,_);else{this.o=!1,this.s=3,Ye(12),zn(this),Cs(this);break e}}if(this.P){_=!0;let Pn;for(;!this.J&&this.C<le.length;)if(Pn=qd(this,le),Pn==xo){Tt==4&&(this.s=4,Ye(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Da){this.s=4,Ye(15),rr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,Pn,null),ja(this,Pn);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||le.length!=0||this.h.h||(this.s=1,Ye(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,le,"[Invalid Chunked Response]"),zn(this),Cs(this);else if(0<le.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),za(Dt),Dt.M=!0,Ye(11))}}else rr(this.i,this.l,le,null),ja(this,le);Tt==4&&zn(this),this.o&&!this.J&&(Tt==4?Do(this.j,this):(this.o=!1,rt(this)))}else ko(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),zn(this),Cs(this)}}}catch{}finally{}};function au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qd(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?xo:(_=Number(g.substring(_,S)),isNaN(_)?Da:(S+=1,S+_>g.length?xo:(g=g.slice(S,S+_),u.C=S+_,g)))}ir.prototype.cancel=function(){this.J=!0,zn(this)};function rt(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ht(b(u.ba,u),g)}function ji(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ir.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Pa(this.i,this.A),this.L!=2&&(wt(),Ye(17)),zn(this),this.s=2,Cs(this)):lu(this,this.S-u)};function Cs(u){u.j.G==0||u.J||Do(u.j,u)}function zn(u){ji(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Un(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ja(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||on(_.h,u))){if(!u.K&&on(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Po(_),cr(_);else break e;No(_),Ye(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ht(b(_.Za,_),6e3));if(1>=cu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ns(_,11)}else if((u.K||_.g==u)&&Po(_),!Q(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let ze=B[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Dt=ze[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=ze[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Hn=ze[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(S=1.5*Hn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Pn=u.g;if(Pn){const zi=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var G=S.h;G.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(La(G,G.h),G.h=null))}if(S.D){const jo=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(S.ya=jo,tt(S.I,S.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=u;if(S.qa=Tu(S,S.J?S.ia:null,S.W),le.K){du(S.h,le);var Ze=le,kt=S.L;kt&&(Ze.I=kt),Ze.B&&(ji(Ze),rt(Ze)),S.g=le}else Bi(S);0<_.i.length&&Rr(_)}else ze[0]!="stop"&&ze[0]!="close"||ns(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ns(_,7):Ft(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}wt(4)}catch{}}var uu=class{constructor(u,g){this.g=u,this.map=g}};function Li(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function cu(u){return u.h?1:u.g?u.g.size:0}function on(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function La(u,g){u.g?u.g.add(g):u.h=g}function du(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Li.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function hu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return M(u.i)}function To(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Io(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function As(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Io(u),S=To(u),B=S.length,G=0;G<B;G++)g.call(void 0,S[G],_&&_[G],u)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),B=null;if(0<=S){var G=u[_].substring(0,S);B=u[_].substring(S+1)}else G=u[_];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Jr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Jr){this.h=u.h,Mi(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.s),this.l=u.l;var g=u.i,_=new Ir;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ps(this,_),this.m=u.m}else u&&(g=String(u).match(Vi))?(this.h=!1,Mi(this,g[1]||"",!0),this.o=Be(g[2]||""),this.g=Be(g[3]||"",!0),Ns(this,g[4]),this.l=Be(g[5]||"",!0),Ps(this,g[6]||"",!0),this.m=Be(g[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Jr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Os(g,So,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Os(g,So,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Os(_,_.charAt(0)=="/"?mu:pu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Os(_,Va)),u.join("")};function An(u){return new Jr(u)}function Mi(u,g,_){u.j=_?Be(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ps(u,g,_){g instanceof Ir?(u.i=g,Sr(u.i,u.h)):(_||(g=Os(g,gu)),u.i=new Ir(g,u.h))}function tt(u,g,_){u.i.set(g,_)}function Ds(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Be(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Os(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,fu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var So=/[#\/\?@]/g,pu=/[#\?:]/g,mu=/[#\?]/g,gu=/[#\?@]/g,Va=/#/g;function Ir(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&Wd(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Ir.prototype,n.add=function(u,g){Ut(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function or(u,g){Ut(u),g=$n(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ar(u,g){return Ut(u),g=$n(u,g),u.g.has(g)}n.forEach=function(u,g){Ut(this),this.g.forEach(function(_,S){_.forEach(function(B){u.call(g,B,S,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const B=u[S];for(let G=0;G<B.length;G++)_.push(g[S])}return _},n.V=function(u){Ut(this);let g=[];if(typeof u=="string")ar(this,u)&&(g=g.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return Ut(this),this.i=null,u=$n(this,u),ar(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function js(u,g,_){or(u,g),0<_.length&&(u.i=null,u.g.set($n(u,g),M(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const G=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var B=G;le[S]!==""&&(B+="="+encodeURIComponent(String(le[S]))),u.push(B)}}return this.i=u.join("&")};function $n(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Sr(u,g){g&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(or(this,S),js(this,B,_))},u)),u.j=g}function Gd(u,g){const _=new Gt;if(h.Image){const S=new Image;S.onload=I(mn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(mn,_,"TestLoadImage: error",!1,g,S),S.onabort=I(mn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(mn,_,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function yu(u,g){const _=new Gt,S=new AbortController,B=setTimeout(()=>{S.abort(),mn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?mn(_,"TestPingServer: ok",!0,g):mn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),mn(_,"TestPingServer: error",!1,g)})}function mn(u,g,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Kd(){this.g=new Pi}function vu(u,g,_){const S=_||"";try{As(u,function(B,G){let le=B;v(B)&&(le=ks(B)),g.push(S+G+"="+encodeURIComponent(le))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Zr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Zr,Qr),Zr.prototype.g=function(){return new Ui(this.l,this.j)},Zr.prototype.i=(function(u){return function(){return u}})({});function Ui(u,g){Ge.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ui,Ge),n=Ui.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ur(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?lr(this):ur(this),this.readyState==3&&_u(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,lr(this))},n.Qa=function(u){this.g&&(this.response=u,lr(this))},n.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ur(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function ur(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function es(u){let g="";return K(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Ls(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=es(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):tt(u,g,_))}function ut(u){Ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ut,Ge);var Qd=/^https?$/i,Ma=["POST","PUT"];n=ut.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Yr(this.o):Yr(sr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(G){Fi(this,G);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())_.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ma,g,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Fi(this,G)}};function Fi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,bo(u),Nn(u)}function bo(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,nt(this,"complete"),nt(this,"abort"),Nn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof c<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Ni(u.Ea,0,u);else if(nt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=le===0){var B=String(u.D).match(Vi)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),S=!Qd.test(B?B.toLowerCase():"")}_=S}if(_)nt(u,"complete"),nt(u,"success");else{u.m=6;try{var G=2<gn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",bo(u)}}finally{Nn(u)}}}}function Nn(u,g){if(u.g){Ro(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||nt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ro(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Fn(g)}};function Fa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ko(u){const g={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(Q(u[S]))continue;var _=k(u[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[B]||[];g[B]=G,G.push(_)}D(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ba(u){this.Aa=0,this.i=[],this.j=new Gt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,u),this.cb=br("retryDelaySeedMs",1e4,u),this.Wa=br("forwardChannelMaxRetries",2,u),this.wa=br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(u&&u.concurrentRequestLimit),this.Da=new Kd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,S){Ye(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),Rr(this)};function Ft(u){if(Co(u),u.G==3){var g=u.U++,_=An(u.I);if(tt(_,"SID",u.K),tt(_,"RID",g),tt(_,"TYPE","terminate"),ts(u,_),g=new ir(u,u.j,g),g.L=2,g.v=Ds(An(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rt(g)}Eu(u)}function cr(u){u.g&&(za(u),u.g.cancel(),u.g=null)}function Co(u){cr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Rr(u){if(!Cn(u.h)&&!u.s){u.s=!0;var g=u.Ga;me||ae(),oe||(me(),oe=!0),se.add(g,u),u.B=0}}function Yd(u,g){return cu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ht(b(u.Ga,u,g),xu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new ir(this,this.j,u);let G=this.o;if(this.S&&(G?(G=T(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Vs(this,B,g),_=An(this.I),tt(_,"RID",u),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),ts(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(es(G)))+"&"+g:this.m&&Ls(_,this.m,G)),La(this.h,B),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",g),tt(_,"SID","null"),B.T=!0,Eo(B,_,null)):Eo(B,_,g),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Cn(this.h)||Ao(this))};function Ao(u,g){var _;g?_=g.l:_=u.U++;const S=An(u.I);tt(S,"SID",u.K),tt(S,"RID",_),tt(S,"AID",u.T),ts(u,S),u.m&&u.o&&Ls(S,u.m,u.o),_=new ir(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Vs(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),La(u.h,_),Eo(_,S,g)}function ts(u,g){u.H&&K(u.H,function(_,S){tt(g,S,_)}),u.l&&As({},function(_,S){tt(g,S,_)})}function Vs(u,g,_){_=Math.min(u.i.length,_);var S=u.l?b(u.l.Na,u.l,u):null;e:{var B=u.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=B[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Ze=!0;for(let kt=0;kt<_;kt++){let ze=B[kt].g;const Dt=B[kt].map;if(ze-=G,0>ze)G=Math.max(0,B[kt].g-100),Ze=!1;else try{vu(Dt,le,"req"+ze+"_")}catch{S&&S(Dt)}}if(Ze){S=le.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Bi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;me||ae(),oe||(me(),oe=!0),se.add(g,u),u.v=0}}function No(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ht(b(u.Fa,u),xu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ht(b(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),cr(this),wu(this))};function za(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function wu(u){u.g=new ir(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=An(u.qa);tt(g,"RID","rpc"),tt(g,"SID",u.K),tt(g,"AID",u.T),tt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(g,"TO",u.ja),tt(g,"TYPE","xmlhttp"),ts(u,g),u.m&&u.o&&Ls(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ds(An(g)),_.m=null,_.P=!0,Oa(_,u)}n.Za=function(){this.C!=null&&(this.C=null,cr(this),No(this),Ye(19))};function Po(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Do(u,g){var _=null;if(u.g==g){Po(u),za(u),u.g=null;var S=2}else if(on(u.h,g))_=g.D,du(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=u.B;S=Ve(),nt(S,new pn(S,_)),Rr(u)}else Bi(u);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&Yd(u,g)||S==2&&No(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),B){case 1:ns(u,5);break;case 4:ns(u,10);break;case 3:ns(u,6);break;default:ns(u,2)}}}function xu(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function ns(u,g){if(u.j.info("Error code "+g),g==2){var _=b(u.fb,u),S=u.Xa;const B=!S;S=new Jr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Mi(S,"https"),Ds(S),B?Gd(S.toString(),_):yu(S.toString(),_)}else Ye(2);u.G=0,u.l&&u.l.sa(g),Eu(u),Co(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const g=hu(u.h);(g.length!=0||u.i.length!=0)&&(j(u.ka,g),j(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Tu(u,g,_){var S=_ instanceof Jr?An(_):new Jr(_);if(S.g!="")g&&(S.g=g+"."+S.g),Ns(S,S.s);else{var B=h.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new Jr(null);S&&Mi(G,S),g&&(G.g=g),B&&Ns(G,B),_&&(G.l=_),S=G}return _=u.D,g=u.ya,_&&g&&tt(S,_,g),tt(S,"VER",u.la),ts(u,S),S}function Iu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new ut(new Zr({eb:_})):new ut(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oo(){}Oo.prototype.g=function(u,g){return new an(u,g)};function an(u,g){Ge.call(this),this.g=new Ba(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!Q(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new kr(this)}F(an,Ge),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ft(this.g)},an.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ks(u),u=_);g.i.push(new uu(g.Ya++,u)),g.G==3&&Rr(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,an.aa.N.call(this)};function Su(u){fn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}F(Su,fn);function bu(){sn.call(this),this.status=1}F(bu,sn);function kr(u){this.g=u}F(kr,$a),kr.prototype.ua=function(){nt(this.g,"a")},kr.prototype.ta=function(u){nt(this.g,new Su(u))},kr.prototype.sa=function(u){nt(this.g,new bu)},kr.prototype.ra=function(){nt(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iw=function(){return new Oo},sw=function(){return Ve()},rw=Bn,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Vc=wo,iu.COMPLETE="complete",nw=iu,Xr.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,vl=Xr,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,tw=ut}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Pv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Rp("@firebase/firestore");function ra(){return lo.logLevel}function pe(n,...e){if(lo.logLevel<=Me.DEBUG){const t=e.map(Up);lo.debug(`Firestore (${ba}): ${n}`,...t)}}function _s(n,...e){if(lo.logLevel<=Me.ERROR){const t=e.map(Up);lo.error(`Firestore (${ba}): ${n}`,...t)}}function hi(n,...e){if(lo.logLevel<=Me.WARN){const t=e.map(Up);lo.warn(`Firestore (${ba}): ${n}`,...t)}}function Up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ow(n,s,t)}function ow(n,e,t){let s=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw _s(s),new Error(s)}function Xe(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||ow(e,o,s)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zt.UNAUTHENTICATED)))}shutdown(){}}class mk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gk{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let s=this.i;const o=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new aw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class yk{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vk{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new yk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _k{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const s=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>s(a)))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wk(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%62))}return s}}function je(n,e){return n<e?-1:n>e?1:0}function Xf(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return je(s,o);{const a=lw(),c=xk(a.encode(Ov(n,t)),a.encode(Ov(e,t)));return c!==0?c:je(s,o)}}t+=s>65535?2:1}return je(n.length,e.length)}function Ov(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function xk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return je(n[t],e[t]);return je(n.length,e.length)}function ga(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class Dr{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ke(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=Dr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return je(e.length,t.length)}static compareSegments(e,t){const s=Dr.isNumericId(e),o=Dr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):Xf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class it extends Dr{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const Ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Dr{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return Ek.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new Ht([jv])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new he(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(s+=h,o++):(a(),o++)}if(a(),c)throw new he(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(it.fromString(e))}static fromName(e){return new xe(it.fromString(e).popFirst(5))}static empty(){return new xe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n,e,t){if(!t)throw new he(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Tk(n,e,t,s){if(e===!0&&s===!0)throw new he(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lv(n){if(!xe.isDocumentKey(n))throw new he(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vv(n){if(xe.isDocumentKey(n))throw new he(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ed(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function uo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ed(n);throw new he(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Yl(n,e){if(!cw(n))throw new he(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new he(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Uv=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Uv);return new et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mv)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Rt("string",et._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new et(0,0))}static max(){return new Ne(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function Ik(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new et(t+1,0):new et(t,s));return new fi(o,xe.empty(),e)}function Sk(n){return new fi(n.readTime,n.key,Pl)}class fi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fi(Ne.min(),xe.empty(),Pl)}static max(){return new fi(Ne.max(),xe.empty(),Pl)}}function bk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==Rk)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>s(f)))})),c=!0,a===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,a)=>{s.push(t.call(this,o,a))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const v=f;t(e[v]).next((w=>{c[v]=w,++h,h===a&&s(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new J(((s,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):s()};a()}))}}function Ck(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ka(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Td.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function Id(n){return n==null}function Jc(n){return n===0&&1/n==-1/0}function Ak(n){return typeof n=="number"&&Number.isInteger(n)&&!Jc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="";function Nk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fv(e)),e=Pk(n.get(t),e);return Fv(e)}function Pk(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case dw:t+="";break;default:t+=a}}return t}function Fv(n){return n+dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ii(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new $t(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,s,o,a){return this}insert(e,t,s){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(e){return new zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Pt(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fw("Invalid base64 string: "+a):a}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Dk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=Dk.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mi(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="server_timestamp",mw="__type__",gw="__previous_value__",yw="__local_write_time__";function zp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[mw])===null||t===void 0?void 0:t.stringValue)===pw}function Sd(n){const e=n.mapValue.fields[gw];return zp(e)?Sd(e):e}function Dl(n){const e=pi(n.mapValue.fields[yw].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,s,o,a,c,h,f,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=v,this.isUsingEmulator=w}}const Zc="(default)";class Ol{constructor(e,t){this.projectId=e,this.database=t||Zc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__type__",jk="__max__",Sc={mapValue:{}},_w="__vector__",ed="value";function gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:Vk(n)?9007199254740991:Lk(n)?10:11:ke(28295,{value:n})}function $r(n,e){if(n===e)return!0;const t=gi(n);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=pi(o.timestampValue),h=pi(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return mi(o.bytesValue).isEqual(mi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Et(o.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Et(o.integerValue)===Et(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Et(o.doubleValue),h=Et(a.doubleValue);return c===h?Jc(c)===Jc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return ga(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Bv(c)!==Bv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!$r(c[f],h[f])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function jl(n,e){return(n.values||[]).find((t=>$r(t,e)))!==void 0}function ya(n,e){if(n===e)return 0;const t=gi(n),s=gi(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Et(a.integerValue||a.doubleValue),f=Et(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return $v(n.timestampValue,e.timestampValue);case 4:return $v(Dl(n),Dl(e));case 5:return Xf(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=mi(a),f=mi(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let v=0;v<h.length&&v<f.length;v++){const w=je(h[v],f[v]);if(w!==0)return w}return je(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=je(Et(a.latitude),Et(c.latitude));return h!==0?h:je(Et(a.longitude),Et(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Hv(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,v,w;const x=a.fields||{},b=c.fields||{},I=(h=x[ed])===null||h===void 0?void 0:h.arrayValue,F=(f=b[ed])===null||f===void 0?void 0:f.arrayValue,M=je(((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0,((w=F==null?void 0:F.values)===null||w===void 0?void 0:w.length)||0);return M!==0?M:Hv(I,F)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Sc.mapValue&&c===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),v=c.fields||{},w=Object.keys(v);f.sort(),w.sort();for(let x=0;x<f.length&&x<w.length;++x){const b=Xf(f[x],w[x]);if(b!==0)return b;const I=ya(h[f[x]],v[w[x]]);if(I!==0)return I}return je(f.length,w.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{le:t})}}function $v(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=pi(n),s=pi(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function Hv(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=ya(t[o],s[o]);if(a)return a}return je(t.length,s.length)}function va(n){return Jf(n)}function Jf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=pi(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return mi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=Jf(a);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${Jf(t.fields[c])}`;return o+"}"})(n.mapValue):ke(61005,{value:n})}function Mc(n){switch(gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(n);return e?16+Mc(e):16;case 5:return 2*n.stringValue.length;case 6:return mi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,a)=>o+Mc(a)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ii(s.fields,((a,c)=>{o+=a.length+Mc(c)})),o})(n.mapValue);default:throw ke(13486,{value:n})}}function qv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function Wv(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uc(n){return!!n&&"mapValue"in n}function Lk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===_w}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ii(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Tl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Vk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,s,o),s={},o=[],t=h.popLast()}c?s[h.lastSegment()]=Tl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());Uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ii(t,((o,a)=>e[o]=a));for(const o of s)delete e[o]}clone(){return new bn(Tl(this.value))}}function ww(n){const e=[];return Ii(n.fields,((t,s)=>{const o=new Ht([t]);if(Uc(s)){const a=ww(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,a,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new en(e,0,Ne.min(),Ne.min(),Ne.min(),bn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Ne.min(),Ne.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ne.min(),Ne.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.position=e,this.inclusive=t}}function Kv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?s=xe.comparator(xe.fromName(c.referenceValue),t.key):s=ya(c,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class bt extends xw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Fk(e,t,s):t==="array-contains"?new $k(e,s):t==="in"?new Hk(e,s):t==="not-in"?new qk(e,s):t==="array-contains-any"?new Wk(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Bk(e,s):new zk(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ya(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new xr(e,t)}matches(e){return Ew(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ew(n){return n.op==="and"}function Tw(n){return Uk(n)&&Ew(n)}function Uk(n){for(const e of n.filters)if(e instanceof xr)return!1;return!0}function ep(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+va(n.value);if(Tw(n))return n.filters.map((e=>ep(e))).join(",");{const e=n.filters.map((t=>ep(t))).join(",");return`${n.op}(${e})`}}function Iw(n,e){return n instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&$r(s.value,o.value)})(n,e):n instanceof xr?(function(s,o){return o instanceof xr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((a,c,h)=>a&&Iw(c,o.filters[h])),!0):!1})(n,e):void ke(19439)}function Sw(n){return n instanceof bt?(function(t){return`${t.field.canonicalString()} ${t.op} ${va(t.value)}`})(n):n instanceof xr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"})(n):"Filter"}class Fk extends bt{constructor(e,t,s){super(e,t,s),this.key=xe.fromName(s.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bk extends bt{constructor(e,t){super(e,"in",t),this.keys=bw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zk extends bt{constructor(e,t){super(e,"not-in",t),this.keys=bw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>xe.fromName(s.referenceValue)))}class $k extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&jl(t.arrayValue,this.value)}}class Hk extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jl(this.value.arrayValue,t)}}class qk extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jl(this.value.arrayValue,t)}}class Wk extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t=null,s=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Pe=null}}function Yv(n,e=null,t=[],s=[],o=null,a=null,c=null){return new Gk(n,e,t,s,o,a,c)}function Hp(n){const e=Pe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ep(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(a){return a.field.canonicalString()+a.dir})(s))).join(","),Id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>va(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>va(s))).join(",")),e.Pe=t}return e.Pe}function qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qv(n.startAt,e.startAt)&&Qv(n.endAt,e.endAt)}function tp(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t=null,s=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Kk(n,e,t,s,o,a,c,h){return new Ca(n,e,t,s,o,a,c,h)}function Rw(n){return new Ca(n)}function Xv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kw(n){return n.collectionGroup!==null}function Il(n){const e=Pe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pt(Ht.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((v=>{v.isInequality()&&(h=h.add(v.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Ll(a,s))})),t.has(Ht.keyField().canonicalString())||e.Te.push(new Ll(Ht.keyField(),s))}return e.Te}function Mr(n){const e=Pe(n);return e.Ie||(e.Ie=Qk(e,Il(n))),e.Ie}function Qk(n,e){if(n.limitType==="F")return Yv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Ll(o.field,a)}));const t=n.endAt?new td(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new td(n.startAt.position,n.startAt.inclusive):null;return Yv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function np(n,e){const t=n.filters.concat([e]);return new Ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rp(n,e,t){return new Ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bd(n,e){return qp(Mr(n),Mr(e))&&n.limitType===e.limitType}function Cw(n){return`${Hp(Mr(n))}|lt:${n.limitType}`}function sa(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Sw(o))).join(", ")}]`),Id(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>va(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>va(o))).join(",")),`Target(${s})`})(Mr(n))}; limitType=${n.limitType})`}function Rd(n,e){return e.isFoundDocument()&&(function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):xe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)})(n,e)&&(function(s,o){for(const a of Il(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,h,f){const v=Kv(c,h,f);return c.inclusive?v<=0:v<0})(s.startAt,Il(s),o)||s.endAt&&!(function(c,h,f){const v=Kv(c,h,f);return c.inclusive?v>=0:v>0})(s.endAt,Il(s),o))})(n,e)}function Yk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Aw(n){return(e,t)=>{let s=!1;for(const o of Il(n)){const a=Xk(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function Xk(n,e,t){const s=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),v=h.data.field(a);return f!==null&&v!==null?ya(f,v):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,((t,s)=>{for(const[o,a]of s)e(o,a)}))}isEmpty(){return hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new yt(xe.comparator);function ws(){return Jk}const Nw=new yt(xe.comparator);function _l(...n){let e=Nw;for(const t of n)e=e.insert(t.key,t);return e}function Pw(n){let e=Nw;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ro(){return Sl()}function Dw(){return Sl()}function Sl(){return new mo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Zk=new yt(xe.comparator),eC=new Pt(xe.comparator);function Ue(...n){let e=eC;for(const t of n)e=e.add(t);return e}const tC=new Pt(je);function nC(){return tC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function Ow(n){return{integerValue:""+n}}function rC(n,e){return Ak(e)?Ow(e):Wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function sC(n,e,t){return n instanceof nd?(function(o,a){const c={fields:{[mw]:{stringValue:pw},[yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&zp(a)&&(a=Sd(a)),a&&(c.fields[gw]=a),{mapValue:c}})(t,e):n instanceof Vl?Lw(n,e):n instanceof Ml?Vw(n,e):(function(o,a){const c=jw(o,a),h=Jv(c)+Jv(o.Ee);return Zf(c)&&Zf(o.Ee)?Ow(h):Wp(o.serializer,h)})(n,e)}function iC(n,e,t){return n instanceof Vl?Lw(n,e):n instanceof Ml?Vw(n,e):t}function jw(n,e){return n instanceof rd?(function(s){return Zf(s)||(function(a){return!!a&&"doubleValue"in a})(s)})(e)?e:{integerValue:0}:null}class nd extends kd{}class Vl extends kd{constructor(e){super(),this.elements=e}}function Lw(n,e){const t=Mw(e);for(const s of n.elements)t.some((o=>$r(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ml extends kd{constructor(e){super(),this.elements=e}}function Vw(n,e){let t=Mw(e);for(const s of n.elements)t=t.filter((o=>!$r(o,s)));return{arrayValue:{values:t}}}class rd extends kd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Jv(n){return Et(n.integerValue||n.doubleValue)}function Mw(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function oC(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Vl&&o instanceof Vl||s instanceof Ml&&o instanceof Ml?ga(s.elements,o.elements,$r):s instanceof rd&&o instanceof rd?$r(s.Ee,o.Ee):s instanceof nd&&o instanceof nd})(n.transform,e.transform)}class aC{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cd{}function Uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gp(n.key,_r.none()):new Xl(n.key,n.data,_r.none());{const t=n.data,s=bn.empty();let o=new Pt(Ht.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new Si(n.key,s,new Ln(o.toArray()),_r.none())}}function lC(n,e,t){n instanceof Xl?(function(o,a,c){const h=o.value.clone(),f=e_(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Si?(function(o,a,c){if(!Fc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=e_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(Fw(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function bl(n,e,t,s){return n instanceof Xl?(function(a,c,h,f){if(!Fc(a.precondition,c))return h;const v=a.value.clone(),w=t_(a.fieldTransforms,f,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Si?(function(a,c,h,f){if(!Fc(a.precondition,c))return h;const v=t_(a.fieldTransforms,f,c),w=c.data;return w.setAll(Fw(a)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(n,e,t,s):(function(a,c,h){return Fc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function uC(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),a=jw(s.transform,o||null);a!=null&&(t===null&&(t=bn.empty()),t.set(s.field,a))}return t||null}function Zv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ga(s,o,((a,c)=>oC(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xl extends Cd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Si extends Cd{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function e_(n,e,t){const s=new Map;Xe(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);s.set(a.field,iC(c,h,t[o]))}return s}function t_(n,e,t){const s=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);s.set(o.field,sC(a,c,e))}return s}class Gp extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&lC(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Dw();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=Uw(c,h);f!==null&&s.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,((t,s)=>Zv(t,s)))&&ga(this.baseMutations,e.baseMutations,((t,s)=>Zv(t,s)))}}class Kp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return Zk})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new Kp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,$e;function pC(n){switch(n){case Y.OK:return ke(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function Bw(n){if(n===void 0)return _s("GRPC error has no .code"),Y.UNKNOWN;switch(n){case St.OK:return Y.OK;case St.CANCELLED:return Y.CANCELLED;case St.UNKNOWN:return Y.UNKNOWN;case St.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case St.INTERNAL:return Y.INTERNAL;case St.UNAVAILABLE:return Y.UNAVAILABLE;case St.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case St.NOT_FOUND:return Y.NOT_FOUND;case St.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case St.ABORTED:return Y.ABORTED;case St.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case St.DATA_LOSS:return Y.DATA_LOSS;default:return ke(39323,{code:n})}}($e=St||(St={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new li([4294967295,4294967295],0);function n_(n){const e=lw().encode(n),t=new ew;return t.update(e),new Uint8Array(t.digest())}function r_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new li([t,s],0),new li([o,a],0)]}class Qp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=li.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(li.fromNumber(s)));return o.compare(mC)===1&&(o=new li([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=n_(e),[s,o]=r_(t);for(let a=0;a<this.hashCount;a++){const c=this.pe(s,o,a);if(!this.ye(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Qp(a,o,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.fe===0)return;const t=n_(e),[s,o]=r_(t);for(let a=0;a<this.hashCount;a++){const c=this.pe(s,o,a);this.we(c)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ad(Ne.min(),o,new yt(je),ws(),Ue())}}class Jl{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Jl(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class zw{constructor(e,t){this.targetId=e,this.De=t}}class $w{constructor(e,t,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class s_{constructor(){this.ve=0,this.Ce=i_(),this.Fe=Wt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),t=Ue(),s=Ue();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ke(38017,{changeType:a})}})),new Jl(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=i_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class gC{constructor(e){this.We=e,this.Ge=new Map,this.ze=ws(),this.je=bc(),this.Je=bc(),this.He=new yt(je)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const a=o.target;if(tp(a))if(s===0){const c=new xe(a.path);this.Xe(t,c,en.newNoDocument(c,Ne.min()))}else Xe(s===1,20013,{expectedCount:s});else{const c=this.ot(t);if(c!==s){const h=this._t(e),f=h?this.ut(h,e,c):1;if(f!==0){this.rt(t);const v=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,v)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=mi(s).toUint8Array()}catch(f){if(f instanceof fw)return hi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Qp(c,o,a)}catch(f){return hi(f instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.fe===0?null:h}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach((a=>{const c=this.We.lt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,c)=>{const h=this.st(c);if(h){if(a.current&&tp(h.target)){const f=new xe(h.target.path);this.Tt(f).has(c)||this.It(c,f)||this.Xe(c,f,en.newNoDocument(f,e))}a.Ne&&(t.set(c,a.Le()),a.ke())}}));let s=Ue();this.Je.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const v=this.st(f);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(a))})),this.ze.forEach(((a,c)=>c.setReadTime(e)));const o=new Ad(e,t,this.He,this.ze,s);return this.ze=ws(),this.je=bc(),this.Je=bc(),this.He=new yt(je),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new s_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Pt(je),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Pt(je),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new s_),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function bc(){return new yt(xe.comparator)}function i_(){return new yt(xe.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class wC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sp(n,e){return n.useProto3Json||Id(e)?e:{value:e}}function sd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xC(n,e){return sd(n,e.toTimestamp())}function Ur(n){return Xe(!!n,49232),Ne.fromTimestamp((function(t){const s=pi(t);return new et(s.seconds,s.nanos)})(n))}function Yp(n,e){return ip(n,e).canonicalString()}function ip(n,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function qw(n){const e=it.fromString(n);return Xe(Yw(e),10190,{key:e.toString()}),e}function op(n,e){return Yp(n.databaseId,e.path)}function Pf(n,e){const t=qw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(Gw(t))}function Ww(n,e){return Yp(n.databaseId,e)}function EC(n){const e=qw(n);return e.length===4?it.emptyPath():Gw(e)}function ap(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gw(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function o_(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function TC(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(v,w){return v.useProto3Json?(Xe(w===void 0||typeof w=="string",58123),Wt.fromBase64String(w||"")):(Xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Wt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(v){const w=v.code===void 0?Y.UNKNOWN:Bw(v.code);return new he(w,v.message||"")})(c);t=new $w(s,o,a,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pf(n,s.document.name),a=Ur(s.document.updateTime),c=s.document.createTime?Ur(s.document.createTime):Ne.min(),h=new bn({mapValue:{fields:s.document.fields}}),f=en.newFoundDocument(o,a,c,h),v=s.targetIds||[],w=s.removedTargetIds||[];t=new Bc(v,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pf(n,s.document),a=s.readTime?Ur(s.readTime):Ne.min(),c=en.newNoDocument(o,a),h=s.removedTargetIds||[];t=new Bc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pf(n,s.document),a=s.removedTargetIds||[];t=new Bc([],a,o,null)}else{if(!("filter"in e))return ke(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new fC(o,a),h=s.targetId;t=new zw(h,c)}}return t}function IC(n,e){let t;if(e instanceof Xl)t={update:o_(n,e.key,e.value)};else if(e instanceof Gp)t={delete:op(n,e.key)};else if(e instanceof Si)t={update:o_(n,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof cC))return ke(16599,{Rt:e.type});t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(a,c){const h=c.transform;if(h instanceof nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ml)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rd)return{fieldPath:c.field.canonicalString(),increment:h.Ee};throw ke(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:xC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(n,e.precondition)),t}function SC(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?Ur(o.updateTime):Ur(a);return c.isEqual(Ne.min())&&(c=Ur(a)),new aC(c,o.transformResults||[])})(t,e)))):[]}function bC(n,e){return{documents:[Ww(n,e.path)]}}function RC(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Ww(n,o);const a=(function(v){if(v.length!==0)return Qw(xr.create(v,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(v){if(v.length!==0)return v.map((w=>(function(b){return{field:ia(b.field),direction:AC(b.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=sp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{Vt:t,parent:o}}function kC(n){let e=EC(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=(function(x){const b=Kw(x);return b instanceof xr&&Tw(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(x){return x.map((b=>(function(F){return new Ll(oa(F.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let b;return b=typeof x=="object"?x.value:x,Id(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(x){const b=!!x.before,I=x.values||[];return new td(I,b)})(t.startAt));let v=null;return t.endAt&&(v=(function(x){const b=!x.before,I=x.values||[];return new td(I,b)})(t.endAt)),Kk(e,o,c,a,h,"F",f,v)}function CC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=oa(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oa(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=oa(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=oa(t.unaryFilter.field);return bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return bt.create(oa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xr.create(t.compositeFilter.filters.map((s=>Kw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function AC(n){return yC[n]}function NC(n){return vC[n]}function PC(n){return _C[n]}function ia(n){return{fieldPath:n.canonicalString()}}function oa(n){return Ht.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof bt?(function(t){if(t.op==="=="){if(Gv(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NAN"}};if(Wv(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gv(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NAN"}};if(Wv(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(t.field),op:NC(t.op),value:t.value}}})(n):n instanceof xr?(function(t){const s=t.getFilters().map((o=>Qw(o)));return s.length===1?s[0]:{compositeFilter:{op:PC(t.op),filters:s}}})(n):ke(54877,{filter:n})}function DC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Yw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,s,o,a=Ne.min(),c=Ne.min(),h=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.gt=e}}function jC(n){const e=kC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Dn=new VC}addToCollectionParentIndex(e,t){return this.Dn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(fi.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class VC{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(it.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xw=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Xw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new _a(0)}static ur(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="LruGarbageCollector",MC=1048576;function u_([n,e],[t,s]){const o=je(n,t);return o===0?je(e,s):o}class UC{constructor(e){this.Tr=e,this.buffer=new Pt(u_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();u_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(l_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ka(t)?pe(l_,"Ignoring IndexedDB error during garbage collection: ",t):await Ra(t)}await this.Rr(3e5)}))}}class BC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Td.ue);const s=new UC(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(a_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,a,c,h,f,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,c=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,h=Date.now(),this.removeTargets(e,s,t)))).next((x=>(a=x,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(v=Date.now(),ra()<=Me.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(v-f)+`ms
Total Duration: ${v-w}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:x}))))}}function zC(n,e){return new BC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changes=new mo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&bl(s.mutation,o,Ln.empty(),et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const o=ro();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((a=>{let c=_l();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ro();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const o=[];return s.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,o){let a=ws();const c=Sl(),h=(function(){return Sl()})();return t.forEach(((f,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Si)?a=a.insert(v.key,v):w!==void 0?(c.set(v.key,w.mutation.getFieldMask()),bl(w.mutation,v,w.mutation.getFieldMask(),et.now())):c.set(v.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((v,w)=>c.set(v,w))),t.forEach(((v,w)=>{var x;return h.set(v,new HC(w,(x=c.get(v))!==null&&x!==void 0?x:null))})),h)))}recalculateAndSaveOverlays(e,t){const s=Sl();let o=new yt(((c,h)=>c-h)),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const v=t.get(f);if(v===null)return;let w=s.get(f)||Ln.empty();w=h.applyToLocalView(v,w),s.set(f,w);const x=(o.get(h.batchId)||Ue()).add(f);o=o.insert(h.batchId,x)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),v=f.key,w=f.value,x=Dw();w.forEach((b=>{if(!a.has(b)){const I=Uw(t.get(b),s.get(b));I!==null&&x.set(b,I),a=a.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,x))}return J.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):J.resolve(ro());let h=Pl,f=a;return c.next((v=>J.forEach(v,((w,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),a.get(w)?J.resolve():this.remoteDocumentCache.getEntry(e,w).next((b=>{f=f.insert(w,b)}))))).next((()=>this.populateOverlays(e,v,a))).next((()=>this.computeViews(e,f,v,Ue()))).next((w=>({batchId:h,changes:Pw(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((s=>{let o=_l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let c=_l();return this.indexManager.getCollectionParents(e,a).next((h=>J.forEach(h,(f=>{const v=(function(x,b){return new Ca(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((x,b)=>{c=c.insert(x,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o)))).next((c=>{a.forEach(((f,v)=>{const w=v.getKey();c.get(w)===null&&(c=c.insert(w,en.newInvalidDocument(w)))}));let h=_l();return c.forEach(((f,v)=>{const w=a.get(f);w!==void 0&&bl(w.mutation,v,Ln.empty(),et.now()),Rd(t,v)&&(h=h.insert(f,v))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return J.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:jC(o.bundledQuery),readTime:Ur(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new yt(xe.comparator),this.kr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ro();return J.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&s.set(o,a)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,a)=>{this.wt(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=ro(),a=t.length+1,c=new xe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,v=f.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&f.largestBatchId>s&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new yt(((v,w)=>v-w));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=a.get(v.largestBatchId);w===null&&(w=ro(),a=a.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const h=ro(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((v,w)=>h.set(v,w))),!(h.size()>=o)););return J.resolve(h)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new hC(t,s));let a=this.kr.get(t);a===void 0&&(a=Ue(),this.kr.set(t,a)),this.kr.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.qr=new Pt(Vt.Qr),this.$r=new Pt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new xe(new it([])),s=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.$r.forEachInRange([s,o],(c=>{this.Wr(c),a.push(c.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new xe(new it([])),s=new Vt(t,e),o=new Vt(t,e+1);let a=Ue();return this.$r.forEachInRange([s,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Vt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return xe.comparator(e.key,t.key)||je(e.Hr,t.Hr)}static Ur(e,t){return je(e.Hr,t.Hr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Pt(Vt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dC(a,t,s,o);this.mutationQueue.push(c);for(const h of o)this.Yr=this.Yr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Bp:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([s,o],(c=>{const h=this.Zr(c.Hr);a.push(h)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(je);return t.forEach((o=>{const a=new Vt(o,0),c=new Vt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,c],(h=>{s=s.add(h.Hr)}))})),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;xe.isDocumentKey(a)||(a=a.child(""));const c=new Vt(new xe(a),0);let h=new Pt(je);return this.Yr.forEachWhile((f=>{const v=f.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(h=h.add(f.Hr)),!0)}),c),J.resolve(this.ei(h))}ei(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(t.mutations,(o=>{const a=new Vt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new Vt(t,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.ni=e,this.docs=(function(){return new yt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,c=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=ws();return t.forEach((o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=ws();const c=t.path,h=new xe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:v,value:{document:w}}=f.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||bk(Sk(w),s)<=0||(o.has(w.key)||Rd(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,s,o){ke(9500)}ri(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new XC(this)}getSize(e){return J.resolve(this.size)}}class XC extends $C{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.persistence=e,this.ii=new mo((t=>Hp(t)),qp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new Xp,this.targetCount=0,this._i=_a.ar()}forEachTarget(e,t){return this.ii.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),J.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new _a(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.hr(t),J.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.ii.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.ii.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),J.waitFor(a).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new Td(0),this.ci=!1,this.ci=!0,this.li=new KC,this.referenceDelegate=e(this),this.hi=new JC(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new YC(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new OC(t),this.Ti=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new QC(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new ZC(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return J.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class ZC extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ai=new Xp,this.Ri=null}static Vi(e){return new Jp(e)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(s=>{const o=xe.fromPath(s);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return J.or([()=>J.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class id{constructor(e,t){this.persistence=e,this.gi=new mo((s=>Nk(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=zC(this,t)}static Vi(e,t){return new id(e,t)}Ii(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return J.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((a=>a?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(c=>this.Sr(e,c,t).next((h=>{h||(s++,a.removeEntry(c,Ne.min()))})))).next((()=>a.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mc(e.data.value)),t}Sr(e,t,s){return J.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ue(),o=Ue();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Zp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return OI()?8:Ck(tn())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.ps(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ys(e,t,o,s).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new eA;return this.ws(e,t,c).next((h=>{if(a.result=h,this.Rs)return this.Ss(e,t,c,h.size)}))})).next((()=>a.result))}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(ra()<=Me.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",sa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(ra()<=Me.DEBUG&&pe("QueryEngine","Query:",sa(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ra()<=Me.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",sa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):J.resolve())}ps(e,t){if(Xv(t))return J.resolve(null);let s=Mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rp(t,null,"F"),s=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((a=>{const c=Ue(...a);return this.gs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const v=this.bs(t,h);return this.Ds(t,v,c,f.readTime)?this.ps(e,rp(t,null,"F")):this.vs(e,v,t,f)}))))})))))}ys(e,t,s,o){return Xv(t)||o.isEqual(Ne.min())?J.resolve(null):this.gs.getDocuments(e,s).next((a=>{const c=this.bs(t,a);return this.Ds(t,c,s,o)?J.resolve(null):(ra()<=Me.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sa(t)),this.vs(e,c,t,Ik(o,Pl)).next((h=>h)))}))}bs(e,t){let s=new Pt(Aw(e));return t.forEach(((o,a)=>{Rd(e,a)&&(s=s.add(a))})),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,s){return ra()<=Me.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",sa(t)),this.gs.getDocumentsMatchingQuery(e,t,fi.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="LocalStore",nA=3e8;class rA{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new yt(je),this.Ms=new mo((a=>Hp(a)),qp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function sA(n,e,t,s){return new rA(n,e,t,s)}async function Zw(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((a=>{const c=[],h=[];let f=Ue();for(const v of o){c.push(v.batchId);for(const w of v.mutations)f=f.add(w.key)}for(const v of a){h.push(v.batchId);for(const w of v.mutations)f=f.add(w.key)}return t.localDocuments.getDocuments(s,f).next((v=>({Bs:v,removedBatchIds:c,addedBatchIds:h})))}))}))}function iA(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(h,f,v,w){const x=v.batch,b=x.keys();let I=J.resolve();return b.forEach((F=>{I=I.next((()=>w.getEntry(f,F))).next((M=>{const j=v.docVersions.get(F);Xe(j!==null,48541),M.version.compareTo(j)<0&&(x.applyToRemoteDocument(M,v),M.isValidDocument()&&(M.setReadTime(v.commitVersion),w.addEntry(M)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(f,x)))})(t,s,e,a).next((()=>a.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Ue();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(f=f.add(h.batch.mutations[v].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function ex(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function oA(n,e){const t=Pe(n),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const h=[];e.targetChanges.forEach(((w,x)=>{const b=o.get(x);if(!b)return;h.push(t.hi.removeMatchingKeys(a,w.removedDocuments,x).next((()=>t.hi.addMatchingKeys(a,w.addedDocuments,x))));let I=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):w.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(w.resumeToken,s)),o=o.insert(x,I),(function(M,j,X){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=nA?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(b,I,w)&&h.push(t.hi.updateTargetData(a,I))}));let f=ws(),v=Ue();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(aA(a,c,e.documentUpdates).next((w=>{f=w.Ls,v=w.ks}))),!s.isEqual(Ne.min())){const w=t.hi.getLastRemoteSnapshotVersion(a).next((x=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,s)));h.push(w)}return J.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,v))).next((()=>f))})).then((a=>(t.Fs=o,a)))}function aA(n,e,t){let s=Ue(),o=Ue();return t.forEach((a=>s=s.add(a))),e.getEntries(n,s).next((a=>{let c=ws();return t.forEach(((h,f)=>{const v=a.get(h);f.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!v.isValidDocument()||f.version.compareTo(v.version)>0||f.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):pe(em,"Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",f.version)})),{Ls:c,ks:o}}))}function lA(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function uA(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.hi.getTargetData(s,e).next((a=>a?(o=a,J.resolve(o)):t.hi.allocateTargetId(s).next((c=>(o=new si(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function lp(n,e,t){const s=Pe(n),o=s.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ka(c))throw c;pe(em,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function c_(n,e,t){const s=Pe(n);let o=Ne.min(),a=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,v,w){const x=Pe(f),b=x.Ms.get(w);return b!==void 0?J.resolve(x.Fs.get(b)):x.hi.getTargetData(v,w)})(s,c,Mr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:Ue()))).next((h=>(cA(s,Yk(e),h),{documents:h,qs:a})))))}function cA(n,e,t){let s=n.xs.get(e)||Ne.min();t.forEach(((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)})),n.xs.set(e,s)}class d_{constructor(){this.activeTargetIds=nC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dA{constructor(){this.Fo=new d_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new d_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class f_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(h_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function up(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",fA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pA{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Zc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,a){const c=up(),h=this.Go(e,t.toUriEncodedString());pe(Df,`Sending RPC '${e}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,o,a);const{host:v}=new URL(h),w=Ei(v);return this.jo(e,h,f,s,w).then((x=>(pe(Df,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw hi(Df,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",s),x}))}Jo(e,t,s,o,a,c){return this.Wo(e,t,s,o,a)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ba})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),s&&s.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const s=fA[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class gA extends pA{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,a){const c=up();return new Promise(((h,f)=>{const v=new tw;v.setWithCredentials(!0),v.listenOnce(nw.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Vc.NO_ERROR:const x=v.getResponseJson();pe(Jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case Vc.TIMEOUT:pe(Jt,`RPC '${e}' ${c} timed out`),f(new he(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const b=v.getStatus();if(pe(Jt,`RPC '${e}' ${c} failed with status:`,b,"response text:",v.getResponseText()),b>0){let I=v.getResponseJson();Array.isArray(I)&&(I=I[0]);const F=I==null?void 0:I.error;if(F&&F.status&&F.message){const M=(function(X){const Q=X.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Q)>=0?Q:Y.UNKNOWN})(F.status);f(new he(M,F.message))}else f(new he(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else f(new he(Y.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:e,streamId:c,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{pe(Jt,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);pe(Jt,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",w,s,15)}))}P_(e,t,s){const o=up(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iw(),h=sw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(f.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,t,s),f.encodeInitMessageHeaders=!0;const w=a.join("");pe(Jt,`Creating RPC '${e}' stream ${o}: ${w}`,f);const x=c.createWebChannel(w,f);this.T_(x);let b=!1,I=!1;const F=new mA({Ho:j=>{I?pe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(b||(pe(Jt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),b=!0),pe(Jt,`RPC '${e}' stream ${o} sending:`,j),x.send(j))},Yo:()=>x.close()}),M=(j,X,Q)=>{j.listen(X,(H=>{try{Q(H)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return M(x,vl.EventType.OPEN,(()=>{I||(pe(Jt,`RPC '${e}' stream ${o} transport opened.`),F.s_())})),M(x,vl.EventType.CLOSE,(()=>{I||(I=!0,pe(Jt,`RPC '${e}' stream ${o} transport closed`),F.__(),this.I_(x))})),M(x,vl.EventType.ERROR,(j=>{I||(I=!0,hi(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),F.__(new he(Y.UNAVAILABLE,"The operation could not be completed")))})),M(x,vl.EventType.MESSAGE,(j=>{var X;if(!I){const Q=j.data[0];Xe(!!Q,16349);const H=Q,ne=(H==null?void 0:H.error)||((X=H[0])===null||X===void 0?void 0:X.error);if(ne){pe(Jt,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let K=(function(R){const P=St[R];if(P!==void 0)return Bw(P)})(de),D=ne.message;K===void 0&&(K=Y.INTERNAL,D="Unknown error status: "+de+" with message "+ne.message),I=!0,F.__(new he(K,D)),x.close()}else pe(Jt,`RPC '${e}' stream ${o} received:`,Q),F.a_(Q)}})),M(h,rw.STAT_EVENT,(j=>{j.stat===Yf.PROXY?pe(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Yf.NOPROXY&&pe(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.o_()}),0),F}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new wC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,s=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class nx{constructor(e,t,s,o,a,c,h,f){this.Fi=e,this.w_=s,this.S_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tx(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(_s(t.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===t&&this.W_(s,o)}),(s=>{e((()=>{const o=new he(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return pe(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(pe(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yA extends nx{constructor(e,t,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=TC(this.serializer,e),s=(function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Ur(c.readTime):Ne.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=ap(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=tp(f)?{documents:bC(a,f)}:{query:RC(a,f).Vt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Hw(a,c.resumeToken);const v=sp(a,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=sd(a,c.snapshotVersion.toTimestamp());const v=sp(a,c.expectedCount);v!==null&&(h.expectedCount=v)}return h})(this.serializer,e);const s=CC(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.k_(t)}}class vA extends nx{constructor(e,t,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=SC(e.writeResults,e.commitTime),s=Ur(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=ap(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>IC(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class wA extends _A{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Wo(e,ip(t,s),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(Y.UNKNOWN,a.toString())}))}Jo(e,t,s,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Jo(e,ip(t,s),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Y.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class xA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_s(t),this._a=!1):pe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class EA{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((c=>{s.enqueueAndForget((async()=>{go(this)&&(pe(co,"Restarting streams for network reachability change."),await(async function(f){const v=Pe(f);v.Ia.add(4),await Zl(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Pd(v)})(this))}))})),this.Aa=new xA(s,o)}}async function Pd(n){if(go(n))for(const e of n.da)await e(!0)}async function Zl(n){for(const e of n.da)await e(!1)}function rx(n,e){const t=Pe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),sm(t)?rm(t):Aa(t).x_()&&nm(t,e))}function tm(n,e){const t=Pe(n),s=Aa(t);t.Ta.delete(e),s.x_()&&sx(t,e),t.Ta.size===0&&(s.x_()?s.B_():go(t)&&t.Aa.set("Unknown"))}function nm(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).H_(e)}function sx(n,e){n.Ra.$e(e),Aa(n).Y_(e)}function rm(n){n.Ra=new gC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Aa.aa()}function sm(n){return go(n)&&!Aa(n).M_()&&n.Ta.size>0}function go(n){return Pe(n).Ia.size===0}function ix(n){n.Ra=void 0}async function TA(n){n.Aa.set("Online")}async function IA(n){n.Ta.forEach(((e,t)=>{nm(n,e)}))}async function SA(n,e){ix(n),sm(n)?(n.Aa.la(e),rm(n)):n.Aa.set("Unknown")}async function bA(n,e,t){if(n.Aa.set("Online"),e instanceof $w&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ta.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ta.delete(h),o.Ra.removeTarget(h))})(n,e)}catch(s){pe(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await od(n,s)}else if(e instanceof Bc?n.Ra.Ye(e):e instanceof zw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ne.min()))try{const s=await ex(n.localStore);t.compareTo(s)>=0&&await(function(a,c){const h=a.Ra.Pt(c);return h.targetChanges.forEach(((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const w=a.Ta.get(v);w&&a.Ta.set(v,w.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,v)=>{const w=a.Ta.get(f);if(!w)return;a.Ta.set(f,w.withResumeToken(Wt.EMPTY_BYTE_STRING,w.snapshotVersion)),sx(a,f);const x=new si(w.target,f,v,w.sequenceNumber);nm(a,x)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){pe(co,"Failed to raise snapshot:",s),await od(n,s)}}async function od(n,e,t){if(!ka(e))throw e;n.Ia.add(1),await Zl(n),n.Aa.set("Offline"),t||(t=()=>ex(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(co,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Pd(n)}))}function ox(n,e){return e().catch((t=>od(n,t,e)))}async function Dd(n){const e=Pe(n),t=yi(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bp;for(;RA(e);)try{const o=await lA(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,kA(e,o)}catch(o){await od(e,o)}ax(e)&&lx(e)}function RA(n){return go(n)&&n.Pa.length<10}function kA(n,e){n.Pa.push(e);const t=yi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function ax(n){return go(n)&&!yi(n).M_()&&n.Pa.length>0}function lx(n){yi(n).start()}async function CA(n){yi(n).na()}async function AA(n){const e=yi(n);for(const t of n.Pa)e.X_(t.mutations)}async function NA(n,e,t){const s=n.Pa.shift(),o=Kp.from(s,e,t);await ox(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Dd(n)}async function PA(n,e){e&&yi(n).Z_&&await(async function(s,o){if((function(c){return pC(c)&&c!==Y.ABORTED})(o.code)){const a=s.Pa.shift();yi(s).N_(),await ox(s,(()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Dd(s)}})(n,e),ax(n)&&lx(n)}async function m_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),pe(co,"RemoteStore received new credentials");const s=go(t);t.Ia.add(3),await Zl(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Pd(t)}async function DA(n,e){const t=Pe(n);e?(t.Ia.delete(2),await Pd(t)):e||(t.Ia.add(2),await Zl(t),t.Aa.set("Unknown"))}function Aa(n){return n.Va||(n.Va=(function(t,s,o){const a=Pe(t);return a.ia(),new yA(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:TA.bind(null,n),e_:IA.bind(null,n),n_:SA.bind(null,n),J_:bA.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),sm(n)?rm(n):n.Aa.set("Unknown")):(await n.Va.stop(),ix(n))}))),n.Va}function yi(n){return n.ma||(n.ma=(function(t,s,o){const a=Pe(t);return a.ia(),new vA(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:CA.bind(null,n),n_:PA.bind(null,n),ea:AA.bind(null,n),ta:NA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Dd(n)):(await n.ma.stop(),n.Pa.length>0&&(pe(co,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const c=Date.now()+s,h=new im(e,t,c,o,a);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function om(n,e){if(_s("AsyncQueue",`${e}: ${n}`),ka(n))return new he(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static emptySet(e){return new ha(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||xe.comparator(t.key,s.key):(t,s)=>xe.comparator(t.key,s.key),this.keyedMap=_l(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ha;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.fa=new yt(xe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ke(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class wa{constructor(e,t,s,o,a,c,h,f,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new wa(e,t,ha.emptySet(t),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class jA{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Pe(t),a=o.queries;o.queries=y_(),a.forEach(((c,h)=>{for(const f of h.wa)f.onError(s)}))})(this,new he(Y.ABORTED,"Firestore shutting down"))}}function y_(){return new mo((n=>Cw(n)),bd)}async function LA(n,e){const t=Pe(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(s=2):(a=new OA,s=e.ba()?0:1);try{switch(s){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=om(c,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&am(t)}async function VA(n,e){const t=Pe(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const c=a.wa.indexOf(e);c>=0&&(a.wa.splice(c,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function MA(n,e){const t=Pe(n);let s=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.wa)h.Ca(o)&&(s=!0);c.ya=o}}s&&am(t)}function UA(n,e,t){const s=Pe(n),o=s.queries.get(e);if(o)for(const a of o.wa)a.onError(t);s.queries.delete(e)}function am(n){n.Da.forEach((e=>{e.next()}))}var cp,v_;(v_=cp||(cp={})).Fa="default",v_.Cache="cache";class FA{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.key=e}}class cx{constructor(e){this.key=e}}class BA{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=Aw(e),this.eu=new ha(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new g_,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const b=o.get(w),I=Rd(this.query,x)?x:null,F=!!b&&this.mutatedKeys.has(b.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let j=!1;b&&I?b.data.isEqual(I.data)?F!==M&&(s.track({type:3,doc:I}),j=!0):this.iu(b,I)||(s.track({type:2,doc:I}),j=!0,(f&&this.Xa(I,f)>0||v&&this.Xa(I,v)<0)&&(h=!0)):!b&&I?(s.track({type:0,doc:I}),j=!0):b&&!I&&(s.track({type:1,doc:b}),j=!0,(f||v)&&(h=!0)),j&&(I?(c=c.add(I),a=M?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),s.track({type:1,doc:w})}return{eu:c,ru:s,Ds:h,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((w,x)=>(function(I,F){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:j})}};return M(I)-M(F)})(w.type,x.type)||this.Xa(w.doc,x.doc))),this.su(s),o=o!=null&&o;const h=t&&!o?this.ou():[],f=this.Za.size===0&&this.current&&!o?1:0,v=f!==this.Ya;return this.Ya=f,c.length!==0||v?{snapshot:new wa(this.query,e.eu,a,c,e.mutatedKeys,f===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new g_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new cx(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new ux(s))})),t}uu(e){this.Ha=e.qs,this.Za=Ue();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return wa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lm="SyncEngine";class zA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $A{constructor(e){this.key=e,this.lu=!1}}class HA{constructor(e,t,s,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new mo((h=>Cw(h)),bd),this.Tu=new Map,this.Iu=new Set,this.du=new yt(xe.comparator),this.Eu=new Map,this.Au=new Xp,this.Ru={},this.Vu=new Map,this.mu=_a.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function qA(n,e,t=!0){const s=gx(n);let o;const a=s.Pu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await dx(s,e,t,!0),o}async function WA(n,e){const t=gx(n);await dx(t,e,!0,!1)}async function dx(n,e,t,s){const o=await uA(n.localStore,Mr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return s&&(h=await GA(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&rx(n.remoteStore,o),h}async function GA(n,e,t,s,o){n.gu=(x,b,I)=>(async function(M,j,X,Q){let H=j.view.nu(X);H.Ds&&(H=await c_(M.localStore,j.query,!1).then((({documents:D})=>j.view.nu(D,H))));const ne=Q&&Q.targetChanges.get(j.targetId),de=Q&&Q.targetMismatches.get(j.targetId)!=null,K=j.view.applyChanges(H,M.isPrimaryClient,ne,de);return w_(M,j.targetId,K._u),K.snapshot})(n,x,b,I);const a=await c_(n.localStore,e,!0),c=new BA(e,a.qs),h=c.nu(a.documents),f=Jl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(h,n.isPrimaryClient,f);w_(n,t,v._u);const w=new zA(e,t,c);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),v.snapshot}async function KA(n,e,t){const s=Pe(n),o=s.Pu.get(e),a=s.Tu.get(o.targetId);if(a.length>1)return s.Tu.set(o.targetId,a.filter((c=>!bd(c,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&tm(s.remoteStore,o.targetId),dp(s,o.targetId)})).catch(Ra)):(dp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function QA(n,e){const t=Pe(n),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),tm(t.remoteStore,s.targetId))}async function YA(n,e,t){const s=rN(n);try{const o=await(function(c,h){const f=Pe(c),v=et.now(),w=h.reduce(((I,F)=>I.add(F.key)),Ue());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let F=ws(),M=Ue();return f.Os.getEntries(I,w).next((j=>{F=j,F.forEach(((X,Q)=>{Q.isValidDocument()||(M=M.add(X))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,F))).next((j=>{x=j;const X=[];for(const Q of h){const H=uC(Q,x.get(Q.key).overlayedDocument);H!=null&&X.push(new Si(Q.key,H,ww(H.value.mapValue),_r.exists(!0)))}return f.mutationQueue.addMutationBatch(I,v,X,h)})).next((j=>{b=j;const X=j.applyToLocalDocumentSet(x,M);return f.documentOverlayCache.saveOverlays(I,j.batchId,X)}))})).then((()=>({batchId:b.batchId,changes:Pw(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let v=c.Ru[c.currentUser.toKey()];v||(v=new yt(je)),v=v.insert(h,f),c.Ru[c.currentUser.toKey()]=v})(s,o.batchId,t),await eu(s,o.changes),await Dd(s.remoteStore)}catch(o){const a=om(o,"Failed to persist write");t.reject(a)}}async function hx(n,e){const t=Pe(n);try{const s=await oA(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Eu.get(a);c&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.lu=!0:o.modifiedDocuments.size>0?Xe(c.lu,14607):o.removedDocuments.size>0&&(Xe(c.lu,42227),c.lu=!1))})),await eu(t,s,e)}catch(s){await Ra(s)}}function __(n,e,t){const s=Pe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Pe(c);f.onlineState=h;let v=!1;f.queries.forEach(((w,x)=>{for(const b of x.wa)b.va(h)&&(v=!0)})),v&&am(f)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XA(n,e,t){const s=Pe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),a=o&&o.key;if(a){let c=new yt(xe.comparator);c=c.insert(a,en.newNoDocument(a,Ne.min()));const h=Ue().add(a),f=new Ad(Ne.min(),new Map,new yt(je),c,h);await hx(s,f),s.du=s.du.remove(a),s.Eu.delete(e),um(s)}else await lp(s.localStore,e,!1).then((()=>dp(s,e,t))).catch(Ra)}async function JA(n,e){const t=Pe(n),s=e.batch.batchId;try{const o=await iA(t.localStore,e);px(t,s,null),fx(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await eu(t,o)}catch(o){await Ra(o)}}async function ZA(n,e,t){const s=Pe(n);try{const o=await(function(c,h){const f=Pe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return f.mutationQueue.lookupMutationBatch(v,h).next((x=>(Xe(x!==null,37113),w=x.keys(),f.mutationQueue.removeMutationBatch(v,x)))).next((()=>f.mutationQueue.performConsistencyCheck(v))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(v,w,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>f.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);px(s,e,t),fx(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await eu(s,o)}catch(o){await Ra(o)}}function fx(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function px(n,e,t){const s=Pe(n);let o=s.Ru[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function dp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Tu.get(e))n.Pu.delete(s),t&&n.hu.pu(s,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((s=>{n.Au.containsKey(s)||mx(n,s)}))}function mx(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),um(n))}function w_(n,e,t){for(const s of t)s instanceof ux?(n.Au.addReference(s.key,e),eN(n,s)):s instanceof cx?(pe(lm,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,e),n.Au.containsKey(s.key)||mx(n,s.key)):ke(19791,{yu:s})}function eN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Iu.has(s)||(pe(lm,"New document in limbo: "+t),n.Iu.add(s),um(n))}function um(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new xe(it.fromString(e)),s=n.mu.next();n.Eu.set(s,new $A(t)),n.du=n.du.insert(t,s),rx(n.remoteStore,new si(Mr(Rw(t.path)),s,"TargetPurposeLimboResolution",Td.ue))}}async function eu(n,e,t){const s=Pe(n),o=[],a=[],c=[];s.Pu.isEmpty()||(s.Pu.forEach(((h,f)=>{c.push(s.gu(f,e,t).then((v=>{var w;if((v||t)&&s.isPrimaryClient){const x=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(f.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(v){o.push(v);const x=Zp.Es(f.targetId,v);a.push(x)}})))})),await Promise.all(c),s.hu.J_(o),await(async function(f,v){const w=Pe(f);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(v,(b=>J.forEach(b.Is,(I=>w.persistence.referenceDelegate.addReference(x,b.targetId,I))).next((()=>J.forEach(b.ds,(I=>w.persistence.referenceDelegate.removeReference(x,b.targetId,I)))))))))}catch(x){if(!ka(x))throw x;pe(em,"Failed to update sequence numbers: "+x)}for(const x of v){const b=x.targetId;if(!x.fromCache){const I=w.Fs.get(b),F=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(F);w.Fs=w.Fs.insert(b,M)}}})(s.localStore,a))}async function tN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){pe(lm,"User change. New user:",e.toKey());const s=await Zw(t.localStore,e);t.currentUser=e,(function(a,c){a.Vu.forEach((h=>{h.forEach((f=>{f.reject(new he(Y.CANCELLED,c))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await eu(t,s.Bs)}}function nN(n,e){const t=Pe(n),s=t.Eu.get(e);if(s&&s.lu)return Ue().add(s.key);{let o=Ue();const a=t.Tu.get(e);if(!a)return o;for(const c of a){const h=t.Pu.get(c);o=o.unionWith(h.view.tu)}return o}}function gx(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XA.bind(null,e),e.hu.J_=MA.bind(null,e.eventManager),e.hu.pu=UA.bind(null,e.eventManager),e}function rN(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZA.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return sA(this.persistence,new tA,e.initialUser,this.serializer)}Du(e){return new Jw(Jp.Vi,this.serializer)}bu(e){return new dA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class sN extends ad{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Xe(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FC(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Jw((s=>id.Vi(s,t)),this.serializer)}}class hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tN.bind(null,this.syncEngine),await DA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jA})()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),s=(function(a){return new gA(a)})(e.databaseInfo);return(function(a,c,h,f){return new wA(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,a,c,h){return new EA(s,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>__(this.syncEngine,t,0)),(function(){return f_.C()?new f_:new hA})())}createSyncEngine(e,t){return(function(o,a,c,h,f,v,w){const x=new HA(o,a,c,h,f,v);return w&&(x.fu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Pe(o);pe(co,"RemoteStore shutting down."),a.Ia.add(5),await Zl(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class oN{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,(async c=>{pe(vi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(vi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=om(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jf(n,e){n.asyncQueue.verifyOperationInProgress(),pe(vi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Zw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{hi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{hi("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function x_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aN(n);pe(vi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>m_(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>m_(e.remoteStore,o))),n._onlineComponents=e}async function aN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(vi,"Using user provided OfflineComponentProvider");try{await jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;hi("Error using user provided cache. Falling back to memory cache: "+t),await jf(n,new ad)}}else pe(vi,"Using default OfflineComponentProvider"),await jf(n,new sN(void 0));return n._offlineComponents}async function yx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(vi,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(pe(vi,"Using default OnlineComponentProvider"),await x_(n,new hp))),n._onlineComponents}function lN(n){return yx(n).then((e=>e.syncEngine))}async function uN(n){const e=await yx(n),t=e.eventManager;return t.onListen=qA.bind(null,e.syncEngine),t.onUnlisten=KA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QA.bind(null,e.syncEngine),t}function cN(n,e,t={}){const s=new ui;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,v){const w=new iN({next:b=>{w.Ou(),c.enqueueAndForget((()=>VA(a,x))),b.fromCache&&f.source==="server"?v.reject(new he(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:b=>v.reject(b)}),x=new FA(h,w,{includeMetadataChanges:!0,ka:!0});return LA(a,x)})(await uN(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firestore.googleapis.com",T_=!0;class I_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=T_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MC)throw new he(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vx((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pk;switch(s.type){case"firstParty":return new vk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=E_.get(t);s&&(pe("ComponentProvider","Removing Datastore"),E_.delete(t),s.terminate())})(this),Promise.resolve()}}function dN(n,e,t,s={}){var o;n=uo(n,Od);const a=Ei(e),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(Sp(`https://${f}`),bp("Firestore",!0)),c.host!==_x&&c.host!==f&&hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},c),{host:f,ssl:a,emulatorOptions:s});if(!io(v,h)&&(n._setSettings(v),s.mockUserToken)){let w,x;if(typeof s.mockUserToken=="string")w=s.mockUserToken,x=Zt.MOCK_USER;else{w=m0(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zt(b)}n._authCredentials=new mk(new aw(w,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class Nt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Yl(t,Nt._jsonSchema))return new Nt(e,s||null,new xe(it.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Rt("string",Nt._jsonSchemaVersion),referencePath:Rt("string")};class ci extends yo{constructor(e,t,s){super(e,t,Rw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new xe(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function Zn(n,e,...t){if(n=gt(n),uw("collection","path",e),n instanceof Od){const s=it.fromString(e,...t);return Vv(s),new ci(n,null,s)}{if(!(n instanceof Nt||n instanceof ci))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return Vv(s),new ci(n.firestore,null,s)}}function xa(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Fp.newId()),uw("doc","path",e),n instanceof Od){const s=it.fromString(e,...t);return Lv(s),new Nt(n,null,new xe(s))}{if(!(n instanceof Nt||n instanceof ci))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return Lv(s),new Nt(n.firestore,n instanceof ci?n.converter:null,new xe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tx(this,"async_queue_retry"),this.oc=()=>{const s=Of();s&&pe(S_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new ui;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ka(e))throw e;pe(S_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,_s("INTERNAL UNHANDLED ERROR: ",R_(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=im.createAndSchedule(this,e,t,s,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&ke(47125,{hc:R_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function R_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class tu extends Od{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new b_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function hN(n,e){const t=typeof n=="object"?n:Cp(),s=typeof n=="string"?n:Zc,o=yd(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=h0("firestore");a&&dN(o,...a)}return o}function wx(n){if(n._terminated)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fN(n),n._firestoreClient}function fN(n){var e,t,s;const o=n._freezeSettings(),a=(function(h,f,v,w){return new Ok(h,f,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,vx(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new oN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Wt.fromBase64String(e))}catch(t){throw new he(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Rt("string",Jn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Rt("string",Fr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,Br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Br(e.vectorValues);throw new he(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Br._jsonSchemaVersion="firestore/vectorValue/1.0",Br._jsonSchema={type:Rt("string",Br._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^__.*__$/;class mN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}class xx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Si(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ex(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:n})}}class dm{constructor(e,t,s,o,a,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ld(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ex(this.Ec)&&pN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class gN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Nd(e)}Dc(e,t,s,o=!1){return new dm({Ec:e,methodName:t,bc:s,path:Ht.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new gN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yN(n,e,t,s,o,a={}){const c=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);fm("Data must be an object, but it was:",c,s);const h=Tx(s,c);let f,v;if(a.merge)f=new Ln(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const x of a.mergeFields){const b=fp(e,x,t);if(!c.contains(b))throw new he(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Sx(w,b)||w.push(b)}f=new Ln(w),v=c.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,v=c.fieldTransforms;return new mN(new bn(h),f,v)}class Ld extends cm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function vN(n,e,t,s){const o=n.Dc(1,e,t);fm("Data must be an object, but it was:",o,s);const a=[],c=bn.empty();Ii(s,((f,v)=>{const w=pm(e,f,t);v=gt(v);const x=o.gc(w);if(v instanceof Ld)a.push(w);else{const b=nu(v,x);b!=null&&(a.push(w),c.set(w,b))}}));const h=new Ln(a);return new xx(c,h,o.fieldTransforms)}function _N(n,e,t,s,o,a){const c=n.Dc(1,e,t),h=[fp(e,s,t)],f=[o];if(a.length%2!=0)throw new he(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)h.push(fp(e,a[b])),f.push(a[b+1]);const v=[],w=bn.empty();for(let b=h.length-1;b>=0;--b)if(!Sx(v,h[b])){const I=h[b];let F=f[b];F=gt(F);const M=c.gc(I);if(F instanceof Ld)v.push(I);else{const j=nu(F,M);j!=null&&(v.push(I),w.set(I,j))}}const x=new Ln(v);return new xx(w,x,c.fieldTransforms)}function wN(n,e,t,s=!1){return nu(t,n.Dc(s?4:3,e))}function nu(n,e){if(Ix(n=gt(n)))return fm("Unsupported field value:",e,n),Tx(n,e);if(n instanceof cm)return(function(s,o){if(!Ex(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const a=[];let c=0;for(const h of s){let f=nu(h,o.yc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(s,o){if((s=gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=et.fromDate(s);return{timestampValue:sd(o.serializer,a)}}if(s instanceof et){const a=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sd(o.serializer,a)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:Hw(o.serializer,s._byteString)};if(s instanceof Nt){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Br)return(function(c,h){return{mapValue:{fields:{[vw]:{stringValue:_w},[ed]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw h.wc("VectorValues must only contain numeric values.");return Wp(h.serializer,v)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Ed(s)}`)})(n,e)}function Tx(n,e){const t={};return hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(n,((s,o)=>{const a=nu(o,e.Vc(s));a!=null&&(t[s]=a)})),{mapValue:{fields:t}}}function Ix(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof Fr||n instanceof Jn||n instanceof Nt||n instanceof cm||n instanceof Br)}function fm(n,e,t){if(!Ix(t)||!cw(t)){const s=Ed(t);throw s==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+s)}}function fp(n,e,t){if((e=gt(e))instanceof jd)return e._internalPath;if(typeof e=="string")return pm(n,e);throw ld("Field path arguments must be of type string or ",n,!1,void 0,t)}const xN=new RegExp("[~\\*/\\[\\]]");function pm(n,e,t){if(e.search(xN)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jd(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ld(n,e,t,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${s}`),c&&(f+=` in document ${o}`),f+=")"),new he(Y.INVALID_ARGUMENT,h+n+f)}function Sx(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class EN extends bx{data(){return super.data()}}function mm(n,e){return typeof e=="string"?pm(n,e):e instanceof jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class Rx extends gm{}function bi(n,e,...t){let s=[];e instanceof gm&&s.push(e),s=s.concat(t),(function(a){const c=a.filter((f=>f instanceof vm)).length,h=a.filter((f=>f instanceof ym)).length;if(c>1||c>0&&h>0)throw new he(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class ym extends Rx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ym(e,t,s)}_apply(e){const t=this._parse(e);return kx(e._query,t),new yo(e.firestore,e.converter,np(e._query,t))}_parse(e){const t=hm(e.firestore);return(function(a,c,h,f,v,w,x){let b;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new he(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){C_(x,w);const F=[];for(const M of x)F.push(k_(f,a,M));b={arrayValue:{values:F}}}else b=k_(f,a,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||C_(x,w),b=wN(h,c,x,w==="in"||w==="not-in");return bt.create(v,w,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class vm extends gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vm(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const f of h)kx(c,f),c=np(c,f)})(e._query,t),new yo(e.firestore,e.converter,np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _m extends Rx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _m(e,t)}_apply(e){const t=(function(o,a,c){if(o.startAt!==null)throw new he(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(a,c)})(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,(function(o,a){const c=o.explicitOrderBy.concat([a]);return new Ca(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ri(n,e="asc"){const t=e,s=mm("orderBy",n);return _m._create(s,t)}function k_(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kw(e)&&t.indexOf("/")!==-1)throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!xe.isDocumentKey(s))throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qv(n,new xe(s))}if(t instanceof Nt)return qv(n,t._key);throw new he(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(t)}.`)}function C_(n,e){if(!Array.isArray(n)||n.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kx(n,e){const t=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IN{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ii(e,((o,a)=>{s[o]=this.convertValue(a,t)})),s}convertVectorValue(e){var t,s,o;const a=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[ed].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((c=>Et(c.doubleValue)));return new Br(a)}convertGeoPoint(e){return new Fr(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=pi(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Xe(Yw(s),9688,{name:e});const o=new Ol(s.get(1),s.get(3)),a=new xe(s.popFirst(5));return o.isEqual(t)||_s(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends bx{constructor(e,t,s,o,a,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Rt("string",fa._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class zc extends fa{data(e={}){return super.data(e)}}class pa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new zc(this._firestore,this._userDataWriter,s.key,s,new kc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const f=new zc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new zc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return h.type!==0&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:bN(h.type),doc:f,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Rt("string",pa._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class RN extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function ki(n){n=uo(n,yo);const e=uo(n.firestore,tu),t=wx(e),s=new RN(e);return TN(n._query),cN(t,n._query).then((o=>new pa(e,s,n,o)))}function kN(n,e,t,...s){n=uo(n,Nt);const o=uo(n.firestore,tu),a=hm(o);let c;return c=typeof(e=gt(e))=="string"||e instanceof jd?_N(a,"updateDoc",n._key,e,t,s):vN(a,"updateDoc",n._key,e),wm(o,[c.toMutation(n._key,_r.exists(!0))])}function Vd(n){return wm(uo(n.firestore,tu),[new Gp(n._key,_r.none())])}function Md(n,e){const t=uo(n.firestore,tu),s=xa(n),o=SN(n.converter,e);return wm(t,[yN(hm(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then((()=>s))}function wm(n,e){return(function(s,o){const a=new ui;return s.asyncQueue.enqueueAndForget((async()=>YA(await lN(s),o,a))),a.promise})(wx(n),e)}(function(e,t=!0){(function(o){ba=o})(fo),oo(new di("firestore",((s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),h=new tu(new gk(s.getProvider("auth-internal")),new _k(c,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(v.options.projectId,w)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),jr(Nv,Pv,e),jr(Nv,Pv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebasestorage.googleapis.com",Ax="storageBucket",CN=120*1e3,AN=600*1e3,NN=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends qr{constructor(e,t,s=0){super(Lf(e),`Firebase Storage: ${t} (${Lf(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Lf(n){return"storage/"+n}function xm(){const n="An unknown error occurred, please check the error payload for server response.";return new vt(lt.UNKNOWN,n)}function PN(n){return new vt(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function DN(n){return new vt(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ON(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(lt.UNAUTHENTICATED,n)}function jN(){return new vt(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LN(n){return new vt(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Nx(){return new vt(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Px(){return new vt(lt.CANCELED,"User canceled the upload/download.")}function VN(n){return new vt(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function MN(n){return new vt(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function UN(){return new vt(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ax+"' property when initializing the app?")}function Dx(){return new vt(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FN(){return new vt(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function BN(){return new vt(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zN(n){return new vt(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pp(n){return new vt(lt.INVALID_ARGUMENT,n)}function Ox(){return new vt(lt.APP_DELETED,"The Firebase app was deleted.")}function $N(n){return new vt(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(n,e){return new vt(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ml(n){throw new vt(lt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(s.path==="")return s;throw MN(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function v(ne){ne.path_=decodeURIComponent(ne.path)}const w="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",I=new RegExp(`^https?://${x}/${w}/b/${o}/o${b}`,"i"),F={bucket:1,path:3},M=t===Cx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",X=new RegExp(`^https?://${M}/${o}/${j}`,"i"),H=[{regex:h,indices:f,postModify:a},{regex:I,indices:F,postModify:v},{regex:X,indices:{bucket:1,path:2},postModify:v}];for(let ne=0;ne<H.length;ne++){const de=H[ne],K=de.regex.exec(e);if(K){const D=K[de.indices.bucket];let T=K[de.indices.path];T||(T=""),s=new Vn(D,T),de.postModify(s);break}}if(s==null)throw VN(e);return s}}class HN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n,e,t){let s=1,o=null,a=null,c=!1,h=0;function f(){return h===2}let v=!1;function w(...j){v||(v=!0,e.apply(null,j))}function x(j){o=setTimeout(()=>{o=null,n(I,f())},j)}function b(){a&&clearTimeout(a)}function I(j,...X){if(v){b();return}if(j){b(),w.call(null,j,...X);return}if(f()||c){b(),w.call(null,j,...X);return}s<64&&(s*=2);let H;h===1?(h=2,H=0):H=(s+Math.random())*1e3,x(H)}let F=!1;function M(j){F||(F=!0,b(),!v&&(o!==null?(j||(h=2),clearTimeout(o),x(0)):j||(h=1)))}return x(0),a=setTimeout(()=>{c=!0,M(!0)},t),M}function WN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){return n!==void 0}function KN(n){return typeof n=="function"}function QN(n){return typeof n=="object"&&!Array.isArray(n)}function Ud(n){return typeof n=="string"||n instanceof String}function A_(n){return Em()&&n instanceof Blob}function Em(){return typeof Blob<"u"}function N_(n,e,t,s){if(s<e)throw pp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw pp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function jx(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var so;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,s,o,a,c,h,f,v,w,x,b=!0,I=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=x,this.retry=b,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,M)=>{this.resolve_=F,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Cc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{const f=h.loaded,v=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,v)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===so.NO_ERROR,f=a.getStatus();if(!h||Lx(f,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===so.ABORT;s(!1,new Cc(!1,null,w));return}const v=this.successCodes_.indexOf(f)!==-1;s(!0,new Cc(v,a))})},t=(s,o)=>{const a=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());GN(f)?a(f):a()}catch(f){c(f)}else if(h!==null){const f=xm();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(o.canceled){const f=this.appDelete_?Ox():Px();c(f)}else{const f=Nx();c(f)}};this.canceled_?t(!1,new Cc(!1,null,!0)):this.backoffId_=qN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function XN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function JN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function e2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function t2(n,e,t,s,o,a,c=!0,h=!1){const f=jx(n.urlParams),v=n.url+f,w=Object.assign({},n.headers);return ZN(w,e),XN(w,t),JN(w,a),e2(w,s),new YN(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r2(...n){const e=n2();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Em())return new Blob(n);throw new vt(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function s2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){if(typeof atob>"u")throw zN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vf{constructor(e,t){this.data=e,this.contentType=t||null}}function o2(n,e){switch(n){case Or.RAW:return new Vf(Vx(e));case Or.BASE64:case Or.BASE64URL:return new Vf(Mx(n,e));case Or.DATA_URL:return new Vf(l2(e),u2(e))}throw xm()}function Vx(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=s,c=n.charCodeAt(++t);s=65536|(a&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function a2(n){let e;try{e=decodeURIComponent(n)}catch{throw Rl(Or.DATA_URL,"Malformed data URL.")}return Vx(e)}function Mx(n,e){switch(n){case Or.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Rl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Rl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=i2(e)}catch(o){throw o.message.includes("polyfill")?o:Rl(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Ux{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Rl(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=c2(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function l2(n){const e=new Ux(n);return e.base64?Mx(Or.BASE64,e.rest):a2(e.rest)}function u2(n){return new Ux(n).contentType}function c2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t){let s=0,o="";A_(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(A_(this.data_)){const s=this.data_,o=s2(s,e,t);return o===null?null:new ri(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ri(s,!0)}}static getBlob(...e){if(Em()){const t=e.map(s=>s instanceof ri?s.data_:s);return new ri(r2.apply(null,t))}else{const t=e.map(c=>Ud(c)?o2(Or.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let a=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)o[a++]=c[h]}),new ri(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){let e;try{e=JSON.parse(n)}catch{return null}return QN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function h2(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function Bx(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e){return e}class cn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||f2}}let Ac=null;function p2(n){return!Ud(n)||n.length<2?n:Bx(n)}function zx(){if(Ac)return Ac;const n=[];n.push(new cn("bucket")),n.push(new cn("generation")),n.push(new cn("metageneration")),n.push(new cn("name","fullPath",!0));function e(a,c){return p2(c)}const t=new cn("name");t.xform=e,n.push(t);function s(a,c){return c!==void 0?Number(c):c}const o=new cn("size");return o.xform=s,n.push(o),n.push(new cn("timeCreated")),n.push(new cn("updated")),n.push(new cn("md5Hash",null,!0)),n.push(new cn("cacheControl",null,!0)),n.push(new cn("contentDisposition",null,!0)),n.push(new cn("contentEncoding",null,!0)),n.push(new cn("contentLanguage",null,!0)),n.push(new cn("contentType",null,!0)),n.push(new cn("metadata","customMetadata",!0)),Ac=n,Ac}function m2(n,e){function t(){const s=n.bucket,o=n.fullPath,a=new Vn(s,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function g2(n,e,t){const s={};s.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];s[c.local]=c.xform(s,e[c.server])}return m2(s,n),s}function $x(n,e,t){const s=Fx(e);return s===null?null:g2(n,s,t)}function y2(n,e,t,s){const o=Fx(e);if(o===null||!Ud(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(v=>{const w=n.bucket,x=n.fullPath,b="/b/"+c(w)+"/o/"+c(x),I=Na(b,t,s),F=jx({alt:"media",token:v});return I+F})[0]}function Hx(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class vo{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n){if(!n)throw xm()}function Tm(n,e){function t(s,o){const a=$x(n,o,e);return ms(a!==null),a}return t}function v2(n,e){function t(s,o){const a=$x(n,o,e);return ms(a!==null),y2(a,o,n.host,n._protocol)}return t}function ru(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=jN():o=ON():t.getStatus()===402?o=DN(n.bucket):t.getStatus()===403?o=LN(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Im(n){const e=ru(n);function t(s,o){let a=e(s,o);return s.getStatus()===404&&(a=PN(n.path)),a.serverResponse=o.serverResponse,a}return t}function _2(n,e,t){const s=e.fullServerUrl(),o=Na(s,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,h=new vo(o,a,Tm(n,t),c);return h.errorHandler=Im(e),h}function w2(n,e,t){const s=e.fullServerUrl(),o=Na(s,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,h=new vo(o,a,v2(n,t),c);return h.errorHandler=Im(e),h}function x2(n,e){const t=e.fullServerUrl(),s=Na(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function c(f,v){}const h=new vo(s,o,c,a);return h.successCodes=[200,204],h.errorHandler=Im(e),h}function E2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function qx(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=E2(null,e)),s}function T2(n,e,t,s,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let H="";for(let ne=0;ne<2;ne++)H=H+Math.random().toString().slice(2);return H}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const v=qx(e,s,o),w=Hx(v,t),x="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+f+`\r
Content-Type: `+v.contentType+`\r
\r
`,b=`\r
--`+f+"--",I=ri.getBlob(x,s,b);if(I===null)throw Dx();const F={name:v.fullPath},M=Na(a,n.host,n._protocol),j="POST",X=n.maxUploadRetryTime,Q=new vo(M,j,Tm(n,t),X);return Q.urlParams=F,Q.headers=c,Q.body=I.uploadData(),Q.errorHandler=ru(e),Q}class ud{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Sm(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ms(!1)}return ms(!!t&&(e||["active"]).indexOf(t)!==-1),t}function I2(n,e,t,s,o){const a=e.bucketOnlyServerUrl(),c=qx(e,s,o),h={name:c.fullPath},f=Na(a,n.host,n._protocol),v="POST",w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},x=Hx(c,t),b=n.maxUploadRetryTime;function I(M){Sm(M);let j;try{j=M.getResponseHeader("X-Goog-Upload-URL")}catch{ms(!1)}return ms(Ud(j)),j}const F=new vo(f,v,I,b);return F.urlParams=h,F.headers=w,F.body=x,F.errorHandler=ru(e),F}function S2(n,e,t,s){const o={"X-Goog-Upload-Command":"query"};function a(v){const w=Sm(v,["active","final"]);let x=null;try{x=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ms(!1)}x||ms(!1);const b=Number(x);return ms(!isNaN(b)),new ud(b,s.size(),w==="final")}const c="POST",h=n.maxUploadRetryTime,f=new vo(t,c,a,h);return f.headers=o,f.errorHandler=ru(e),f}const P_=256*1024;function b2(n,e,t,s,o,a,c,h){const f=new ud(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=s.size()),s.size()!==f.total)throw FN();const v=f.total-f.current;let w=v;o>0&&(w=Math.min(w,o));const x=f.current,b=x+w;let I="";w===0?I="finalize":v===w?I="upload, finalize":I="upload";const F={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${f.current}`},M=s.slice(x,b);if(M===null)throw Dx();function j(ne,de){const K=Sm(ne,["active","final"]),D=f.current+w,T=s.size();let R;return K==="final"?R=Tm(e,a)(ne,de):R=null,new ud(D,T,K==="final",R)}const X="POST",Q=e.maxUploadRetryTime,H=new vo(t,X,j,Q);return H.headers=F,H.body=M.uploadData(),H.progressCallback=h||null,H.errorHandler=ru(n),H}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mf(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,s){if(KN(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class k2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,a){if(this.sent_)throw ml("cannot .send() more than once");if(Ei(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class C2 extends k2{initXhr(){this.xhr_.responseType="text"}}function no(){return new C2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=zx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Lx(o.status,[]))if(a)o=Nx();else{this.sleepTime=Math.max(this.sleepTime*2,NN),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=I2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,no,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=S2(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,no,t,s);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=P_*this._chunkMultiplier,t=new ud(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,a)=>{let c;try{c=b2(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(c,no,o,a,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){P_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=_2(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,no,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=T2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,no,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Px(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Mf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const a=new R2(t||void 0,s||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Mf(this._state)){case Sn.SUCCESS:na(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:const t=this._reject;na(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mf(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&na(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&na(e.complete.bind(e))();break;case Sn.CANCELED:case Sn.ERROR:e.error&&na(e.error.bind(e,this._error))();break;default:e.error&&na(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ho(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bx(this._location.path)}get storage(){return this._service}get parent(){const e=d2(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new ho(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $N(e)}}function N2(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new A2(n,new ri(e),t)}function P2(n){n._throwIfRoot("getDownloadURL");const e=w2(n.storage,n._location,zx());return n.storage.makeRequestWithTokens(e,no).then(t=>{if(t===null)throw BN();return t})}function D2(n){n._throwIfRoot("deleteObject");const e=x2(n.storage,n._location);return n.storage.makeRequestWithTokens(e,no)}function O2(n,e){const t=h2(n._location.path,e),s=new Vn(n._location.bucket,t);return new ho(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(n){return/^[A-Za-z]+:\/\//.test(n)}function L2(n,e){return new ho(n,e)}function Wx(n,e){if(n instanceof bm){const t=n;if(t._bucket==null)throw UN();const s=new ho(t,t._bucket);return e!=null?Wx(s,e):s}else return e!==void 0?O2(n,e):n}function V2(n,e){if(e&&j2(e)){if(n instanceof bm)return L2(n,e);throw pp("To use ref(service, url), the first argument must be a Storage instance.")}else return Wx(n,e)}function D_(n,e){const t=e==null?void 0:e[Ax];return t==null?null:Vn.makeFromBucketSpec(t,n)}function M2(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ei(e);o&&(Sp(`https://${n.host}/b`),bp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken=typeof a=="string"?a:m0(a,n.app.options.projectId))}class bm{constructor(e,t,s,o,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=Cx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CN,this._maxUploadRetryTime=AN,this._requests=new Set,o!=null?this._bucket=Vn.makeFromBucketSpec(o,this._host):this._bucket=D_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=D_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,t,s,o,a=!0){if(this._deleted)return new HN(Ox());{const c=t2(e,this._appId,s,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const O_="@firebase/storage",j_="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="storage";function Fd(n,e,t){return n=gt(n),N2(n,e,t)}function Bd(n){return n=gt(n),P2(n)}function zd(n){return n=gt(n),D2(n)}function _i(n,e){return n=gt(n),V2(n,e)}function U2(n=Cp(),e){n=gt(n);const s=yd(n,Gx).getImmediate({identifier:e}),o=h0("storage");return o&&F2(s,...o),s}function F2(n,e,t,s={}){M2(n,e,t,s)}function B2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new bm(t,s,o,e,fo)}function z2(){oo(new di(Gx,B2,"PUBLIC").setMultipleInstances(!0)),jr(O_,j_,""),jr(O_,j_,"esm2017")}z2();const $2={apiKey:"AIzaSyBSHnoSvUbngvO8VOWFbMr-7xxSftZwf58",authDomain:"genius-classes-vaavol.firebaseapp.com",projectId:"genius-classes-vaavol",storageBucket:"genius-classes-vaavol.firebasestorage.app",messagingSenderId:"646240113944",appId:"1:646240113944:web:6ec159d3c4735cbca8ba6d"},Rm=v0($2),km=ck(Rm),qt=hN(Rm),wi=U2(Rm),Kx=N.createContext({user:null,loading:!0});function H2({children:n}){const[e,t]=N.useState(null),[s,o]=N.useState(!0);return N.useEffect(()=>Jb(km,c=>{t(c),o(!1)}),[]),m.jsx(Kx.Provider,{value:{user:e,loading:s},children:n})}function Qx(){return N.useContext(Kx)}/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=n=>{const e=W2(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...h},f)=>N.createElement("svg",{ref:f,...G2,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Yx("lucide",o),...!a&&!K2(h)&&{"aria-hidden":"true"},...h},[...c.map(([v,w])=>N.createElement(v,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const t=N.forwardRef(({className:s,...o},a)=>N.createElement(Q2,{ref:a,iconNode:e,className:Yx(`lucide-${q2(L_(n))}`,`lucide-${n}`,s),...o}));return t.displayName=L_(n),t};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cd=Je("arrow-right",Y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],V_=Je("award",X2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mp=Je("book-open",J2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],eP=Je("briefcase",Z2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gp=Je("clock",tP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rP=Je("download",nP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iP=Je("external-link",sP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aP=Je("eye",oP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dd=Je("file-text",lP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],cP=Je("file",uP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],xi=Je("graduation-cap",dP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cm=Je("image",hP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pP=Je("layout-dashboard",fP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rn=Je("loader-circle",mP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],M_=Je("lock",gP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vP=Je("log-out",yP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xx=Je("map-pin",_P);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xP=Je("menu",wP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],TP=Je("pencil",EP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jx=Je("phone",IP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bP=Je("play",SP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ul=Je("plus",RP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zx=Je("star",kP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],AP=Je("target",CP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$d=Je("trash-2",NP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fl=Je("trophy",PP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hd=Je("upload",DP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U_=Je("users",OP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Bl=Je("video",jP);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],su=Je("x",LP),F_=[{to:"/",label:"Home"},{to:"/lectures",label:"Lectures"},{to:"/notes",label:"Notes"},{to:"/teachers",label:"Teachers"},{to:"/results",label:"Results"},{to:"/contact",label:"Contact"}];function VP(){const[n,e]=N.useState(!1),t=Hr();return m.jsxs("nav",{className:"sticky top-0 z-50 bg-[var(--background)]/95 backdrop-blur-md border-b border-border",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsxs(la,{to:"/",className:"flex items-center gap-2 group",onClick:()=>e(!1),children:[m.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary flex items-center justify-center",children:m.jsx(xi,{className:"w-5 h-5 text-primary-foreground"})}),m.jsx("span",{className:"text-lg font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Genius Classes"})]}),m.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[F_.map(s=>m.jsx(la,{to:s.to,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.pathname===s.to?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:s.label},s.to)),m.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScyuQ7WdPgahcyX5yKFwGvg9CFgJckSq6_gFOtUY25YUXIExA/viewform?usp=header",target:"_blank",rel:"noopener noreferrer",className:"ml-2 px-4 py-2 rounded-lg text-sm font-semibold bg-accent text-accent-foreground hover:opacity-90 transition-opacity",children:"Apply Now"})]}),m.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-secondary transition-colors",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?m.jsx(su,{className:"w-5 h-5"}):m.jsx(xP,{className:"w-5 h-5"})})]})}),n&&m.jsx("div",{className:"md:hidden border-t border-border bg-[var(--background)] animate-fade-in",children:m.jsxs("div",{className:"px-4 py-3 space-y-1",children:[F_.map(s=>m.jsx(la,{to:s.to,onClick:()=>e(!1),className:`block px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${t.pathname===s.to?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:s.label},s.to)),m.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScyuQ7WdPgahcyX5yKFwGvg9CFgJckSq6_gFOtUY25YUXIExA/viewform?usp=header",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2.5 rounded-lg text-sm font-semibold bg-accent text-accent-foreground text-center",onClick:()=>e(!1),children:"Apply Now"})]})})]})}function MP(){const n=pd(),e=N.useRef(null),t=N.useRef(0),s=N.useCallback(()=>{e.current=setTimeout(()=>{n("/admin")},2e3)},[n]),o=N.useCallback(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),a=N.useCallback(h=>{t.current=h.clientY},[]),c=N.useCallback(h=>{t.current-h.clientY>80&&n("/admin")},[n]);return m.jsx("footer",{className:"bg-foreground text-primary-foreground",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary flex items-center justify-center",children:m.jsx(xi,{className:"w-5 h-5 text-primary-foreground"})}),m.jsx("span",{className:"text-lg font-bold",style:{fontFamily:"var(--font-heading)"},children:"Genius Classes"})]}),m.jsx("p",{className:"text-sm text-primary-foreground/70 leading-relaxed",children:"Premier coaching institute providing quality education for Std 1-12 students in both English and Gujarati medium."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider mb-4 text-primary-foreground/80",children:"Quick Links"}),m.jsx("ul",{className:"space-y-2",children:["Lectures","Notes","Teachers","Results","Contact"].map(h=>m.jsx("li",{children:m.jsx("a",{href:`/${h.toLowerCase()}`,className:"text-sm text-primary-foreground/60 hover:text-primary-foreground transition-colors",children:h})},h))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider mb-4 text-primary-foreground/80",children:"Contact"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("a",{href:"tel:+919712843679",className:"flex items-center gap-2 text-sm text-primary-foreground/60 hover:text-primary-foreground transition-colors",children:[m.jsx(Jx,{className:"w-4 h-4"}),"+91 97128 43679"]}),m.jsxs("a",{href:"https://maps.app.goo.gl/89XHFo4mjbYdUJdq7",target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 text-sm text-primary-foreground/60 hover:text-primary-foreground transition-colors",children:[m.jsx(Xx,{className:"w-4 h-4 mt-0.5 shrink-0"}),"Genius Classes, Vavol (near Jannat Residency)"]})]})]})]}),m.jsxs("div",{className:"border-t border-primary-foreground/10 mt-10 pt-8 flex flex-col sm:flex-row justify-between items-center gap-3",children:[m.jsx("p",{className:"text-sm text-primary-foreground/50 select-none cursor-default",onTouchStart:s,onTouchEnd:o,onTouchCancel:o,onMouseDown:a,onMouseUp:c,children:" Genius Classes"}),m.jsx("p",{className:"text-xs text-primary-foreground/40",children:"Developed by Smit Patel"})]})]})})}function UP(){const{pathname:n}=Hr();return N.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function yp(n){const[e,t]=N.useState(!1);return N.useEffect(()=>{if(!n.current)return;const s=new IntersectionObserver(([o])=>{o.isIntersecting&&t(!0)},{threshold:.15});return s.observe(n.current),()=>s.disconnect()},[n]),e}function FP({end:n,suffix:e=""}){const[t,s]=N.useState(0),o=N.useRef(null),a=yp(o);return N.useEffect(()=>{if(!a)return;let c=0;const h=1500,f=v=>{c||(c=v);const w=Math.min((v-c)/h,1);s(Math.floor(w*n)),w<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[a,n]),m.jsxs("span",{ref:o,children:[t,e]})}function BP(){const n=N.useRef(null),e=N.useRef(null),t=yp(n),s=yp(e);return m.jsxs("div",{children:[m.jsxs("section",{className:"relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:[m.jsxs("div",{className:"absolute inset-0 opacity-10",children:[m.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 rounded-full border border-white/20"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 rounded-full border border-white/20"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full border border-white/10"})]}),m.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-36",children:m.jsxs("div",{className:"max-w-3xl",children:[m.jsx("div",{className:"animate-fade-in-up",children:m.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-semibold tracking-wide uppercase bg-white/10 text-white/90 mb-6",children:[m.jsx(Zx,{className:"w-3.5 h-3.5"}),"Premier Coaching Institute"]})}),m.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight animate-fade-in-up animation-delay-100 text-balance",style:{fontFamily:"var(--font-heading)"},children:["Unlock Your ",m.jsx("br",{}),m.jsx("span",{className:"text-[var(--accent)]",children:"Academic Potential"})]}),m.jsx("p",{className:"mt-6 text-lg md:text-xl text-white/70 leading-relaxed max-w-2xl animate-fade-in-up animation-delay-200",children:"Genius Classes provides quality coaching for Std 1-12 in both English and Gujarati medium. Join 100+ students already on the path to excellence."}),m.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 animate-fade-in-up animation-delay-300",children:[m.jsxs("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScyuQ7WdPgahcyX5yKFwGvg9CFgJckSq6_gFOtUY25YUXIExA/viewform?usp=header",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-accent text-accent-foreground font-semibold hover:opacity-90 transition-opacity",children:["Apply Now",m.jsx(cd,{className:"w-4 h-4"})]}),m.jsx(la,{to:"/contact",className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg border border-white/20 text-white font-medium hover:bg-white/10 transition-colors",children:"Contact Us"})]})]})})]}),m.jsx("section",{ref:e,className:"bg-background",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-12 relative z-10",children:m.jsx("div",{className:`grid grid-cols-2 md:grid-cols-4 gap-4 transition-all duration-700 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[{icon:U_,value:100,suffix:"+",label:"Students"},{icon:gp,value:3,suffix:"+",label:"Years Experience"},{icon:mp,value:12,suffix:"",label:"Classes Covered"},{icon:V_,value:95,suffix:"%",label:"Satisfaction"}].map((o,a)=>m.jsxs("div",{className:"bg-card border border-border rounded-xl p-5 text-center shadow-sm hover:shadow-md transition-shadow",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center mx-auto mb-3",children:m.jsx(o.icon,{className:"w-5 h-5 text-primary"})}),m.jsx("p",{className:"text-2xl md:text-3xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:s?m.jsx(FP,{end:o.value,suffix:o.suffix}):"0"}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.label})]},a))})})}),m.jsx("section",{ref:n,className:"py-20 bg-background",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-14",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-primary",children:"Why choose us"}),m.jsx("h2",{className:"mt-3 text-3xl md:text-4xl font-bold text-foreground text-balance",style:{fontFamily:"var(--font-heading)"},children:"Everything You Need to Succeed"}),m.jsx("p",{className:"mt-4 text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"We provide comprehensive coaching with modern teaching methods, personal attention, and a focus on building strong fundamentals."})]}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:xi,title:"Expert Teachers",desc:"Experienced faculty with deep subject knowledge and modern teaching methods."},{icon:mp,title:"Study Materials",desc:"Access comprehensive notes, lectures, and practice materials anytime."},{icon:AP,title:"Focused Learning",desc:"Structured curriculum designed for Std 1-12 in English & Gujarati medium."},{icon:U_,title:"Small Batches",desc:"Personal attention with limited batch sizes ensuring every student grows."},{icon:V_,title:"Proven Results",desc:"Track record of excellent results and student satisfaction."},{icon:gp,title:"Flexible Timings",desc:"Morning and evening batches to suit every student's schedule."}].map((o,a)=>m.jsxs("div",{className:`group bg-card border border-border rounded-xl p-6 hover:shadow-lg hover:border-primary/20 transition-all duration-300 ${t?"animate-fade-in-up":"opacity-0"}`,style:{animationDelay:`${a*100}ms`},children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:m.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),m.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:o.title}),m.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.desc})]},a))})]})}),m.jsx("section",{className:"py-20",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Ready to Start Your Journey?"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto leading-relaxed",children:"Join Genius Classes today and take the first step towards academic excellence. Admissions are now open for all classes."}),m.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsxs("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScyuQ7WdPgahcyX5yKFwGvg9CFgJckSq6_gFOtUY25YUXIExA/viewform?usp=header",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg bg-accent text-accent-foreground font-semibold hover:opacity-90 transition-opacity",children:["Apply Now",m.jsx(cd,{className:"w-4 h-4"})]}),m.jsx("a",{href:"tel:+919712843679",className:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg border border-white/20 text-white font-medium hover:bg-white/10 transition-colors",children:"Call Us"})]})]})})]})}function zP(n){if(!n)return null;const e=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const t of e){const s=n.match(t);if(s)return s[1]}return null}function $P({lecture:n}){const[e,t]=N.useState(!1),s=n.thumbnailURL,o=zP(n.videoURL),a=o?`https://img.youtube.com/vi/${o}/mqdefault.jpg`:null,c=s||a;return!c||e?m.jsx("div",{className:"aspect-video bg-secondary flex items-center justify-center",children:m.jsx(Bl,{className:"w-12 h-12 text-muted-foreground/30"})}):m.jsxs("div",{className:"aspect-video bg-secondary relative group overflow-hidden",children:[m.jsx("img",{src:c,alt:n.title,className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:()=>t(!0)}),m.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsx("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center",children:m.jsx(bP,{className:"w-5 h-5 text-foreground ml-0.5"})})})]})}function HP(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState(""),[c,h]=N.useState("");N.useEffect(()=>{async function x(){try{const b=bi(Zn(qt,"lectures"),Ri("createdAt","desc")),I=await ki(b);e(I.docs.map(F=>({id:F.id,...F.data()})))}catch(b){console.error("Error loading lectures:",b)}finally{s(!1)}}x()},[]);const f=n.filter(x=>!(o&&x.subject!==o||c&&x.className!==c)),v=[...new Set(n.map(x=>x.subject).filter(Boolean))],w=[...new Set(n.map(x=>x.className).filter(Boolean))];return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Video Lectures"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto",children:"Watch recorded lectures and learn at your own pace, anytime, anywhere."})]})}),m.jsx("section",{className:"py-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.length>0&&m.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[m.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border bg-card text-sm focus:outline-none focus:ring-2 focus:ring-ring",value:o,onChange:x=>a(x.target.value),children:[m.jsx("option",{value:"",children:"All Subjects"}),v.map(x=>m.jsx("option",{value:x,children:x},x))]}),m.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border bg-card text-sm focus:outline-none focus:ring-2 focus:ring-ring",value:c,onChange:x=>h(x.target.value),children:[m.jsx("option",{value:"",children:"All Classes"}),w.map(x=>m.jsx("option",{value:x,children:x},x))]})]}),t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-8 h-8 animate-spin text-primary"})}):f.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx(Bl,{className:"w-16 h-16 text-muted-foreground/40 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.length===0?"Lectures Coming Soon":"No Matching Lectures"}),m.jsx("p",{className:"text-muted-foreground",children:n.length===0?"Video lectures will be uploaded shortly.":"Try changing the filters."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(x=>m.jsxs("a",{href:x.videoURL,target:"_blank",rel:"noopener noreferrer",className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-shadow group block",children:[m.jsx($P,{lecture:x}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.subject&&m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-primary/10 text-primary font-medium",children:x.subject}),x.className&&m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-secondary text-secondary-foreground",children:x.className})]}),m.jsx("h3",{className:"text-base font-semibold text-foreground mb-1 group-hover:text-primary transition-colors",children:x.title}),x.description&&m.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2",children:x.description}),m.jsxs("span",{className:"inline-flex items-center gap-1.5 mt-3 text-sm text-primary font-medium",children:["Watch Lecture"," ",m.jsx(iP,{className:"w-3.5 h-3.5"})]})]})]},x.id))})]})})]})}function qP(n){const e=n.toLowerCase();return e.includes("pdf")?"PDF":e.includes("ppt")||e.includes("presentation")?"PPT":e.includes("doc")||e.includes("word")?"DOC":e.includes("image")||e.includes("png")||e.includes("jpg")?"IMG":"FILE"}function WP(n){const e=n.toLowerCase();return e.includes("pdf")?"bg-red-100 text-red-700":e.includes("ppt")||e.includes("presentation")?"bg-orange-100 text-orange-700":e.includes("doc")||e.includes("word")?"bg-blue-100 text-blue-700":e.includes("image")||e.includes("png")||e.includes("jpg")?"bg-green-100 text-green-700":"bg-secondary text-secondary-foreground"}function GP(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState("");N.useEffect(()=>{async function f(){try{const v=bi(Zn(qt,"materials"),Ri("createdAt","desc")),w=await ki(v);e(w.docs.map(x=>({id:x.id,...x.data()})))}catch(v){console.error("Error loading notes:",v)}finally{s(!1)}}f()},[]);const c=n.filter(f=>!o||f.subject===o),h=[...new Set(n.map(f=>f.subject))];return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Study Materials"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto",children:"Download notes, presentations, and study materials for all subjects."})]})}),m.jsx("section",{className:"py-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.length>0&&m.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:m.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border bg-card text-sm focus:outline-none focus:ring-2 focus:ring-ring",value:o,onChange:f=>a(f.target.value),children:[m.jsx("option",{value:"",children:"All Subjects"}),h.map(f=>m.jsx("option",{value:f,children:f},f))]})}),t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-8 h-8 animate-spin text-primary"})}):c.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx(dd,{className:"w-16 h-16 text-muted-foreground/40 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.length===0?"Notes Coming Soon":"No Matching Notes"}),m.jsx("p",{className:"text-muted-foreground",children:n.length===0?"Study materials will be uploaded shortly.":"Try changing the filters."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map(f=>m.jsxs("div",{className:"bg-card border border-border rounded-xl p-5 hover:shadow-lg transition-shadow",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:`shrink-0 w-12 h-12 rounded-lg flex items-center justify-center text-xs font-bold ${WP(f.fileType)}`,children:qP(f.fileType)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"text-base font-semibold text-foreground truncate",children:f.title}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-primary/10 text-primary font-medium",children:f.subject}),f.className&&m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-secondary text-secondary-foreground",children:f.className})]}),f.description&&m.jsx("p",{className:"mt-2 text-sm text-muted-foreground leading-relaxed line-clamp-2",children:f.description})]})]}),m.jsxs("div",{className:"mt-4 flex gap-2",children:[m.jsxs("a",{href:f.fileURL,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity",children:[m.jsx(aP,{className:"w-3.5 h-3.5"})," View"]}),m.jsxs("a",{href:f.fileURL,download:!0,className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border border-border text-sm font-medium hover:bg-secondary transition-colors",children:[m.jsx(rP,{className:"w-3.5 h-3.5"})," Download"]})]})]},f.id))})]})})]})}function KP(){const[n,e]=N.useState([]),[t,s]=N.useState(!0);return N.useEffect(()=>{async function o(){try{const a=bi(Zn(qt,"teachers"),Ri("createdAt","desc")),c=await ki(a);e(c.docs.map(h=>({id:h.id,...h.data()})))}catch(a){console.error("Error loading teachers:",a)}finally{s(!1)}}o()},[]),m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Our Teachers"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto",children:"Meet the dedicated educators who make learning an enriching experience at Genius Classes."})]})}),m.jsx("section",{className:"py-16",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-8 h-8 animate-spin text-primary"})}):n.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx(xi,{className:"w-16 h-16 text-muted-foreground/40 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Teachers Coming Soon"}),m.jsx("p",{className:"text-muted-foreground",children:"Our faculty information will be updated shortly."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>m.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[o.photoURL?m.jsx("div",{className:"aspect-[4/3] bg-secondary",children:m.jsx("img",{src:o.photoURL,alt:o.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"})}):m.jsx("div",{className:"aspect-[4/3] bg-secondary flex items-center justify-center",children:m.jsx(xi,{className:"w-16 h-16 text-muted-foreground/30"})}),m.jsxs("div",{className:"p-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:o.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[m.jsx(eP,{className:"w-3.5 h-3.5"}),o.qualification,"  ",o.experience]}),o.description&&m.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed line-clamp-3",children:o.description}),m.jsxs("div",{className:"mt-4 flex flex-wrap gap-1.5",children:[m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium",children:[m.jsx(mp,{className:"w-3 h-3"}),o.medium]}),o.subjects.map(a=>m.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-secondary text-secondary-foreground",children:a},a))]}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:o.classes.map(a=>m.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-accent/10 text-accent-foreground font-medium",children:a},a))})]})]},o.id))})})})]})}function QP(){const[n,e]=N.useState([]),[t,s]=N.useState(!0);return N.useEffect(()=>{async function o(){try{const a=bi(Zn(qt,"results"),Ri("createdAt","desc")),c=await ki(a);e(c.docs.map(h=>({id:h.id,...h.data()})))}catch(a){console.error("Error loading results:",a)}finally{s(!1)}}o()},[]),m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Our Results"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto",children:"Celebrating the achievements of our students. Their success is our pride."})]})}),m.jsx("section",{className:"py-16",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-8 h-8 animate-spin text-primary"})}):n.length===0?m.jsxs("div",{className:"text-center py-20",children:[m.jsx(Fl,{className:"w-16 h-16 text-muted-foreground/40 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Results Coming Soon"}),m.jsx("p",{className:"text-muted-foreground",children:"Student results will be published here shortly."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>m.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[o.photoURL?m.jsx("div",{className:"aspect-square bg-secondary",children:m.jsx("img",{src:o.photoURL,alt:o.studentName,className:"w-full h-full object-cover",crossOrigin:"anonymous"})}):m.jsx("div",{className:"aspect-square bg-secondary flex items-center justify-center",children:m.jsx(Fl,{className:"w-16 h-16 text-muted-foreground/30"})}),m.jsxs("div",{className:"p-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:o.studentName}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-primary/10 text-primary font-medium",children:o.className}),m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-md bg-accent/20 text-accent-foreground font-bold",children:o.percentage})]}),o.achievement&&m.jsxs("div",{className:"mt-3 flex items-start gap-1.5",children:[m.jsx(Zx,{className:"w-3.5 h-3.5 text-accent mt-0.5 shrink-0"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:o.achievement})]}),o.year&&m.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Year: ",o.year]})]})]},o.id))})})})]})}function YP(){return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("section",{className:"py-16",style:{background:"linear-gradient(135deg, var(--hero-gradient-start), var(--hero-gradient-end))"},children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white text-balance",style:{fontFamily:"var(--font-heading)"},children:"Contact Us"}),m.jsx("p",{className:"mt-4 text-lg text-white/70 max-w-2xl mx-auto",children:"Get in touch with us for admissions, enquiries, or any questions."})]})}),m.jsx("section",{className:"py-16",children:m.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-shadow",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:m.jsx(Jx,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Call Us"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Available during working hours"}),m.jsx("a",{href:"tel:+919712843679",className:"inline-flex items-center gap-1.5 mt-3 text-primary font-semibold text-lg hover:underline",children:"+91 97128 43679"})]})]})}),m.jsx("div",{className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-shadow",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:m.jsx(Xx,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Visit Us"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Genius Classes, Vavol (near Jannat Residency)"}),m.jsxs("a",{href:"https://maps.app.goo.gl/89XHFo4mjbYdUJdq7",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 mt-3 text-sm text-primary font-medium hover:underline",children:["Open in Google Maps ",m.jsx(cd,{className:"w-3.5 h-3.5"})]})]})]})}),m.jsx("div",{className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-shadow",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:m.jsx(gp,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Working Hours"}),m.jsxs("div",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:[m.jsx("p",{children:"Monday - Saturday: 8:00 AM - 8:00 PM"}),m.jsx("p",{children:"Sunday: Closed"})]})]})]})}),m.jsxs("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLScyuQ7WdPgahcyX5yKFwGvg9CFgJckSq6_gFOtUY25YUXIExA/viewform?usp=header",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full px-6 py-3 rounded-lg bg-accent text-accent-foreground font-semibold hover:opacity-90 transition-opacity",children:["Apply Now ",m.jsx(cd,{className:"w-4 h-4"})]})]}),m.jsx("div",{className:"rounded-xl overflow-hidden border border-border shadow-sm",children:m.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3670.036!2d72.597!3d23.108!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjPCsDA2JzI5LjAiTiA3MsKwMzUnNDkuMiJF!5e0!3m2!1sen!2sin!4v1700000000000!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0,minHeight:"400px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Genius Classes Location"})})]})})})]})}function XP(){const n=pd(),{user:e}=Qx(),[t,s]=N.useState(1),[o,a]=N.useState(""),[c,h]=N.useState(""),[f,v]=N.useState(""),[w,x]=N.useState(!1),b=N.useRef(null),I=N.useRef(0);if(e)return n("/admin-panel",{replace:!0}),null;const F=N.useCallback(()=>{t<3&&s(ne=>ne+1)},[t]),M=N.useCallback(()=>{b.current=setTimeout(()=>{F()},2e3)},[F]),j=N.useCallback(()=>{b.current&&(clearTimeout(b.current),b.current=null)},[]),X=N.useCallback(ne=>{I.current=ne.clientY},[]),Q=N.useCallback(ne=>{I.current-ne.clientY>80&&F()},[F]),H=async ne=>{var de;ne.preventDefault(),v(""),x(!0);try{await Qb(km,o,c),n("/admin-panel",{replace:!0})}catch(K){v((de=K.message)!=null&&de.includes("invalid")?"Invalid email or password":"Login failed. Please try again.")}finally{x(!1)}};return t<3?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:m.jsxs("div",{className:"text-center select-none cursor-default",onTouchStart:M,onTouchEnd:j,onTouchCancel:j,onMouseDown:X,onMouseUp:Q,children:[m.jsx("div",{className:"w-16 h-16 rounded-2xl bg-secondary flex items-center justify-center mx-auto mb-6",children:m.jsx(M_,{className:"w-7 h-7 text-muted-foreground"})}),m.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Thank you for visiting Genius Classes"}),m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"We appreciate your interest in our institute."})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:m.jsx("div",{className:"w-full max-w-sm",children:m.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary flex items-center justify-center mx-auto mb-4",children:m.jsx(M_,{className:"w-6 h-6 text-primary-foreground"})}),m.jsx("h1",{className:"text-xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Admin Login"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Authorized personnel only"})]}),m.jsxs("form",{onSubmit:H,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"admin-email",className:"block text-sm font-medium text-foreground mb-1.5",children:"Email"}),m.jsx("input",{id:"admin-email",type:"email",value:o,onChange:ne=>a(ne.target.value),required:!0,className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"admin@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"admin-password",className:"block text-sm font-medium text-foreground mb-1.5",children:"Password"}),m.jsx("input",{id:"admin-password",type:"password",value:c,onChange:ne=>h(ne.target.value),required:!0,className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Enter password"})]}),f&&m.jsx("div",{className:"text-sm text-destructive bg-destructive/10 rounded-lg px-3 py-2",children:f}),m.jsxs("button",{type:"submit",disabled:w,className:"w-full py-2.5 rounded-lg bg-primary text-primary-foreground font-semibold text-sm hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:[w?m.jsx(Rn,{className:"w-4 h-4 animate-spin"}):null,w?"Signing in...":"Sign In"]})]})]})})})}const JP=Array.from({length:12},(n,e)=>`Std ${e+1}`),ZP=["English","Maths","Science","SS","Gujarati"],B_={name:"",qualification:"",experience:"",description:"",medium:"English Medium",classes:[],subjects:[]};function eD(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState(!1),[c,h]=N.useState(null),[f,v]=N.useState(B_),[w,x]=N.useState(null),[b,I]=N.useState(null),[F,M]=N.useState(!1),[j,X]=N.useState(0),[Q,H]=N.useState(!1),ne=N.useRef(null),[de,K]=N.useState(!1),D=N.useCallback(async()=>{try{const Z=bi(Zn(qt,"teachers"),Ri("createdAt","desc")),Ce=await ki(Z);e(Ce.docs.map(me=>({id:me.id,...me.data()})))}catch(Z){console.error(Z),He.error("Failed to load teachers")}finally{s(!1)}},[]);N.useEffect(()=>{D()},[D]);const T=Z=>{if(!Z.type.match(/image\/(jpeg|png|jpg)/)){He.error("Only JPG/PNG images allowed");return}if(Z.size>5*1024*1024){He.error("Image must be under 5MB");return}x(Z),I(URL.createObjectURL(Z))},R=async Z=>{const Ce=`teachers/${Date.now()}_${Z.name}`,me=_i(wi,Ce),oe=Fd(me,Z);return new Promise((se,ae)=>{oe.on("state_changed",U=>{X(Math.round(U.bytesTransferred/U.totalBytes*100))},U=>ae(U),async()=>{const U=await Bd(oe.snapshot.ref);se(U)})})},P=async()=>{if(!f.name.trim()){He.error("Teacher name is required");return}H(!0);try{let Z="";if(w&&(M(!0),Z=await R(w),M(!1)),c){const Ce=xa(qt,"teachers",c),me={...f};Z&&(me.photoURL=Z),await kN(Ce,me),He.success("Teacher updated successfully")}else await Md(Zn(qt,"teachers"),{...f,photoURL:Z,createdAt:et.now()}),He.success("Teacher added successfully");C(),D()}catch(Z){console.error(Z),He.error("Failed to save teacher")}finally{H(!1),M(!1)}},k=Z=>{h(Z.id),v({name:Z.name,qualification:Z.qualification,experience:Z.experience,description:Z.description,medium:Z.medium,classes:Z.classes||[],subjects:Z.subjects||[]}),I(Z.photoURL||null),x(null),a(!0)},L=async Z=>{if(confirm(`Delete teacher "${Z.name}"?`))try{if(await Vd(xa(qt,"teachers",Z.id)),Z.photoURL)try{const Ce=_i(wi,Z.photoURL);await zd(Ce)}catch{}He.success("Teacher deleted"),D()}catch{He.error("Failed to delete teacher")}},C=()=>{a(!1),h(null),v(B_),x(null),I(null),X(0)},Oe=(Z,Ce)=>{v(me=>({...me,[Z]:me[Z].includes(Ce)?me[Z].filter(oe=>oe!==Ce):[...me[Z],Ce]}))};return t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-6 h-6 animate-spin text-primary"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Teachers Management"}),!o&&m.jsxs("button",{onClick:()=>{C(),a(!0)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity",children:[m.jsx(Ul,{className:"w-4 h-4"})," Add Teacher"]})]}),o&&m.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6 animate-fade-in",children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:c?"Edit Teacher":"Add New Teacher"}),m.jsx("button",{onClick:C,className:"p-1.5 rounded-lg hover:bg-secondary transition-colors",children:m.jsx(su,{className:"w-5 h-5 text-muted-foreground"})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Name *"}),m.jsx("input",{type:"text",value:f.name,onChange:Z=>v({...f,name:Z.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Teacher name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Qualification"}),m.jsx("input",{type:"text",value:f.qualification,onChange:Z=>v({...f,qualification:Z.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g. M.Sc., B.Ed."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Experience"}),m.jsx("input",{type:"text",value:f.experience,onChange:Z=>v({...f,experience:Z.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g. 5+ Years"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Medium"}),m.jsxs("select",{value:f.medium,onChange:Z=>v({...f,medium:Z.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"English Medium",children:"English Medium"}),m.jsx("option",{value:"Gujarati Medium",children:"Gujarati Medium"})]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Description"}),m.jsx("textarea",{value:f.description,onChange:Z=>v({...f,description:Z.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-none",rows:3,placeholder:"Brief description about the teacher"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Classes"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:JP.map(Z=>m.jsx("button",{type:"button",onClick:()=>Oe("classes",Z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${f.classes.includes(Z)?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:Z},Z))})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subjects"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:ZP.map(Z=>m.jsx("button",{type:"button",onClick:()=>Oe("subjects",Z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${f.subjects.includes(Z)?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:Z},Z))})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Photo (JPG/PNG)"}),m.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-colors cursor-pointer ${de?"border-primary bg-primary/5":"border-input hover:border-primary/40"}`,onClick:()=>{var Z;return(Z=ne.current)==null?void 0:Z.click()},onDragOver:Z=>{Z.preventDefault(),K(!0)},onDragLeave:()=>K(!1),onDrop:Z=>{var me;Z.preventDefault(),K(!1);const Ce=(me=Z.dataTransfer.files)==null?void 0:me[0];Ce&&T(Ce)},children:b?m.jsxs("div",{className:"space-y-3",children:[m.jsx("img",{src:b,alt:"Preview",className:"w-24 h-24 rounded-lg object-cover mx-auto",crossOrigin:"anonymous"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Click or drop to change"})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx(Cm,{className:"w-10 h-10 text-muted-foreground/40 mx-auto"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop or click to upload"}),m.jsx("p",{className:"text-xs text-muted-foreground/60",children:"JPG, PNG only. Max 5MB."})]})}),m.jsx("input",{ref:ne,type:"file",accept:"image/jpeg,image/png,image/jpg",className:"hidden",onChange:Z=>{var me;const Ce=(me=Z.target.files)==null?void 0:me[0];Ce&&T(Ce)}}),F&&m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[m.jsx("span",{children:"Uploading..."}),m.jsxs("span",{children:[j,"%"]})]}),m.jsx("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${j}%`}})})]})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsxs("button",{onClick:P,disabled:Q,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity disabled:opacity-50",children:[Q?m.jsx(Rn,{className:"w-4 h-4 animate-spin"}):m.jsx(hd,{className:"w-4 h-4"}),c?"Update Teacher":"Add Teacher"]}),m.jsx("button",{onClick:C,className:"px-5 py-2.5 rounded-lg border border-border text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"})]})]}),n.length===0?m.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-xl",children:[m.jsx(xi,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground",children:"No teachers added yet."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(Z=>{var Ce;return m.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[Z.photoURL?m.jsx("div",{className:"aspect-[3/2] bg-secondary",children:m.jsx("img",{src:Z.photoURL,alt:Z.name,className:"w-full h-full object-cover",crossOrigin:"anonymous"})}):m.jsx("div",{className:"aspect-[3/2] bg-secondary flex items-center justify-center",children:m.jsx(xi,{className:"w-10 h-10 text-muted-foreground/20"})}),m.jsxs("div",{className:"p-4",children:[m.jsx("h4",{className:"font-semibold text-foreground",children:Z.name}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[Z.qualification," ",Z.experience?`| ${Z.experience}`:""]}),m.jsx("p",{className:"text-xs text-primary font-medium mt-1",children:Z.medium}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:(Ce=Z.subjects)==null?void 0:Ce.map(me=>m.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-secondary text-secondary-foreground",children:me},me))}),m.jsxs("div",{className:"mt-3 flex gap-2",children:[m.jsxs("button",{onClick:()=>k(Z),className:"flex-1 flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium border border-border hover:bg-secondary transition-colors",children:[m.jsx(TP,{className:"w-3 h-3"})," Edit"]}),m.jsxs("button",{onClick:()=>L(Z),className:"flex-1 flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium text-destructive border border-destructive/20 hover:bg-destructive/10 transition-colors",children:[m.jsx($d,{className:"w-3 h-3"})," Delete"]})]})]})]},Z.id)})})]})}const tD=["English","Maths","Science","SS","Gujarati"],nD=Array.from({length:12},(n,e)=>`Std ${e+1}`);function rD(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState(!1),[c,h]=N.useState({title:"",description:"",subject:"",className:""}),[f,v]=N.useState(null),[w,x]=N.useState(!1),[b,I]=N.useState(0),[F,M]=N.useState(!1),j=N.useRef(null),[X,Q]=N.useState(!1),H=N.useCallback(async()=>{try{const T=bi(Zn(qt,"materials"),Ri("createdAt","desc")),R=await ki(T);e(R.docs.map(P=>({id:P.id,...P.data()})))}catch(T){console.error(T),He.error("Failed to load materials")}finally{s(!1)}},[]);N.useEffect(()=>{H()},[H]);const ne=["application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/jpg"],de=T=>{if(!ne.includes(T.type)){He.error("Only PDF, PPT, DOC, and images are accepted");return}if(T.size>25*1024*1024){He.error("File must be under 25MB");return}v(T)},K=async()=>{if(!c.title.trim()){He.error("Title is required");return}if(!f){He.error("Please select a file");return}if(!c.subject){He.error("Please select a subject");return}M(!0),x(!0);try{const T=`materials/${Date.now()}_${f.name}`,R=_i(wi,T),P=Fd(R,f),k=await new Promise((L,C)=>{P.on("state_changed",Oe=>I(Math.round(Oe.bytesTransferred/Oe.totalBytes*100)),C,async()=>{const Oe=await Bd(P.snapshot.ref);L(Oe)})});await Md(Zn(qt,"materials"),{...c,fileURL:k,fileName:f.name,fileType:f.type,createdAt:et.now()}),He.success("Material uploaded successfully"),a(!1),h({title:"",description:"",subject:"",className:""}),v(null),I(0),H()}catch(T){console.error(T),He.error("Failed to upload material")}finally{M(!1),x(!1)}},D=async T=>{if(confirm(`Delete "${T.title}"?`))try{if(await Vd(xa(qt,"materials",T.id)),T.fileURL)try{const R=_i(wi,T.fileURL);await zd(R)}catch{}He.success("Material deleted"),H()}catch{He.error("Failed to delete")}};return t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-6 h-6 animate-spin text-primary"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Study Materials"}),!o&&m.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity",children:[m.jsx(Ul,{className:"w-4 h-4"})," Upload Material"]})]}),o&&m.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6 animate-fade-in",children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Upload Material"}),m.jsx("button",{onClick:()=>{a(!1),v(null)},className:"p-1.5 rounded-lg hover:bg-secondary",children:m.jsx(su,{className:"w-5 h-5 text-muted-foreground"})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Title *"}),m.jsx("input",{type:"text",value:c.title,onChange:T=>h({...c,title:T.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Material title"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Subject *"}),m.jsxs("select",{value:c.subject,onChange:T=>h({...c,subject:T.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:"Select subject"}),tD.map(T=>m.jsx("option",{value:T,children:T},T))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Class"}),m.jsxs("select",{value:c.className,onChange:T=>h({...c,className:T.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:"Select class"}),nD.map(T=>m.jsx("option",{value:T,children:T},T))]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Description"}),m.jsx("textarea",{value:c.description,onChange:T=>h({...c,description:T.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-none",rows:2,placeholder:"Brief description"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"File (PDF, PPT, DOC, Image) *"}),m.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-colors ${X?"border-primary bg-primary/5":"border-input hover:border-primary/40"}`,onClick:()=>{var T;return(T=j.current)==null?void 0:T.click()},onDragOver:T=>{T.preventDefault(),Q(!0)},onDragLeave:()=>Q(!1),onDrop:T=>{var P;T.preventDefault(),Q(!1);const R=(P=T.dataTransfer.files)==null?void 0:P[0];R&&de(R)},children:f?m.jsxs("div",{className:"space-y-2",children:[m.jsx(cP,{className:"w-8 h-8 text-primary mx-auto"}),m.jsx("p",{className:"text-sm font-medium text-foreground",children:f.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[(f.size/1024/1024).toFixed(2)," MB"]})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx(hd,{className:"w-8 h-8 text-muted-foreground/40 mx-auto"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop or click to select"}),m.jsx("p",{className:"text-xs text-muted-foreground/60",children:"PDF, PPT, DOC, Images. Max 25MB."})]})}),m.jsx("input",{ref:j,type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.jpg,.jpeg,.png",className:"hidden",onChange:T=>{var P;const R=(P=T.target.files)==null?void 0:P[0];R&&de(R)}}),w&&m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[m.jsx("span",{children:"Uploading..."}),m.jsxs("span",{children:[b,"%"]})]}),m.jsx("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${b}%`}})})]})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsxs("button",{onClick:K,disabled:F,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 disabled:opacity-50",children:[F?m.jsx(Rn,{className:"w-4 h-4 animate-spin"}):m.jsx(hd,{className:"w-4 h-4"}),"Upload"]}),m.jsx("button",{onClick:()=>{a(!1),v(null)},className:"px-5 py-2.5 rounded-lg border border-border text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"})]})]}),n.length===0?m.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-xl",children:[m.jsx(dd,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground",children:"No materials uploaded yet."})]}):m.jsx("div",{className:"space-y-3",children:n.map(T=>m.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:m.jsx(dd,{className:"w-5 h-5 text-primary"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-foreground text-sm truncate",children:T.title}),m.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[m.jsx("span",{className:"text-xs text-primary font-medium",children:T.subject}),T.className&&m.jsx("span",{className:"text-xs text-muted-foreground",children:T.className}),m.jsx("span",{className:"text-xs text-muted-foreground",children:T.fileName})]})]}),m.jsx("button",{onClick:()=>D(T),className:"p-2 rounded-lg text-destructive hover:bg-destructive/10 transition-colors",children:m.jsx($d,{className:"w-4 h-4"})})]},T.id))})]})}const sD=["English","Maths","Science","SS","Gujarati"],iD=Array.from({length:12},(n,e)=>`Std ${e+1}`);function oD(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState(!1),[c,h]=N.useState({title:"",description:"",subject:"",className:"",videoURL:""}),[f,v]=N.useState(null),[w,x]=N.useState(null),[b,I]=N.useState(!1),[F,M]=N.useState(0),[j,X]=N.useState(!1),[Q,H]=N.useState(!1),ne=N.useRef(null),de=N.useCallback(async()=>{try{const k=bi(Zn(qt,"lectures"),Ri("createdAt","desc")),L=await ki(k);e(L.docs.map(C=>({id:C.id,...C.data()})))}catch(k){console.error(k),He.error("Failed to load lectures")}finally{s(!1)}},[]);N.useEffect(()=>{de()},[de]);const K=k=>{if(!k.type.match(/image\/(jpeg|png|jpg|webp)/)){He.error("Only JPG, PNG, or WebP images allowed");return}if(k.size>5*1024*1024){He.error("Image must be under 5MB");return}v(k),x(URL.createObjectURL(k))},D=async k=>{const L=`lecture-thumbnails/${Date.now()}_${k.name}`,C=_i(wi,L),Oe=Fd(C,k);return new Promise((Z,Ce)=>{Oe.on("state_changed",me=>{M(Math.round(me.bytesTransferred/me.totalBytes*100))},me=>Ce(me),async()=>{const me=await Bd(Oe.snapshot.ref);Z(me)})})},T=async()=>{if(!c.title.trim()){He.error("Title is required");return}if(!c.videoURL.trim()){He.error("Video URL is required");return}X(!0);try{let k="";f&&(I(!0),k=await D(f),I(!1)),await Md(Zn(qt,"lectures"),{...c,thumbnailURL:k,createdAt:et.now()}),He.success("Lecture added successfully"),P(),de()}catch(k){console.error(k),He.error("Failed to add lecture")}finally{X(!1),I(!1)}},R=async k=>{if(confirm(`Delete "${k.title}"?`))try{if(await Vd(xa(qt,"lectures",k.id)),k.thumbnailURL)try{const L=_i(wi,k.thumbnailURL);await zd(L)}catch{}He.success("Lecture deleted"),de()}catch{He.error("Failed to delete")}},P=()=>{a(!1),h({title:"",description:"",subject:"",className:"",videoURL:""}),v(null),x(null),M(0)};return t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-6 h-6 animate-spin text-primary"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Lectures Management"}),!o&&m.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity",children:[m.jsx(Ul,{className:"w-4 h-4"})," Add Lecture"]})]}),o&&m.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6 animate-fade-in",children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Lecture"}),m.jsx("button",{onClick:P,className:"p-1.5 rounded-lg hover:bg-secondary",children:m.jsx(su,{className:"w-5 h-5 text-muted-foreground"})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Title *"}),m.jsx("input",{type:"text",value:c.title,onChange:k=>h({...c,title:k.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Lecture title"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Video URL *"}),m.jsx("input",{type:"url",value:c.videoURL,onChange:k=>h({...c,videoURL:k.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"https://youtube.com/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Subject"}),m.jsxs("select",{value:c.subject,onChange:k=>h({...c,subject:k.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:"Select subject"}),sD.map(k=>m.jsx("option",{value:k,children:k},k))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Class"}),m.jsxs("select",{value:c.className,onChange:k=>h({...c,className:k.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:"Select class"}),iD.map(k=>m.jsx("option",{value:k,children:k},k))]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Description"}),m.jsx("textarea",{value:c.description,onChange:k=>h({...c,description:k.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring resize-none",rows:2,placeholder:"Brief description"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Thumbnail Image (JPG / PNG / WebP)"}),m.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-colors cursor-pointer ${Q?"border-primary bg-primary/5":"border-input hover:border-primary/40"}`,onClick:()=>{var k;return(k=ne.current)==null?void 0:k.click()},onDragOver:k=>{k.preventDefault(),H(!0)},onDragLeave:()=>H(!1),onDrop:k=>{var C;k.preventDefault(),H(!1);const L=(C=k.dataTransfer.files)==null?void 0:C[0];L&&K(L)},children:w?m.jsxs("div",{className:"space-y-3",children:[m.jsx("img",{src:w,alt:"Thumbnail preview",className:"max-w-[240px] max-h-[140px] rounded-lg object-cover mx-auto",crossOrigin:"anonymous"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Click or drop to change thumbnail"})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx(Cm,{className:"w-10 h-10 text-muted-foreground/40 mx-auto"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop or click to upload thumbnail"}),m.jsx("p",{className:"text-xs text-muted-foreground/60",children:"JPG, PNG, or WebP. Max 5MB. Recommended 16:9 ratio."})]})}),m.jsx("input",{ref:ne,type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",className:"hidden",onChange:k=>{var C;const L=(C=k.target.files)==null?void 0:C[0];L&&K(L)}}),b&&m.jsxs("div",{className:"mt-3",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[m.jsx("span",{children:"Uploading thumbnail..."}),m.jsxs("span",{children:[F,"%"]})]}),m.jsx("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${F}%`}})})]})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsxs("button",{onClick:T,disabled:j,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 disabled:opacity-50",children:[j?m.jsx(Rn,{className:"w-4 h-4 animate-spin"}):m.jsx(hd,{className:"w-4 h-4"}),"Add Lecture"]}),m.jsx("button",{onClick:P,className:"px-5 py-2.5 rounded-lg border border-border text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"})]})]}),n.length===0?m.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-xl",children:[m.jsx(Bl,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground",children:"No lectures added yet."})]}):m.jsx("div",{className:"space-y-3",children:n.map(k=>m.jsxs("div",{className:"bg-card border border-border rounded-xl p-3 flex items-center gap-4",children:[m.jsx("div",{className:"w-20 h-14 sm:w-28 sm:h-16 rounded-lg bg-secondary overflow-hidden shrink-0",children:k.thumbnailURL?m.jsx("img",{src:k.thumbnailURL,alt:k.title,className:"w-full h-full object-cover",crossOrigin:"anonymous"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:m.jsx(Bl,{className:"w-5 h-5 text-muted-foreground/30"})})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-foreground text-sm truncate",children:k.title}),m.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[k.subject&&m.jsx("span",{className:"text-xs text-primary font-medium",children:k.subject}),k.className&&m.jsx("span",{className:"text-xs text-muted-foreground",children:k.className})]})]}),m.jsx("a",{href:k.videoURL,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary font-medium hover:underline hidden sm:block",children:"Open"}),m.jsx("button",{onClick:()=>R(k),className:"p-2 rounded-lg text-destructive hover:bg-destructive/10 transition-colors",children:m.jsx($d,{className:"w-4 h-4"})})]},k.id))})]})}const aD=Array.from({length:12},(n,e)=>`Std ${e+1}`);function lD(){const[n,e]=N.useState([]),[t,s]=N.useState(!0),[o,a]=N.useState(!1),[c,h]=N.useState({studentName:"",className:"",percentage:"",year:"",achievement:""}),[f,v]=N.useState(null),[w,x]=N.useState(null),[b,I]=N.useState(!1),[F,M]=N.useState(!1),[j,X]=N.useState(0),Q=N.useRef(null),H=N.useCallback(async()=>{try{const K=bi(Zn(qt,"results"),Ri("createdAt","desc")),D=await ki(K);e(D.docs.map(T=>({id:T.id,...T.data()})))}catch(K){console.error(K),He.error("Failed to load results")}finally{s(!1)}},[]);N.useEffect(()=>{H()},[H]);const ne=async()=>{if(!c.studentName.trim()){He.error("Student name is required");return}I(!0);try{let K="";if(f){M(!0);const D=`results/${Date.now()}_${f.name}`,T=_i(wi,D),R=Fd(T,f);K=await new Promise((P,k)=>{R.on("state_changed",L=>X(Math.round(L.bytesTransferred/L.totalBytes*100)),k,async()=>{const L=await Bd(R.snapshot.ref);P(L)})}),M(!1)}await Md(Zn(qt,"results"),{...c,photoURL:K,createdAt:et.now()}),He.success("Result added successfully"),a(!1),h({studentName:"",className:"",percentage:"",year:"",achievement:""}),v(null),x(null),X(0),H()}catch(K){console.error(K),He.error("Failed to add result")}finally{I(!1),M(!1)}},de=async K=>{if(confirm(`Delete result for "${K.studentName}"?`))try{if(await Vd(xa(qt,"results",K.id)),K.photoURL)try{await zd(_i(wi,K.photoURL))}catch{}He.success("Result deleted"),H()}catch{He.error("Failed to delete")}};return t?m.jsx("div",{className:"flex items-center justify-center py-20",children:m.jsx(Rn,{className:"w-6 h-6 animate-spin text-primary"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Results Management"}),!o&&m.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 transition-opacity",children:[m.jsx(Ul,{className:"w-4 h-4"})," Add Result"]})]}),o&&m.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6 animate-fade-in",children:[m.jsxs("div",{className:"flex items-center justify-between mb-5",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Result"}),m.jsx("button",{onClick:()=>{a(!1),v(null),x(null)},className:"p-1.5 rounded-lg hover:bg-secondary",children:m.jsx(su,{className:"w-5 h-5 text-muted-foreground"})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Student Name *"}),m.jsx("input",{type:"text",value:c.studentName,onChange:K=>h({...c,studentName:K.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Student name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Class"}),m.jsxs("select",{value:c.className,onChange:K=>h({...c,className:K.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[m.jsx("option",{value:"",children:"Select class"}),aD.map(K=>m.jsx("option",{value:K,children:K},K))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Percentage / Grade"}),m.jsx("input",{type:"text",value:c.percentage,onChange:K=>h({...c,percentage:K.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g. 95% or A+"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Year"}),m.jsx("input",{type:"text",value:c.year,onChange:K=>h({...c,year:K.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g. 2025"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-1.5",children:"Achievement"}),m.jsx("input",{type:"text",value:c.achievement,onChange:K=>h({...c,achievement:K.target.value}),className:"w-full px-3 py-2.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"e.g. School Topper"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Photo (optional)"}),m.jsx("div",{className:"border-2 border-dashed rounded-xl p-6 text-center cursor-pointer border-input hover:border-primary/40 transition-colors",onClick:()=>{var K;return(K=Q.current)==null?void 0:K.click()},children:w?m.jsxs("div",{className:"space-y-2",children:[m.jsx("img",{src:w,alt:"Preview",className:"w-20 h-20 rounded-lg object-cover mx-auto",crossOrigin:"anonymous"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to change"})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsx(Cm,{className:"w-8 h-8 text-muted-foreground/40 mx-auto"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload photo"})]})}),m.jsx("input",{ref:Q,type:"file",accept:"image/*",className:"hidden",onChange:K=>{var T;const D=(T=K.target.files)==null?void 0:T[0];D&&(v(D),x(URL.createObjectURL(D)))}}),F&&m.jsx("div",{className:"mt-3",children:m.jsx("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${j}%`}})})})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsxs("button",{onClick:ne,disabled:b,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:opacity-90 disabled:opacity-50",children:[b?m.jsx(Rn,{className:"w-4 h-4 animate-spin"}):m.jsx(Ul,{className:"w-4 h-4"}),"Add Result"]}),m.jsx("button",{onClick:()=>{a(!1),v(null),x(null)},className:"px-5 py-2.5 rounded-lg border border-border text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"})]})]}),n.length===0?m.jsxs("div",{className:"text-center py-16 bg-card border border-border rounded-xl",children:[m.jsx(Fl,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground",children:"No results added yet."})]}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(K=>m.jsx("div",{className:"bg-card border border-border rounded-xl p-4",children:m.jsxs("div",{className:"flex items-start gap-3",children:[K.photoURL?m.jsx("img",{src:K.photoURL,alt:K.studentName,className:"w-12 h-12 rounded-lg object-cover",crossOrigin:"anonymous"}):m.jsx("div",{className:"w-12 h-12 rounded-lg bg-secondary flex items-center justify-center",children:m.jsx(Fl,{className:"w-5 h-5 text-muted-foreground/30"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-medium text-foreground text-sm",children:K.studentName}),m.jsxs("div",{className:"flex gap-2 mt-0.5",children:[K.className&&m.jsx("span",{className:"text-xs text-primary",children:K.className}),K.percentage&&m.jsx("span",{className:"text-xs font-bold text-accent-foreground",children:K.percentage})]}),K.achievement&&m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:K.achievement})]}),m.jsx("button",{onClick:()=>de(K),className:"p-1.5 rounded-lg text-destructive hover:bg-destructive/10 transition-colors",children:m.jsx($d,{className:"w-4 h-4"})})]})},K.id))})]})}const uD=[{id:"teachers",label:"Teachers",icon:xi},{id:"materials",label:"Materials",icon:dd},{id:"lectures",label:"Lectures",icon:Bl},{id:"results",label:"Results",icon:Fl}];function cD(){const{user:n,loading:e}=Qx(),t=pd(),[s,o]=N.useState("teachers");if(e)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:m.jsx(Rn,{className:"w-8 h-8 animate-spin text-primary"})});if(!n)return t("/admin",{replace:!0}),null;const a=async()=>{await Zb(km),t("/admin",{replace:!0})};return m.jsxs("div",{className:"min-h-screen bg-secondary",children:[m.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:m.jsx(pP,{className:"w-4 h-4 text-primary-foreground"})}),m.jsx("span",{className:"font-bold text-foreground",style:{fontFamily:"var(--font-heading)"},children:"Admin Panel"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:n.email}),m.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors",children:[m.jsx(vP,{className:"w-4 h-4"}),"Logout"]})]})]})}),m.jsx("div",{className:"bg-card border-b border-border",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"flex gap-1 overflow-x-auto py-2",children:uD.map(c=>m.jsxs("button",{onClick:()=>o(c.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${s===c.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[m.jsx(c.icon,{className:"w-4 h-4"}),c.label]},c.id))})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="teachers"&&m.jsx(eD,{}),s==="materials"&&m.jsx(rD,{}),s==="lectures"&&m.jsx(oD,{}),s==="results"&&m.jsx(lD,{})]})]})}function dD(){const n=Hr(),e=n.pathname==="/admin"||n.pathname==="/admin-panel";return m.jsxs(m.Fragment,{children:[!e&&m.jsx(VP,{}),m.jsx("main",{children:m.jsxs(lT,{children:[m.jsx(ds,{path:"/",element:m.jsx(BP,{})}),m.jsx(ds,{path:"/lectures",element:m.jsx(HP,{})}),m.jsx(ds,{path:"/notes",element:m.jsx(GP,{})}),m.jsx(ds,{path:"/teachers",element:m.jsx(KP,{})}),m.jsx(ds,{path:"/results",element:m.jsx(QP,{})}),m.jsx(ds,{path:"/contact",element:m.jsx(YP,{})}),m.jsx(ds,{path:"/admin",element:m.jsx(XP,{})}),m.jsx(ds,{path:"/admin-panel",element:m.jsx(cD,{})})]})}),!e&&m.jsx(MP,{})]})}function hD(){return m.jsxs(H2,{children:[m.jsx(UP,{}),m.jsx(dD,{}),m.jsx(gI,{position:"top-right",toastOptions:{style:{background:"var(--card)",color:"var(--foreground)",border:"1px solid var(--border)"}}})]})}d1.createRoot(document.getElementById("root")).render(m.jsx(ce.StrictMode,{children:m.jsx(PT,{children:m.jsx(hD,{})})}));
